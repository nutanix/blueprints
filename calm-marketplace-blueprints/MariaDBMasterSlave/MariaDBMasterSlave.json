{"status":{"description":"* sudo mysqladmin password $${MARIADB_PASSWORD}}\n* default password [ nutanix\/4u ]","state":"ACTIVE","message_list":[],"resources":{"service_definition_list":[{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"5d4f6bab-78d1-4575-aef5-b5b77b67ac2c","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"DAG","uuid":"aedfdec3-524a-472e-ab40-ce8fb734e2ce","child_tasks_local_reference_list":[{"kind":"app_task","name":"Configure Master","uuid":"cc3524f5-9a34-baf4-f57f-93c1f273a29d"},{"kind":"app_task","name":"Get Master Status","uuid":"889e80ca-23d9-ac85-b4e2-1fe2129cd5f3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Configure Master","uuid":"cc3524f5-9a34-baf4-f57f-93c1f273a29d"},"edge_type":"user_defined","type":"","uuid":"194fb6f6-9d97-b3f5-4f85-0f240208a938","to_task_reference":{"kind":"app_task","name":"Get Master Status","uuid":"889e80ca-23d9-ac85-b4e2-1fe2129cd5f3"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"5a264e52_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"EXEC","uuid":"cc3524f5-9a34-baf4-f57f-93c1f273a29d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash -ex\n\nsudo sed -i \"\/\\[mysqld\\]\/a innodb_flush_log_at_trx_commit=1\" \/etc\/my.cnf.d\/nutanix.cnf\nsudo sed -i \"\/\\[mysqld\\]\/a sync_binlog=1\" \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo mysql -u root -p'@@{AHV_Mariadb_Master.MARIADB_PASSWORD}@@' -e \"\ngrant replication slave on *.* TO slave@'%' identified by '@@{AHV_Mariadb_Master.MARIADB_PASSWORD}@@'\"\n\nsudo systemctl restart mysqld","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Configure Master"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"SET_VARIABLE","uuid":"889e80ca-23d9-ac85-b4e2-1fe2129cd5f3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nSTATE=`mysql -u root -p'@@{AHV_Mariadb_Master.MARIADB_PASSWORD}@@' -e 'show master status'`\n\necho BINLOG_FILE=`echo \"$STATE\" | awk 'END {print $1}'`\necho BINLOG_POSITION=`echo \"$STATE\" | awk 'END {print $2}'`","eval_variables":["BINLOG_FILE","BINLOG_POSITION"],"eval_scope":"local","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"},"type":"","script_type":"sh"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Get Master Status"}],"description":"","message_list":[],"uuid":"7638eea7-3e09-4527-abfe-1634a0ef0c5d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"5a264e52_dag","uuid":"aedfdec3-524a-472e-ab40-ce8fb734e2ce"},"name":"01bb4182_runbook"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"55e4a4f5-b4ef-44ba-b1a0-84d0dbe4c83d","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"DAG","uuid":"499f7611-1e32-4aea-8f8c-5139d3108d28","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c03b22fe_dag"}],"description":"","message_list":[],"uuid":"a587c2ba-ed41-44d7-89ca-119c2aea243a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c03b22fe_dag","uuid":"499f7611-1e32-4aea-8f8c-5139d3108d28"},"name":"3298ad28_runbook"}},{"description":"System action for starting an application","message_list":[],"uuid":"f79c1644-7d95-4a10-a45f-37a27b38e6ea","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"DAG","uuid":"dcba83c6-5fc7-484e-8425-c04ce61984f3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"6b1066a1_dag"}],"description":"","message_list":[],"uuid":"a149a768-1b0a-4c0d-adca-961466010e1e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"6b1066a1_dag","uuid":"dcba83c6-5fc7-484e-8425-c04ce61984f3"},"name":"1bf1bdf4_runbook"}},{"description":"System action for stopping an application","message_list":[],"uuid":"ed90abaf-5cbe-46b7-ac6e-2b10958a70f2","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"DAG","uuid":"4877624e-0299-4d4f-93c0-116423c2138b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"af3a3abc_dag"}],"description":"","message_list":[],"uuid":"d3e55cd9-e625-4419-b61f-8cf3482e5470","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"af3a3abc_dag","uuid":"4877624e-0299-4d4f-93c0-116423c2138b"},"name":"a068d42f_runbook"}},{"description":"System action for restarting an application","message_list":[],"uuid":"c2d82059-9fd4-4be6-9b2d-21819e3d7f29","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"DAG","uuid":"1c909d30-1014-4b72-b399-053282f6e37b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"e676c8c0_dag"}],"description":"","message_list":[],"uuid":"55bbca96-5ef0-40db-b35c-207fbf9cc9ea","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"e676c8c0_dag","uuid":"1c909d30-1014-4b72-b399-053282f6e37b"},"name":"dbeb27ce_runbook"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"8448876e-8e20-4896-935e-753439468199","name":"action_soft_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"DAG","uuid":"87ca7ee5-81ad-465c-8c26-7e3bb945d20f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"31686103-2a60-45c0-8fea-557e62225f10"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"31686103-2a60-45c0-8fea-557e62225f10","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_81fafe5f_3ef9_68b2_4594_91e64f4efcde"}],"description":"","message_list":[],"uuid":"beea089b-cdbb-4306-bb84-96c1b6dd0523","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"87ca7ee5-81ad-465c-8c26-7e3bb945d20f"},"name":"SYS_GEN__Runbook_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"}}],"message_list":[],"uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17","state":"ACTIVE","depends_on_list":[],"editables":{},"tier":"","singleton":false,"variable_list":[{"val_type":"STRING","description":"","message_list":[],"uuid":"ccc0bc61-8189-7616-3514-a00bcb82853b","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"type":"LOCAL","name":"BINLOG_FILE"},{"val_type":"STRING","description":"","message_list":[],"uuid":"e37f2e1a-7dfd-b826-0d04-074123c3451a","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"type":"LOCAL","name":"BINLOG_POSITION"}],"name":"MariaDB_Master"},{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"122e3438-1871-8513-049b-05eb2ee3a4da","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"DAG","uuid":"50baafd6-f7b2-ef23-8c24-4021b0b8ad45","child_tasks_local_reference_list":[{"kind":"app_task","name":"Configure MariaDB Slave","uuid":"9bfdc3e0-93e9-3366-0a2f-13d92a9561ab"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"5a264e52_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"EXEC","uuid":"9bfdc3e0-93e9-3366-0a2f-13d92a9561ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nmysql -u root -p'@@{MariaDB_Master.MARIADB_PASSWORD}@@' -e \"\nCHANGE MASTER TO MASTER_HOST='@@{MariaDB_Master.address}@@',MASTER_USER='slave', MASTER_PASSWORD='@@{MariaDB_Master.MARIADB_PASSWORD}@@', MASTER_LOG_FILE='@@{MariaDB_Master.BINLOG_FILE}@@', MASTER_LOG_POS=@@{MariaDB_Master.BINLOG_POSITION}@@;\nstart slave;\nshow slave status\\G\n\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Configure MariaDB Slave"}],"description":"","message_list":[],"uuid":"6690249c-6c8a-84bd-7b13-64d6f949aead","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"5a264e52_dag_cloned_1","uuid":"50baafd6-f7b2-ef23-8c24-4021b0b8ad45"},"name":"01bb4182_runbook_cloned_0"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"f03381b5-c9a3-c000-fbef-4ee5d112ad6e","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"DAG","uuid":"bdd6983b-d19f-aa91-e319-214846a51f34","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c03b22fe_dag_cloned_1"}],"description":"","message_list":[],"uuid":"6ec95eca-af06-5bf9-3cce-cca14796b40e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c03b22fe_dag_cloned_1","uuid":"bdd6983b-d19f-aa91-e319-214846a51f34"},"name":"3298ad28_runbook_cloned_0"}},{"description":"System action for starting an application","message_list":[],"uuid":"b0887a2e-a925-e917-ee89-379f6258f535","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"DAG","uuid":"31654a2f-d869-7959-4fe6-6d3bfd7aab05","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"6b1066a1_dag_cloned_1"}],"description":"","message_list":[],"uuid":"8100cf75-08e3-5484-c2d7-8ad69b90b55c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"6b1066a1_dag_cloned_1","uuid":"31654a2f-d869-7959-4fe6-6d3bfd7aab05"},"name":"1bf1bdf4_runbook_cloned_0"}},{"description":"System action for stopping an application","message_list":[],"uuid":"7e957bf1-ce19-0e35-1245-7f934abf31d9","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"DAG","uuid":"50363faf-49b3-bbd5-cfcb-721a173991b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"af3a3abc_dag_cloned_1"}],"description":"","message_list":[],"uuid":"a83f324f-70bf-b175-d781-d9467d906c54","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"af3a3abc_dag_cloned_1","uuid":"50363faf-49b3-bbd5-cfcb-721a173991b5"},"name":"a068d42f_runbook_cloned_0"}},{"description":"System action for restarting an application","message_list":[],"uuid":"090f3091-2e7c-66ab-d238-d06ff9ea5574","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"DAG","uuid":"8cc6a7a3-af3c-6a5a-f4e9-f8007337c4c3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"e676c8c0_dag_cloned_1"}],"description":"","message_list":[],"uuid":"2e83b648-6f2b-8e57-1988-4c3d16a391f3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"e676c8c0_dag_cloned_1","uuid":"8cc6a7a3-af3c-6a5a-f4e9-f8007337c4c3"},"name":"dbeb27ce_runbook_cloned_0"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"5de2117e-8c8f-4b8e-b5fb-1450a917d8d2","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"DAG","uuid":"14da3ef1-d45a-44e7-a351-a35dd5c57924","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"519122f3-cc41-4b4e-bf63-741a6d7de20d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"519122f3-cc41-4b4e-bf63-741a6d7de20d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"}],"description":"","message_list":[],"uuid":"06651f9b-3852-4792-b0b4-a9bd1292ea2a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"14da3ef1-d45a-44e7-a351-a35dd5c57924"},"name":"SYS_GEN__Runbook_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"}}],"message_list":[],"uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2","state":"ACTIVE","depends_on_list":[],"editables":{},"tier":"","singleton":false,"variable_list":[],"name":"MariaDB_Slave"}],"substrate_definition_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"63c83313-6663-493f-96b0-77dbbbecd1cc","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"DAG","uuid":"c4fe51f3-2ac3-43f9-a40d-66d0b103b391","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_d317cf5f_4470_4a4d_b42b_08abfe1c2fca","uuid":"026b1ac1-9726-439c-9e8f-05752b81d952"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_Mariadb_Master_d317cf5f_4470_4a4d_b42b_08abfe1c2fca","uuid":"161fcd60-be1f-43df-b928-68a2c60ef9dc"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_d317cf5f_4470_4a4d_b42b_08abfe1c2fca","uuid":"026b1ac1-9726-439c-9e8f-05752b81d952"},"edge_type":"inherent","type":"","uuid":"7bba8259-d0ad-461d-8d6f-be3c860d488d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_Mariadb_Master_d317cf5f_4470_4a4d_b42b_08abfe1c2fca","uuid":"161fcd60-be1f-43df-b928-68a2c60ef9dc"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"026b1ac1-9726-439c-9e8f-05752b81d952","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"MariaDB-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":16384,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"e25ee58d-3405-21e3-cd82-7f0aa3cb9d0d"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_d317cf5f_4470_4a4d_b42b_08abfe1c2fca"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"161fcd60-be1f-43df-b928-68a2c60ef9dc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHV_Mariadb_Master_d317cf5f_4470_4a4d_b42b_08abfe1c2fca"}],"description":"","message_list":[],"uuid":"216ed7e9-73e4-4602-a27c-7cbb937ebea9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"c4fe51f3-2ac3-43f9-a40d-66d0b103b391"},"name":"SYS_GEN__Runbook_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"}},{"description":"System action for powering on an application","message_list":[],"uuid":"0023963d-824a-4d17-b267-23482f793ff7","name":"action_poweron","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"DAG","uuid":"f1d8e7ca-6a6c-4646-87a3-64b62d5acb90","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_d317cf5f_4470_4a4d_b42b_08abfe1c2fca","uuid":"91ba5ab0-29ca-437b-914e-e8cbf4dd094c"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_Mariadb_Master_d317cf5f_4470_4a4d_b42b_08abfe1c2fca","uuid":"dc5028fd-e446-41b6-bff2-39a07d7d57dd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_d317cf5f_4470_4a4d_b42b_08abfe1c2fca","uuid":"91ba5ab0-29ca-437b-914e-e8cbf4dd094c"},"edge_type":"inherent","type":"","uuid":"85f71ee0-1e6e-48ad-a1f3-e2480c4bd415","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_Mariadb_Master_d317cf5f_4470_4a4d_b42b_08abfe1c2fca","uuid":"dc5028fd-e446-41b6-bff2-39a07d7d57dd"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"91ba5ab0-29ca-437b-914e-e8cbf4dd094c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_d317cf5f_4470_4a4d_b42b_08abfe1c2fca"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"dc5028fd-e446-41b6-bff2-39a07d7d57dd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHV_Mariadb_Master_d317cf5f_4470_4a4d_b42b_08abfe1c2fca"}],"description":"","message_list":[],"uuid":"54e60965-43a4-4e6a-bbb3-315d75f4a876","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"f1d8e7ca-6a6c-4646-87a3-64b62d5acb90"},"name":"SYS_GEN__Runbook_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"}},{"description":"System action for restarting an application","message_list":[],"uuid":"e6e49e26-b03d-4ba2-b811-1f0cac5c051f","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"DAG","uuid":"ff739587-7e54-4f94-b9ac-458abb49ee49","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_d317cf5f_4470_4a4d_b42b_08abfe1c2fca","uuid":"9b8e925e-63a4-4274-becc-7332c4adfcc4"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_Mariadb_Master_d317cf5f_4470_4a4d_b42b_08abfe1c2fca","uuid":"c68c4ccb-b05a-4f04-8eed-1fb9b3120d23"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_d317cf5f_4470_4a4d_b42b_08abfe1c2fca","uuid":"9b8e925e-63a4-4274-becc-7332c4adfcc4"},"edge_type":"inherent","type":"","uuid":"ea78fc15-0e42-48f7-96ed-79ea7af9fc88","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_Mariadb_Master_d317cf5f_4470_4a4d_b42b_08abfe1c2fca","uuid":"c68c4ccb-b05a-4f04-8eed-1fb9b3120d23"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"9b8e925e-63a4-4274-becc-7332c4adfcc4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_d317cf5f_4470_4a4d_b42b_08abfe1c2fca"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"c68c4ccb-b05a-4f04-8eed-1fb9b3120d23","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHV_Mariadb_Master_d317cf5f_4470_4a4d_b42b_08abfe1c2fca"}],"description":"","message_list":[],"uuid":"47ab8fe3-9c87-4bcf-91a7-e5ee3c96e2fe","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"ff739587-7e54-4f94-b9ac-458abb49ee49"},"name":"SYS_GEN__Runbook_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"}},{"description":"System action for suspending an application","message_list":[],"uuid":"ba7cfc06-4ab2-4f15-8fce-be4b8a03143c","name":"action_suspend","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"DAG","uuid":"2f489a94-59bd-4dfa-ac75-9c70ac6eaed0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"}],"description":"","message_list":[],"uuid":"aaf45dc4-7671-43e9-87eb-83577060b1fc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"2f489a94-59bd-4dfa-ac75-9c70ac6eaed0"},"name":"SYS_GEN__Runbook_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"}},{"description":"System action for modifying an application","message_list":[],"uuid":"8b68ef1d-af5e-4b72-9d4f-1d7beafff1f4","name":"action_modify","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"DAG","uuid":"204fcbaa-d262-484e-98a7-d38206fd32d3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"}],"description":"","message_list":[],"uuid":"18b028c3-0326-49fe-b9bd-207462fd3db1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"204fcbaa-d262-484e-98a7-d38206fd32d3"},"name":"SYS_GEN__Runbook_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"}},{"description":"System action for powering off an application","message_list":[],"uuid":"baf0d5cc-62c7-4eb5-aa60-922982ce88b9","name":"action_poweroff","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"DAG","uuid":"e403ae91-51c0-49aa-846e-84da43a18a32","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_d317cf5f_4470_4a4d_b42b_08abfe1c2fca","uuid":"347228a3-5d51-4885-b6aa-3f28554cea40"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"347228a3-5d51-4885-b6aa-3f28554cea40","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_d317cf5f_4470_4a4d_b42b_08abfe1c2fca"}],"description":"","message_list":[],"uuid":"488c6dde-d4cf-4bf8-aae5-ff20318263f3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"e403ae91-51c0-49aa-846e-84da43a18a32"},"name":"SYS_GEN__Runbook_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"9fff5220-d715-4256-82e4-43fe66e814a9","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"DAG","uuid":"77449490-3b06-40e3-b6a1-f27aa40a5c01","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_d317cf5f_4470_4a4d_b42b_08abfe1c2fca","uuid":"edd88534-eec7-4b1c-b4f2-b4d9258701d7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"edd88534-eec7-4b1c-b4f2-b4d9258701d7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_d317cf5f_4470_4a4d_b42b_08abfe1c2fca"}],"description":"","message_list":[],"uuid":"d814ab30-73cc-4d67-80e5-4d689189e11e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"77449490-3b06-40e3-b6a1-f27aa40a5c01"},"name":"SYS_GEN__Runbook_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"070092a9-e5b5-4ffd-9647-6f834684505b","name":"action_soft_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"DAG","uuid":"ede1976a-25fc-47cc-8c0d-527516cd9aee","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_d317cf5f_4470_4a4d_b42b_08abfe1c2fca","uuid":"ef9ff47c-ef15-4035-a8a0-402d05506e08"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"ef9ff47c-ef15-4035-a8a0-402d05506e08","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_d317cf5f_4470_4a4d_b42b_08abfe1c2fca"}],"description":"","message_list":[],"uuid":"3e3f368e-d484-47f0-a1a6-ed5728985332","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"ede1976a-25fc-47cc-8c0d-527516cd9aee"},"name":"SYS_GEN__Runbook_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"}}],"message_list":[],"uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"categories":true,"resources":{"nic_list":{"0":{"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true},"0":{"data_source_reference":true,"device_properties":{"disk_address":{"adapter_type":true},"device_type":true}},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"8":{"disk_size_mib":true}}},"name":true}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"MariaDB-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":16384,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"e25ee58d-3405-21e3-cd82-7f0aa3cb9d0d"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"variable_list":[],"name":"AHV_Mariadb_Master"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"26d82eb7-9e6b-4a3d-b77f-bf7e88ab06e2","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"DAG","uuid":"4078de79-fd0a-4d05-9c93-5182f137e631","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"c5f96537-4c5e-41e9-9b14-120916fd04fc"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_Mariadb_Slave_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"41bcb029-3231-418e-a112-5dbf1cb05cf1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"c5f96537-4c5e-41e9-9b14-120916fd04fc"},"edge_type":"inherent","type":"","uuid":"fb6af0b5-17fd-4280-bfb3-7e7ccd47fa0f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_Mariadb_Slave_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"41bcb029-3231-418e-a112-5dbf1cb05cf1"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"c5f96537-4c5e-41e9-9b14-120916fd04fc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"MariaDB-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":16384,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"e25ee58d-3405-21e3-cd82-7f0aa3cb9d0d"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"41bcb029-3231-418e-a112-5dbf1cb05cf1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHV_Mariadb_Slave_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"}],"description":"","message_list":[],"uuid":"1bb7bd93-fa84-410b-9066-7d21067ab9bc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"4078de79-fd0a-4d05-9c93-5182f137e631"},"name":"SYS_GEN__Runbook_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"}},{"description":"System action for powering on an application","message_list":[],"uuid":"f1e242ff-a0c3-491d-bcea-1479338ac461","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"DAG","uuid":"517097c8-13cb-4838-8106-68413eac24f9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"1cabe689-7051-40c4-a9c1-6bd18009e321"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_Mariadb_Slave_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"905ff280-5588-4be5-8229-1e20b2e83c23"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"1cabe689-7051-40c4-a9c1-6bd18009e321"},"edge_type":"inherent","type":"","uuid":"f29a5aa1-89b2-415a-b61a-b226474444e1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_Mariadb_Slave_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"905ff280-5588-4be5-8229-1e20b2e83c23"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"1cabe689-7051-40c4-a9c1-6bd18009e321","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"905ff280-5588-4be5-8229-1e20b2e83c23","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHV_Mariadb_Slave_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"}],"description":"","message_list":[],"uuid":"a9377340-5133-4a15-91e0-cb12c3a6d590","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"517097c8-13cb-4838-8106-68413eac24f9"},"name":"SYS_GEN__Runbook_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"}},{"description":"System action for restarting an application","message_list":[],"uuid":"3ff81de7-72b6-4f37-ab04-67e156c65f26","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"DAG","uuid":"20ffd1d4-a98b-4087-93ba-3608f027081c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"46b5940f-8f8e-4ef5-99d6-7dbe5edd22f0"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_Mariadb_Slave_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"c7350989-d98b-45cd-939e-863db7f874be"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"46b5940f-8f8e-4ef5-99d6-7dbe5edd22f0"},"edge_type":"inherent","type":"","uuid":"49115aa1-3d86-4937-a6d3-6e837ad03879","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_Mariadb_Slave_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"c7350989-d98b-45cd-939e-863db7f874be"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"46b5940f-8f8e-4ef5-99d6-7dbe5edd22f0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"c7350989-d98b-45cd-939e-863db7f874be","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHV_Mariadb_Slave_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"}],"description":"","message_list":[],"uuid":"da36ff8e-77c3-4496-8527-60d0ed74681a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"20ffd1d4-a98b-4087-93ba-3608f027081c"},"name":"SYS_GEN__Runbook_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"}},{"description":"System action for suspending an application","message_list":[],"uuid":"eebe1667-ea11-4270-aae1-6a71fb9342e1","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"DAG","uuid":"fdcbfb5c-c701-4c09-af1b-eb57c58a1745","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"}],"description":"","message_list":[],"uuid":"a2132733-189f-4d2b-b386-e2cc52edd5cd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"fdcbfb5c-c701-4c09-af1b-eb57c58a1745"},"name":"SYS_GEN__Runbook_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"}},{"description":"System action for modifying an application","message_list":[],"uuid":"c96d32e5-0fd9-426f-a805-32df9db49622","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"DAG","uuid":"d1d2ebe7-40b5-463d-8f37-56886d9ae419","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"}],"description":"","message_list":[],"uuid":"13ce15d4-ae4a-4f65-9226-698bdd311843","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"d1d2ebe7-40b5-463d-8f37-56886d9ae419"},"name":"SYS_GEN__Runbook_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"}},{"description":"System action for powering off an application","message_list":[],"uuid":"3b10771b-1f5f-4fc2-8401-53ccf30368fb","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"DAG","uuid":"1a477663-891a-4117-9ca7-959f4f519e80","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"60bbd4e7-1adb-4a07-8596-bcbb888bfb04"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"60bbd4e7-1adb-4a07-8596-bcbb888bfb04","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"}],"description":"","message_list":[],"uuid":"dad5d0de-48fd-4e92-b9ed-6db486404d62","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"1a477663-891a-4117-9ca7-959f4f519e80"},"name":"SYS_GEN__Runbook_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"1623b044-ee75-4892-90a7-990638b2b8ed","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"DAG","uuid":"c85b4df9-fec5-4d10-a042-cd5fbcb20695","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"24a86115-beb6-4697-8fb1-26d20669a601"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"24a86115-beb6-4697-8fb1-26d20669a601","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"}],"description":"","message_list":[],"uuid":"a7f23026-b74a-490b-bbc6-ebb0439b3767","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"c85b4df9-fec5-4d10-a042-cd5fbcb20695"},"name":"SYS_GEN__Runbook_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"3e5d855c-bb75-4e29-a44e-994e82678c63","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"DAG","uuid":"0f0928e1-1e78-4535-aeca-68bcd489ce80","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"d587695d-4308-492f-a0bd-cfeb1d014643"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"d587695d-4308-492f-a0bd-cfeb1d014643","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"}],"description":"","message_list":[],"uuid":"f65c4c4f-17e7-4450-886b-47c9789fbc6b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"0f0928e1-1e78-4535-aeca-68bcd489ce80"},"name":"SYS_GEN__Runbook_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"}}],"message_list":[],"uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"categories":true,"resources":{"nic_list":{"0":{"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true},"0":{"data_source_reference":true,"device_properties":{"disk_address":{"adapter_type":true},"device_type":true}},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"8":{"disk_size_mib":true}}},"name":true}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"MariaDB-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":16384,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"e25ee58d-3405-21e3-cd82-7f0aa3cb9d0d"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"variable_list":[],"name":"AHV_Mariadb_Slave"}],"credential_definition_list":[{"username":"centos","description":"","state":"ACTIVE","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{},"type":"KEY","name":"CENTOS"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"12e46505-a634-4ebf-ad7b-26c185230b8f","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"retries":"0","description":"","type":"DAG","uuid":"28fbd9c8-b487-4b16-ba64-3a5a49048595","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"7c17e0ca-0f59-434a-9938-d9fec798ee2e"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"e23c98fc-638a-421d-b085-d123217570d9"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"84b404ce-ca79-41be-980b-f5146dfd0fdc"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"ccb5686e-1a4f-4930-bfd6-ad3d109c4ecd"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"4c18c9f0-7023-41e8-bf35-dc4b1660b322"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"8be2cd42-1486-4a77-963b-cf6cb70c7a37"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"4c18c9f0-7023-41e8-bf35-dc4b1660b322"},"edge_type":"inherent","type":"","uuid":"2040ee0b-9044-4b38-b9d3-58db35240da4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"8be2cd42-1486-4a77-963b-cf6cb70c7a37"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"ccb5686e-1a4f-4930-bfd6-ad3d109c4ecd"},"edge_type":"inherent","type":"","uuid":"b3921f1d-f0cc-4eba-82f5-b3ee971df049","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"4c18c9f0-7023-41e8-bf35-dc4b1660b322"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"7c17e0ca-0f59-434a-9938-d9fec798ee2e"},"edge_type":"inherent","type":"","uuid":"7f0577e8-b8af-4b27-a0dc-cafdec566219","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"84b404ce-ca79-41be-980b-f5146dfd0fdc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"84b404ce-ca79-41be-980b-f5146dfd0fdc"},"edge_type":"inherent","type":"","uuid":"9dc05e6c-0298-408e-a0f6-157f5d787ac3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"ccb5686e-1a4f-4930-bfd6-ad3d109c4ecd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"e23c98fc-638a-421d-b085-d123217570d9"},"edge_type":"inherent","type":"","uuid":"08500848-ef83-430e-ac0b-7be55e158915","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"84b404ce-ca79-41be-980b-f5146dfd0fdc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"7c17e0ca-0f59-434a-9938-d9fec798ee2e"},"edge_type":"inherent","type":"","uuid":"46eddb67-0863-4780-9362-1c4813f140f3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"e23c98fc-638a-421d-b085-d123217570d9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"7c17e0ca-0f59-434a-9938-d9fec798ee2e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_3c764b76_9cb0_2a37_6209_e4f960500dea"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"e25ee58d-3405-21e3-cd82-7f0aa3cb9d0d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e23c98fc-638a-421d-b085-d123217570d9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"cee3b529-af98-4777-86b9-8f42f417fe67"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"84b404ce-ca79-41be-980b-f5146dfd0fdc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"216ed7e9-73e4-4602-a27c-7cbb937ebea9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ccb5686e-1a4f-4930-bfd6-ad3d109c4ecd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"95129cb6-52d3-4760-b6f0-8dfa351f0ec1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4c18c9f0-7023-41e8-bf35-dc4b1660b322","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"01bb4182_runbook","uuid":"7638eea7-3e09-4527-abfe-1634a0ef0c5d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8be2cd42-1486-4a77-963b-cf6cb70c7a37","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1bf1bdf4_runbook","uuid":"a149a768-1b0a-4c0d-adca-961466010e1e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"}],"description":"","message_list":[],"uuid":"1c1db653-1510-4089-a2eb-49f41cff2d0d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"28fbd9c8-b487-4b16-ba64-3a5a49048595"},"name":"SYS_GEN__Runbook_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea"}},{"description":"System action for starting an application","message_list":[],"uuid":"d93bb49a-14c1-492f-851b-33e50ee1347e","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"retries":"0","description":"","type":"DAG","uuid":"a407187e-b58f-4931-b7a4-b0d2615a0f2f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"7f354080-98d3-4d67-b39f-b9e4ad381a34"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"92699f6e-765c-4954-8328-225ffb5245bb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"7f354080-98d3-4d67-b39f-b9e4ad381a34"},"edge_type":"inherent","type":"","uuid":"20cfcdf3-f76f-4e8e-a1b1-eda2eb6c26fb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"92699f6e-765c-4954-8328-225ffb5245bb"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7f354080-98d3-4d67-b39f-b9e4ad381a34","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"54e60965-43a4-4e6a-bbb3-315d75f4a876"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"92699f6e-765c-4954-8328-225ffb5245bb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1bf1bdf4_runbook","uuid":"a149a768-1b0a-4c0d-adca-961466010e1e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"}],"description":"","message_list":[],"uuid":"9ebf6c6a-b2e3-4a0f-97a1-a6a1d462f2f7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"a407187e-b58f-4931-b7a4-b0d2615a0f2f"},"name":"SYS_GEN__Runbook_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea"}},{"description":"System action for restarting an application","message_list":[],"uuid":"3458e3bd-8e97-4917-be08-928321bf10e8","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"retries":"0","description":"","type":"DAG","uuid":"fa96bd5a-ce04-45f7-80d1-1415920649ab","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"59bb8565-16d8-4a7e-9439-ef9120640fdd"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"8bcfa46e-c196-4b76-843c-755082a47b54"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"59bb8565-16d8-4a7e-9439-ef9120640fdd"},"edge_type":"inherent","type":"","uuid":"acdf18e0-fbcc-411b-a3e1-4a4e2eb907d3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"8bcfa46e-c196-4b76-843c-755082a47b54"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"59bb8565-16d8-4a7e-9439-ef9120640fdd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"47ab8fe3-9c87-4bcf-91a7-e5ee3c96e2fe"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8bcfa46e-c196-4b76-843c-755082a47b54","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"dbeb27ce_runbook","uuid":"55bbca96-5ef0-40db-b35c-207fbf9cc9ea"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"}],"description":"","message_list":[],"uuid":"13a58b1e-6cd0-4ac3-baac-6df2c5eebac6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"fa96bd5a-ce04-45f7-80d1-1415920649ab"},"name":"SYS_GEN__Runbook_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea"}},{"description":"System action for stopping an application","message_list":[],"uuid":"7216816a-9ced-4126-baa6-a1a09f3a1bea","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"retries":"0","description":"","type":"DAG","uuid":"8e94320e-6cbc-425e-b87d-a44d8a9c024d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"7ab301bb-45a6-49ba-8b88-a5ede2f84047"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"3876d9ed-66a5-489f-a476-407e280da3a6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"7ab301bb-45a6-49ba-8b88-a5ede2f84047"},"edge_type":"inherent","type":"","uuid":"c7892afa-b4b2-4c6c-9214-cab26e128679","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"3876d9ed-66a5-489f-a476-407e280da3a6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7ab301bb-45a6-49ba-8b88-a5ede2f84047","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a068d42f_runbook","uuid":"d3e55cd9-e625-4419-b61f-8cf3482e5470"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3876d9ed-66a5-489f-a476-407e280da3a6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"488c6dde-d4cf-4bf8-aae5-ff20318263f3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"}],"description":"","message_list":[],"uuid":"b2540bcc-79ec-4d44-bb30-e3c383538b2b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"8e94320e-6cbc-425e-b87d-a44d8a9c024d"},"name":"SYS_GEN__Runbook_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"4b099e42-7e2a-4031-b05d-fa737e7eb975","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"retries":"0","description":"","type":"DAG","uuid":"4d9087e5-0f27-4225-bfdf-f40c54f102cc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"61bc7971-2897-47b3-aedd-f31dde0c8c8f"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"90728208-4b34-42c9-99d9-1fde03b3dc5d"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"fb7a9b3a-665d-4e4e-8547-6a789555a51d"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"7a3ad1ad-8a55-4915-a9ca-f9781271432b"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"2dcdb801-5379-4953-8250-dbf092b1d4e2"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"61bc7971-2897-47b3-aedd-f31dde0c8c8f"},"edge_type":"inherent","type":"","uuid":"2f247a82-0006-45c4-af28-df9cf9f4cddd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"90728208-4b34-42c9-99d9-1fde03b3dc5d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"90728208-4b34-42c9-99d9-1fde03b3dc5d"},"edge_type":"inherent","type":"","uuid":"a0a7143d-0c62-4371-97e5-b30c8fa48221","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"fb7a9b3a-665d-4e4e-8547-6a789555a51d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"7a3ad1ad-8a55-4915-a9ca-f9781271432b"},"edge_type":"inherent","type":"","uuid":"22e88e5e-d6c1-4437-95d0-303b7bc66ba4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"2dcdb801-5379-4953-8250-dbf092b1d4e2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"fb7a9b3a-665d-4e4e-8547-6a789555a51d"},"edge_type":"inherent","type":"","uuid":"7fb7c645-fc90-4fca-a7f8-9e1fb6ae2bbe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"7a3ad1ad-8a55-4915-a9ca-f9781271432b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"61bc7971-2897-47b3-aedd-f31dde0c8c8f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a068d42f_runbook","uuid":"d3e55cd9-e625-4419-b61f-8cf3482e5470"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"90728208-4b34-42c9-99d9-1fde03b3dc5d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3298ad28_runbook","uuid":"a587c2ba-ed41-44d7-89ca-119c2aea243a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fb7a9b3a-665d-4e4e-8547-6a789555a51d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"aee28839-54f5-491e-bf63-eac010631e59"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7a3ad1ad-8a55-4915-a9ca-f9781271432b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"d814ab30-73cc-4d67-80e5-4d689189e11e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"2dcdb801-5379-4953-8250-dbf092b1d4e2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_3c764b76_9cb0_2a37_6209_e4f960500dea"}],"description":"","message_list":[],"uuid":"6edeab9c-17ae-4502-8d97-da788d2a19dd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"4d9087e5-0f27-4225-bfdf-f40c54f102cc"},"name":"SYS_GEN__Runbook_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea"}},{"description":"System action for scaleout","message_list":[],"uuid":"7fd3b5a9-36e0-4e1c-a737-756ee0cb1fbc","name":"action_scaleout","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"retries":"0","description":"","type":"DAG","uuid":"5445bc53-f0dd-4700-8425-38bc74129f4b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"6c6736a1-b5d1-470b-bed1-599003348bd9"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"retries":"0","description":"","type":"SCALING","uuid":"6c6736a1-b5d1-470b-bed1-599003348bd9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_3c764b76_9cb0_2a37_6209_e4f960500dea"}],"description":"","message_list":[],"uuid":"bcc51d4d-bdaa-49ae-b481-7be6de8faacb","state":"ACTIVE","variable_list":[{"val_type":"STRING","description":"","message_list":[],"uuid":"26344423-d198-4ecb-af02-16e7f86dcbd2","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"type":"LOCAL","name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"5445bc53-f0dd-4700-8425-38bc74129f4b"},"name":"SYS_GEN__Runbook_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea"}},{"description":"System action for scalein","message_list":[],"uuid":"1c2c58f5-9d73-4032-8993-68cc1b64a039","name":"action_scalein","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"retries":"0","description":"","type":"DAG","uuid":"8aa62613-a408-45ea-a025-d0ffc666371e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"6293a6a1-4b4a-4dda-a489-178642cb39a3"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"retries":"0","description":"","type":"SCALING","uuid":"6293a6a1-4b4a-4dda-a489-178642cb39a3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_3c764b76_9cb0_2a37_6209_e4f960500dea"}],"description":"","message_list":[],"uuid":"7eabc623-9f42-4ebb-9f80-9f28512a2373","state":"ACTIVE","variable_list":[{"val_type":"STRING","description":"","message_list":[],"uuid":"2ab5b3e1-308d-4a99-9bbc-0f853b273d3d","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"type":"LOCAL","name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"8aa62613-a408-45ea-a025-d0ffc666371e"},"name":"SYS_GEN__Runbook_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"0c20b794-ddbb-4cb2-bcd3-da08e629b666","name":"action_soft_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"retries":"0","description":"","type":"DAG","uuid":"193926db-10bf-419b-88c5-3922e8c9ed6c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"f6fac2c2-79a0-4e25-b050-8f8db7808190"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"df1ff098-934e-44ba-8074-39c346a89bbb"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"645f6403-be5c-4479-9f3a-8818a85b42b8"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"92763f2f-757b-4290-8c1d-75bfc2de0795"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"f6fac2c2-79a0-4e25-b050-8f8db7808190"},"edge_type":"inherent","type":"","uuid":"666b410a-2fc6-4c41-88ea-ff632ff1b227","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"df1ff098-934e-44ba-8074-39c346a89bbb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"645f6403-be5c-4479-9f3a-8818a85b42b8"},"edge_type":"inherent","type":"","uuid":"e859e256-7c5e-4ade-91eb-c508e7abfaba","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"92763f2f-757b-4290-8c1d-75bfc2de0795"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"df1ff098-934e-44ba-8074-39c346a89bbb"},"edge_type":"inherent","type":"","uuid":"04dfb595-3b06-4cb6-a4a6-55ee2ac8be2d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"645f6403-be5c-4479-9f3a-8818a85b42b8"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f6fac2c2-79a0-4e25-b050-8f8db7808190","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"beea089b-cdbb-4306-bb84-96c1b6dd0523"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"df1ff098-934e-44ba-8074-39c346a89bbb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"645f6403-be5c-4479-9f3a-8818a85b42b8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"3e3f368e-d484-47f0-a1a6-ed5728985332"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"92763f2f-757b-4290-8c1d-75bfc2de0795","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_3c764b76_9cb0_2a37_6209_e4f960500dea"}],"description":"","message_list":[],"uuid":"a1ea2ca6-99bb-49e2-8b9e-6ca10314768b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"193926db-10bf-419b-88c5-3922e8c9ed6c"},"name":"SYS_GEN__Runbook_Deployment_3c764b76_9cb0_2a37_6209_e4f960500dea"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"}],"substrate_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"a7b3d65f_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"f5aa1e0b-dba1-4067-bbed-db8a555e6e5b","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"retries":"0","description":"","type":"DAG","uuid":"bd997db4-e4fc-45c9-b7a0-283ab266aed6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"357c5d28-3875-48d8-bfa7-d0b7457cbb70"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"af706950-6e16-4903-ba3a-7df874ddee60"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"9108afa3-c64d-4afa-8f1f-b3ff22d42913"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"c4a820b1-35c6-4fee-a29e-2d1a9d7f663b"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"cdc1b848-ec7c-4a63-bd9a-e37a319dee45"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"cbed9adc-7468-434f-bf05-e1f3695be059"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"cdc1b848-ec7c-4a63-bd9a-e37a319dee45"},"edge_type":"inherent","type":"","uuid":"5e7dd7c2-442c-455a-a19e-6b18613bbb2e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"cbed9adc-7468-434f-bf05-e1f3695be059"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"c4a820b1-35c6-4fee-a29e-2d1a9d7f663b"},"edge_type":"inherent","type":"","uuid":"48a333c1-8c85-42cc-8ee9-e2c652a2169e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"cdc1b848-ec7c-4a63-bd9a-e37a319dee45"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"357c5d28-3875-48d8-bfa7-d0b7457cbb70"},"edge_type":"inherent","type":"","uuid":"74b4f28a-f104-4c71-93b4-babb1823fb9a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"9108afa3-c64d-4afa-8f1f-b3ff22d42913"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"9108afa3-c64d-4afa-8f1f-b3ff22d42913"},"edge_type":"inherent","type":"","uuid":"11812281-a852-4958-9899-d865e17dc047","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"c4a820b1-35c6-4fee-a29e-2d1a9d7f663b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"af706950-6e16-4903-ba3a-7df874ddee60"},"edge_type":"inherent","type":"","uuid":"cc985a36-ed8e-4bba-80af-1a6d69dbb9db","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"9108afa3-c64d-4afa-8f1f-b3ff22d42913"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"357c5d28-3875-48d8-bfa7-d0b7457cbb70"},"edge_type":"inherent","type":"","uuid":"cadfabb5-2eb7-4b54-9057-9bf991c84001","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"af706950-6e16-4903-ba3a-7df874ddee60"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"357c5d28-3875-48d8-bfa7-d0b7457cbb70","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_6f40bd84_d395_9841_a908_73dee25a8dd1"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"e25ee58d-3405-21e3-cd82-7f0aa3cb9d0d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"af706950-6e16-4903-ba3a-7df874ddee60","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"cee3b529-af98-4777-86b9-8f42f417fe67"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9108afa3-c64d-4afa-8f1f-b3ff22d42913","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"1bb7bd93-fa84-410b-9066-7d21067ab9bc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c4a820b1-35c6-4fee-a29e-2d1a9d7f663b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"43935923-adac-42ad-bcd9-bdce89705b4c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cdc1b848-ec7c-4a63-bd9a-e37a319dee45","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"01bb4182_runbook_cloned_0","uuid":"6690249c-6c8a-84bd-7b13-64d6f949aead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cbed9adc-7468-434f-bf05-e1f3695be059","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1bf1bdf4_runbook_cloned_0","uuid":"8100cf75-08e3-5484-c2d7-8ad69b90b55c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"}],"description":"","message_list":[],"uuid":"4f9f3872-2265-45b5-bf3d-c5eaa3bea0be","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"bd997db4-e4fc-45c9-b7a0-283ab266aed6"},"name":"SYS_GEN__Runbook_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1"}},{"description":"System action for starting an application","message_list":[],"uuid":"8f103709-9269-4e90-b84e-a0a39fe4df37","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"retries":"0","description":"","type":"DAG","uuid":"c1ec6ca5-fe20-46f8-a5d1-cf3eb443b436","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"60e6957a-7caa-4752-9d22-2fe2e4843dff"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"406d59da-f10e-4422-aee8-142cd9d6da73"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"60e6957a-7caa-4752-9d22-2fe2e4843dff"},"edge_type":"inherent","type":"","uuid":"4edd5bca-fa20-4735-9403-5108acad2358","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"406d59da-f10e-4422-aee8-142cd9d6da73"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"60e6957a-7caa-4752-9d22-2fe2e4843dff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"a9377340-5133-4a15-91e0-cb12c3a6d590"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"406d59da-f10e-4422-aee8-142cd9d6da73","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1bf1bdf4_runbook_cloned_0","uuid":"8100cf75-08e3-5484-c2d7-8ad69b90b55c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"}],"description":"","message_list":[],"uuid":"ea6a6c42-2219-4e04-b2cf-26a64ed8d7a2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"c1ec6ca5-fe20-46f8-a5d1-cf3eb443b436"},"name":"SYS_GEN__Runbook_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1"}},{"description":"System action for restarting an application","message_list":[],"uuid":"0dfd60f7-f7b4-4f94-854c-0ad101e07b87","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"retries":"0","description":"","type":"DAG","uuid":"fde6b1fa-b8c8-4628-bf8e-385dc07abc9e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"2a6a1765-a8a9-4959-a431-72d962a74682"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"9f6684c3-edc6-43e3-974b-9ab19e66c09c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"2a6a1765-a8a9-4959-a431-72d962a74682"},"edge_type":"inherent","type":"","uuid":"c92d7752-7bd4-4968-a0d7-2f93e5ee28bc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"9f6684c3-edc6-43e3-974b-9ab19e66c09c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2a6a1765-a8a9-4959-a431-72d962a74682","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"da36ff8e-77c3-4496-8527-60d0ed74681a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9f6684c3-edc6-43e3-974b-9ab19e66c09c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"dbeb27ce_runbook_cloned_0","uuid":"2e83b648-6f2b-8e57-1988-4c3d16a391f3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"}],"description":"","message_list":[],"uuid":"163a2f01-f718-4253-9924-cc45c37ce6ca","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"fde6b1fa-b8c8-4628-bf8e-385dc07abc9e"},"name":"SYS_GEN__Runbook_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1"}},{"description":"System action for stopping an application","message_list":[],"uuid":"e9c24c34-ead2-4be3-b0f5-9aadae626eae","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"retries":"0","description":"","type":"DAG","uuid":"1d29fa24-b082-4795-abea-bd02752c612a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"549f17fd-ab34-47e6-b62f-0069d0dff950"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"97b74c9f-902a-4771-9c50-dc503093b6d9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"549f17fd-ab34-47e6-b62f-0069d0dff950"},"edge_type":"inherent","type":"","uuid":"1926decc-53af-43df-b6b8-8f533ce3438b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"97b74c9f-902a-4771-9c50-dc503093b6d9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"549f17fd-ab34-47e6-b62f-0069d0dff950","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a068d42f_runbook_cloned_0","uuid":"a83f324f-70bf-b175-d781-d9467d906c54"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"97b74c9f-902a-4771-9c50-dc503093b6d9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"dad5d0de-48fd-4e92-b9ed-6db486404d62"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"}],"description":"","message_list":[],"uuid":"9425c45a-fd63-4832-99ee-85df19e1ebe2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"1d29fa24-b082-4795-abea-bd02752c612a"},"name":"SYS_GEN__Runbook_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"1e873c73-1159-4869-a147-2124fb565d79","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"retries":"0","description":"","type":"DAG","uuid":"9537bd26-d5ff-4fee-b1c2-56c9540f3ff4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"88a71ef7-fbc3-4598-b5d2-fd914ab759c4"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"fe0c669c-4511-403c-82ca-d00efd022bbd"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"df1391a0-35b3-4815-8d8e-93f2fad5d3d4"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"2491a870-3820-441b-9e28-2971364f7c9a"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"0cb2e145-69ee-4537-aeb8-8e158470b527"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"88a71ef7-fbc3-4598-b5d2-fd914ab759c4"},"edge_type":"inherent","type":"","uuid":"c359f956-75e5-42b5-bfe1-89f42a4eb63a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"fe0c669c-4511-403c-82ca-d00efd022bbd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"fe0c669c-4511-403c-82ca-d00efd022bbd"},"edge_type":"inherent","type":"","uuid":"f489bdc0-72b4-4f6e-a494-1145cd8eb8c3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"df1391a0-35b3-4815-8d8e-93f2fad5d3d4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"2491a870-3820-441b-9e28-2971364f7c9a"},"edge_type":"inherent","type":"","uuid":"7d5b0c93-e0d1-46d8-94d1-9c8b2ec85330","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"0cb2e145-69ee-4537-aeb8-8e158470b527"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"df1391a0-35b3-4815-8d8e-93f2fad5d3d4"},"edge_type":"inherent","type":"","uuid":"ddf69587-d95a-426b-87f3-51ccc2e15647","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"2491a870-3820-441b-9e28-2971364f7c9a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"88a71ef7-fbc3-4598-b5d2-fd914ab759c4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a068d42f_runbook_cloned_0","uuid":"a83f324f-70bf-b175-d781-d9467d906c54"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fe0c669c-4511-403c-82ca-d00efd022bbd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3298ad28_runbook_cloned_0","uuid":"6ec95eca-af06-5bf9-3cce-cca14796b40e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"df1391a0-35b3-4815-8d8e-93f2fad5d3d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"500c8cd1-f0b6-4689-a5c5-86dec996f8ac"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2491a870-3820-441b-9e28-2971364f7c9a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"a7f23026-b74a-490b-bbc6-ebb0439b3767"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"0cb2e145-69ee-4537-aeb8-8e158470b527","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_6f40bd84_d395_9841_a908_73dee25a8dd1"}],"description":"","message_list":[],"uuid":"86fd7338-4224-46a6-8dcd-5cb858f246e6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"9537bd26-d5ff-4fee-b1c2-56c9540f3ff4"},"name":"SYS_GEN__Runbook_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1"}},{"description":"System action for scaleout","message_list":[],"uuid":"066b0b9b-b1ab-4d40-813d-c8bdd5f69e39","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"retries":"0","description":"","type":"DAG","uuid":"238f5f3e-3343-4401-8caf-67d9c1208e7b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"54d015b4-66b1-4789-a8e2-248ef5deb6c5"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"retries":"0","description":"","type":"SCALING","uuid":"54d015b4-66b1-4789-a8e2-248ef5deb6c5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_6f40bd84_d395_9841_a908_73dee25a8dd1"}],"description":"","message_list":[],"uuid":"2869f836-8978-48dd-ae55-19c003386981","state":"ACTIVE","variable_list":[{"val_type":"STRING","description":"","message_list":[],"uuid":"7e85d8fa-b166-4703-adfb-c5c0709225d7","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"type":"LOCAL","name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"238f5f3e-3343-4401-8caf-67d9c1208e7b"},"name":"SYS_GEN__Runbook_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1"}},{"description":"System action for scalein","message_list":[],"uuid":"469d26c7-a285-49aa-8ed8-e98e9ba2256c","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"retries":"0","description":"","type":"DAG","uuid":"c16e6a71-eb6e-430f-81e6-3b6a8226022a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"c1adc901-0fac-4252-bccd-734cb48da173"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"retries":"0","description":"","type":"SCALING","uuid":"c1adc901-0fac-4252-bccd-734cb48da173","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_6f40bd84_d395_9841_a908_73dee25a8dd1"}],"description":"","message_list":[],"uuid":"ed6909e9-ca36-47bd-bb2e-b8dec5fb2437","state":"ACTIVE","variable_list":[{"val_type":"STRING","description":"","message_list":[],"uuid":"b6d37ac1-5ca1-414f-8417-edbf2283aa14","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"type":"LOCAL","name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"c16e6a71-eb6e-430f-81e6-3b6a8226022a"},"name":"SYS_GEN__Runbook_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"3b00c8d1-3371-4961-9662-f2a0354bfca2","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"retries":"0","description":"","type":"DAG","uuid":"7a8250e2-d519-437b-be7a-946f79d06954","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"bf06d1ad-ccae-474d-922b-4ef85e983ef7"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9415353a_18bb_03ed_c990_42141ca70238","uuid":"00f1452a-7c3e-40ca-b3fc-ef0156f8020d"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"ca288001-a983-42f6-b55f-4c62f931a397"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"bedd2ad3-2899-4ad2-b2c7-6b863f4b6e7b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"bf06d1ad-ccae-474d-922b-4ef85e983ef7"},"edge_type":"inherent","type":"","uuid":"904f76dd-5194-4ad9-afcd-a3fc14924849","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9415353a_18bb_03ed_c990_42141ca70238","uuid":"00f1452a-7c3e-40ca-b3fc-ef0156f8020d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"ca288001-a983-42f6-b55f-4c62f931a397"},"edge_type":"inherent","type":"","uuid":"aa474c2e-480f-4037-84cd-2c76167551c3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"bedd2ad3-2899-4ad2-b2c7-6b863f4b6e7b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9415353a_18bb_03ed_c990_42141ca70238","uuid":"00f1452a-7c3e-40ca-b3fc-ef0156f8020d"},"edge_type":"inherent","type":"","uuid":"69f657c2-a81d-45c6-b361-4e1e58fcc826","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"ca288001-a983-42f6-b55f-4c62f931a397"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bf06d1ad-ccae-474d-922b-4ef85e983ef7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"06651f9b-3852-4792-b0b4-a9bd1292ea2a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"00f1452a-7c3e-40ca-b3fc-ef0156f8020d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_9415353a_18bb_03ed_c990_42141ca70238"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ca288001-a983-42f6-b55f-4c62f931a397","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"f65c4c4f-17e7-4450-886b-47c9789fbc6b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"bedd2ad3-2899-4ad2-b2c7-6b863f4b6e7b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_6f40bd84_d395_9841_a908_73dee25a8dd1"}],"description":"","message_list":[],"uuid":"c9a0c321-a7da-41e2-b937-2026de61055e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"7a8250e2-d519-437b-be7a-946f79d06954"},"name":"SYS_GEN__Runbook_Deployment_6f40bd84_d395_9841_a908_73dee25a8dd1"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1","min_replicas":"1","state":"ACTIVE","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"}],"substrate_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"a7b3d65f_deployment_cloned_0"}],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"473d73e9-4c02-465b-a38d-c19357ee4361","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"c1f1218f-7435-4792-a5e4-5928cc4023d3"},"retries":"0","description":"","type":"DAG","uuid":"3a113ab5-c269-45df-abe8-a41118a9be06","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"05c41735-cd60-41fc-81a3-85d69f83d34b"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"375097fa-4b97-44ab-a4c3-634e38615ca2"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d_1","uuid":"8b783ed9-cd99-4287-a6a7-7259b9cd23cd"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"727698e5-e31d-458a-b487-9b39c48257ee"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"ac769503-2e30-4a67-9155-c53d991f7e09"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"db4bf955-631b-471d-b3d2-d33757bda992"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"2d8db9f2-63d7-47e5-ad70-a3182f76b171"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"2529fa12-f287-4b4f-92ff-edc9396a593d"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"7f608997-0364-4141-8263-b6315ef67e01"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"e36482ae-0f2e-4ddd-9d71-59b36078d43c"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"e79123ac-d3f8-4794-b6fb-e662ebaa27ed"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"f4970fa2-21db-44ab-8f09-2b609f697ea2"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"7f608997-0364-4141-8263-b6315ef67e01"},"edge_type":"inherent","type":"","uuid":"3884ad09-5de2-4145-8c8a-cf0aff4a2fa8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"e36482ae-0f2e-4ddd-9d71-59b36078d43c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"2529fa12-f287-4b4f-92ff-edc9396a593d"},"edge_type":"inherent","type":"","uuid":"6de39e5e-f337-4e94-b5e6-370c5c1c0fce","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"7f608997-0364-4141-8263-b6315ef67e01"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"375097fa-4b97-44ab-a4c3-634e38615ca2"},"edge_type":"inherent","type":"","uuid":"e96f7c44-4a22-48df-af3e-d4fa0df360fa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"db4bf955-631b-471d-b3d2-d33757bda992"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"db4bf955-631b-471d-b3d2-d33757bda992"},"edge_type":"inherent","type":"","uuid":"a9731c2b-51b0-4cb4-be43-c3b5a8dbc959","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"2529fa12-f287-4b4f-92ff-edc9396a593d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"727698e5-e31d-458a-b487-9b39c48257ee"},"edge_type":"inherent","type":"","uuid":"97f38964-fc4f-420e-906d-543271e476f8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"db4bf955-631b-471d-b3d2-d33757bda992"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"375097fa-4b97-44ab-a4c3-634e38615ca2"},"edge_type":"inherent","type":"","uuid":"913e669e-e0c3-47fb-b1df-823060932a58","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"727698e5-e31d-458a-b487-9b39c48257ee"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"e79123ac-d3f8-4794-b6fb-e662ebaa27ed"},"edge_type":"inherent","type":"","uuid":"af0515e6-a39f-4785-972c-4f2d72cf250d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"f4970fa2-21db-44ab-8f09-2b609f697ea2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"2d8db9f2-63d7-47e5-ad70-a3182f76b171"},"edge_type":"inherent","type":"","uuid":"c91cd437-13f7-4d39-b724-1de7260b79df","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"e79123ac-d3f8-4794-b6fb-e662ebaa27ed"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"05c41735-cd60-41fc-81a3-85d69f83d34b"},"edge_type":"inherent","type":"","uuid":"12e0dc75-cabe-42eb-8dad-7045d719b9a1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"ac769503-2e30-4a67-9155-c53d991f7e09"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"ac769503-2e30-4a67-9155-c53d991f7e09"},"edge_type":"inherent","type":"","uuid":"a3a99294-090d-4df4-bab4-48f765f4da3d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"2d8db9f2-63d7-47e5-ad70-a3182f76b171"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d_1","uuid":"8b783ed9-cd99-4287-a6a7-7259b9cd23cd"},"edge_type":"inherent","type":"","uuid":"5e4e112d-dc33-4808-84ad-9cfd69b04039","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"ac769503-2e30-4a67-9155-c53d991f7e09"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"05c41735-cd60-41fc-81a3-85d69f83d34b"},"edge_type":"inherent","type":"","uuid":"a114230e-38a1-4268-b232-b5768defbb5a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d_1","uuid":"8b783ed9-cd99-4287-a6a7-7259b9cd23cd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"e36482ae-0f2e-4ddd-9d71-59b36078d43c"},"edge_type":"dependency","type":"","uuid":"e86e2f92-945b-42db-b5c3-63303c40a73e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"e79123ac-d3f8-4794-b6fb-e662ebaa27ed"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_78336f51_b3d3_bb4c_5a5e_73a9bd847203"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"05c41735-cd60-41fc-81a3-85d69f83d34b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_6f40bd84_d395_9841_a908_73dee25a8dd1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"375097fa-4b97-44ab-a4c3-634e38615ca2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_3c764b76_9cb0_2a37_6209_e4f960500dea"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"e25ee58d-3405-21e3-cd82-7f0aa3cb9d0d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8b783ed9-cd99-4287-a6a7-7259b9cd23cd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"cee3b529-af98-4777-86b9-8f42f417fe67"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d_1"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"e25ee58d-3405-21e3-cd82-7f0aa3cb9d0d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"727698e5-e31d-458a-b487-9b39c48257ee","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"cee3b529-af98-4777-86b9-8f42f417fe67"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ac769503-2e30-4a67-9155-c53d991f7e09","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"1bb7bd93-fa84-410b-9066-7d21067ab9bc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"db4bf955-631b-471d-b3d2-d33757bda992","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"216ed7e9-73e4-4602-a27c-7cbb937ebea9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2d8db9f2-63d7-47e5-ad70-a3182f76b171","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"43935923-adac-42ad-bcd9-bdce89705b4c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2529fa12-f287-4b4f-92ff-edc9396a593d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"95129cb6-52d3-4760-b6f0-8dfa351f0ec1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7f608997-0364-4141-8263-b6315ef67e01","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"01bb4182_runbook","uuid":"7638eea7-3e09-4527-abfe-1634a0ef0c5d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e36482ae-0f2e-4ddd-9d71-59b36078d43c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1bf1bdf4_runbook","uuid":"a149a768-1b0a-4c0d-adca-961466010e1e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e79123ac-d3f8-4794-b6fb-e662ebaa27ed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"01bb4182_runbook_cloned_0","uuid":"6690249c-6c8a-84bd-7b13-64d6f949aead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f4970fa2-21db-44ab-8f09-2b609f697ea2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1bf1bdf4_runbook_cloned_0","uuid":"8100cf75-08e3-5484-c2d7-8ad69b90b55c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"}],"description":"","message_list":[],"uuid":"33cd1187-29cf-4f38-b7c3-2c271aedacc0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_78336f51_b3d3_bb4c_5a5e_73a9bd847203","uuid":"3a113ab5-c269-45df-abe8-a41118a9be06"},"name":"SYS_GEN__Runbook_Application_78336f51_b3d3_bb4c_5a5e_73a9bd847203"}},{"description":"System action for starting an application","message_list":[],"uuid":"1d47b56c-4607-4b3d-bbb1-c4538281c8a6","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"c1f1218f-7435-4792-a5e4-5928cc4023d3"},"retries":"0","description":"","type":"DAG","uuid":"15667e18-5b0b-4dea-8531-16d9fe55d420","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"14d497b0-6437-4ba3-b5b0-62f4c37b4ea3"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"d218f7c1-2264-465b-a129-bb0abf965352"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"499951ab-51aa-43c0-9776-5d0d764723cd"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"4f9d86c1-34d4-43bd-af54-71ee07192a00"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"d218f7c1-2264-465b-a129-bb0abf965352"},"edge_type":"inherent","type":"","uuid":"715b51f0-0cc0-4617-a38d-fdbecb39136a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"499951ab-51aa-43c0-9776-5d0d764723cd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"14d497b0-6437-4ba3-b5b0-62f4c37b4ea3"},"edge_type":"inherent","type":"","uuid":"e542249f-0b70-41dd-9411-07f1553ad4a9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"4f9d86c1-34d4-43bd-af54-71ee07192a00"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"499951ab-51aa-43c0-9776-5d0d764723cd"},"edge_type":"create_action_edge","type":"","uuid":"5caa3d26-61fa-419d-bf2f-b01d28795105","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"4f9d86c1-34d4-43bd-af54-71ee07192a00"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_78336f51_b3d3_bb4c_5a5e_73a9bd847203"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"14d497b0-6437-4ba3-b5b0-62f4c37b4ea3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"a9377340-5133-4a15-91e0-cb12c3a6d590"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d218f7c1-2264-465b-a129-bb0abf965352","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"54e60965-43a4-4e6a-bbb3-315d75f4a876"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"499951ab-51aa-43c0-9776-5d0d764723cd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1bf1bdf4_runbook","uuid":"a149a768-1b0a-4c0d-adca-961466010e1e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4f9d86c1-34d4-43bd-af54-71ee07192a00","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1bf1bdf4_runbook_cloned_0","uuid":"8100cf75-08e3-5484-c2d7-8ad69b90b55c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"}],"description":"","message_list":[],"uuid":"2e4ccc3f-d486-4739-af21-bca39fa78605","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_78336f51_b3d3_bb4c_5a5e_73a9bd847203","uuid":"15667e18-5b0b-4dea-8531-16d9fe55d420"},"name":"SYS_GEN__Runbook_Application_78336f51_b3d3_bb4c_5a5e_73a9bd847203"}},{"description":"System action for restarting an application","message_list":[],"uuid":"bfc43130-acac-410a-bb3c-9a3f07785aa3","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"c1f1218f-7435-4792-a5e4-5928cc4023d3"},"retries":"0","description":"","type":"DAG","uuid":"97ddd6a0-0198-4b9f-9400-d22ff83c8363","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"71ad6e7c-ef96-4883-b97c-535b8d536537"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"1f7bf034-8030-4dcc-bdde-7289b80a349f"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"9ef06b8a-3051-4d9f-87ca-b0037bf1cc01"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"f2b74cd9-0fb3-460a-a1c4-acbf9d153b89"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"71ad6e7c-ef96-4883-b97c-535b8d536537"},"edge_type":"inherent","type":"","uuid":"0fd6f2cc-f4c8-4c1c-87f3-3921539bfe9b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"9ef06b8a-3051-4d9f-87ca-b0037bf1cc01"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"1f7bf034-8030-4dcc-bdde-7289b80a349f"},"edge_type":"inherent","type":"","uuid":"bd8eb7f7-9267-449a-9d23-252c8d952e09","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"f2b74cd9-0fb3-460a-a1c4-acbf9d153b89"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"9ef06b8a-3051-4d9f-87ca-b0037bf1cc01"},"edge_type":"create_action_edge","type":"","uuid":"85026464-b33c-4eab-a4ce-ecb476008fd7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"f2b74cd9-0fb3-460a-a1c4-acbf9d153b89"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_78336f51_b3d3_bb4c_5a5e_73a9bd847203"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"71ad6e7c-ef96-4883-b97c-535b8d536537","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"47ab8fe3-9c87-4bcf-91a7-e5ee3c96e2fe"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1f7bf034-8030-4dcc-bdde-7289b80a349f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"da36ff8e-77c3-4496-8527-60d0ed74681a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9ef06b8a-3051-4d9f-87ca-b0037bf1cc01","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"dbeb27ce_runbook","uuid":"55bbca96-5ef0-40db-b35c-207fbf9cc9ea"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f2b74cd9-0fb3-460a-a1c4-acbf9d153b89","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"dbeb27ce_runbook_cloned_0","uuid":"2e83b648-6f2b-8e57-1988-4c3d16a391f3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"}],"description":"","message_list":[],"uuid":"66092a1a-4558-4da6-a92a-5a4862818ef2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_78336f51_b3d3_bb4c_5a5e_73a9bd847203","uuid":"97ddd6a0-0198-4b9f-9400-d22ff83c8363"},"name":"SYS_GEN__Runbook_Application_78336f51_b3d3_bb4c_5a5e_73a9bd847203"}},{"description":"System action for stopping an application","message_list":[],"uuid":"8f076efc-9bfe-4759-8e14-c6bd32829d7e","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"c1f1218f-7435-4792-a5e4-5928cc4023d3"},"retries":"0","description":"","type":"DAG","uuid":"d208e604-ef1c-436f-a210-ad296e8a8ef9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"2709f793-93b0-4ce8-91df-a7ee667cb743"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"7b21aa9f-ef47-4b00-8460-29d652e964b8"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"eb208b27-61b3-49c4-9185-c07a07336976"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"1b1b6454-7c84-426a-8b3a-6f8d61da797c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"eb208b27-61b3-49c4-9185-c07a07336976"},"edge_type":"inherent","type":"","uuid":"5df10aba-0da8-40ed-ad09-a2733ce44a27","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"1b1b6454-7c84-426a-8b3a-6f8d61da797c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"2709f793-93b0-4ce8-91df-a7ee667cb743"},"edge_type":"inherent","type":"","uuid":"bc2dd6b9-0b0a-469d-945b-3926bf0ddb63","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"7b21aa9f-ef47-4b00-8460-29d652e964b8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"2709f793-93b0-4ce8-91df-a7ee667cb743"},"edge_type":"create_action_edge","type":"","uuid":"13d25190-a677-4863-bbeb-c20e1c8eb155","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"eb208b27-61b3-49c4-9185-c07a07336976"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_78336f51_b3d3_bb4c_5a5e_73a9bd847203"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2709f793-93b0-4ce8-91df-a7ee667cb743","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a068d42f_runbook_cloned_0","uuid":"a83f324f-70bf-b175-d781-d9467d906c54"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7b21aa9f-ef47-4b00-8460-29d652e964b8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"dad5d0de-48fd-4e92-b9ed-6db486404d62"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"eb208b27-61b3-49c4-9185-c07a07336976","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a068d42f_runbook","uuid":"d3e55cd9-e625-4419-b61f-8cf3482e5470"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1b1b6454-7c84-426a-8b3a-6f8d61da797c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"488c6dde-d4cf-4bf8-aae5-ff20318263f3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"}],"description":"","message_list":[],"uuid":"8a17c425-eafe-4774-9449-5b63360c3a1b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_78336f51_b3d3_bb4c_5a5e_73a9bd847203","uuid":"d208e604-ef1c-436f-a210-ad296e8a8ef9"},"name":"SYS_GEN__Runbook_Application_78336f51_b3d3_bb4c_5a5e_73a9bd847203"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"7164f244-8583-4de4-87d6-986f3d07aed4","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"c1f1218f-7435-4792-a5e4-5928cc4023d3"},"retries":"0","description":"","type":"DAG","uuid":"d64ace1a-d96a-4394-a18e-f23590bfd12a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"dc56a784-9955-4478-9eef-00c01e5e74e3"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"3d2888d1-92c6-44a0-9c04-988152e9fcc5"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"d065016a-06b5-48bc-a5fb-273edbd4494f"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"ef9a87e6-7c4e-49b5-abfa-da2061a4668c"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"7822d9ec-5408-46dc-a41a-2355b8224f2a"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"6ee70ee0-e027-4b59-bba6-5924e2c6216f"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"18ec5750-3dbf-4916-baf1-fb67aec43e3d"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"3344f929-3f00-41d1-b2d8-1c2de894c476"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"a568abab-e37c-482b-982c-9b44e805b0b2"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"df398ca8-a0db-431e-9362-f18cb2e5ef14"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"d065016a-06b5-48bc-a5fb-273edbd4494f"},"edge_type":"inherent","type":"","uuid":"5f360c5c-5ebb-4a6e-9a4c-a2119e6e3eb4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"6ee70ee0-e027-4b59-bba6-5924e2c6216f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"6ee70ee0-e027-4b59-bba6-5924e2c6216f"},"edge_type":"inherent","type":"","uuid":"8590b33b-241d-4abc-a60b-509a0e73ebb9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"3344f929-3f00-41d1-b2d8-1c2de894c476"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"a568abab-e37c-482b-982c-9b44e805b0b2"},"edge_type":"inherent","type":"","uuid":"15ae0b97-fe1a-42bf-a7fd-f62a9b43f463","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"df398ca8-a0db-431e-9362-f18cb2e5ef14"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"3344f929-3f00-41d1-b2d8-1c2de894c476"},"edge_type":"inherent","type":"","uuid":"73d78567-ff35-4465-bf52-16fe37c1f16b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"a568abab-e37c-482b-982c-9b44e805b0b2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"dc56a784-9955-4478-9eef-00c01e5e74e3"},"edge_type":"inherent","type":"","uuid":"c5fa6339-24b4-48c8-ae29-69018fa3d6e2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"3d2888d1-92c6-44a0-9c04-988152e9fcc5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"3d2888d1-92c6-44a0-9c04-988152e9fcc5"},"edge_type":"inherent","type":"","uuid":"edeadc2f-e3e5-44e8-8771-5c4c56500e16","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"ef9a87e6-7c4e-49b5-abfa-da2061a4668c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"7822d9ec-5408-46dc-a41a-2355b8224f2a"},"edge_type":"inherent","type":"","uuid":"02e6a261-50fa-40db-8e4b-b67da7ffba60","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"18ec5750-3dbf-4916-baf1-fb67aec43e3d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"ef9a87e6-7c4e-49b5-abfa-da2061a4668c"},"edge_type":"inherent","type":"","uuid":"a2cc6a3c-82ba-4fa1-affa-3b435cab6b6a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"7822d9ec-5408-46dc-a41a-2355b8224f2a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"3d2888d1-92c6-44a0-9c04-988152e9fcc5"},"edge_type":"create_action_edge","type":"","uuid":"a0483d33-ac81-4d0a-b37a-d77aafa6e6d5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"d065016a-06b5-48bc-a5fb-273edbd4494f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_78336f51_b3d3_bb4c_5a5e_73a9bd847203"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dc56a784-9955-4478-9eef-00c01e5e74e3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a068d42f_runbook_cloned_0","uuid":"a83f324f-70bf-b175-d781-d9467d906c54"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3d2888d1-92c6-44a0-9c04-988152e9fcc5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3298ad28_runbook_cloned_0","uuid":"6ec95eca-af06-5bf9-3cce-cca14796b40e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d065016a-06b5-48bc-a5fb-273edbd4494f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a068d42f_runbook","uuid":"d3e55cd9-e625-4419-b61f-8cf3482e5470"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ef9a87e6-7c4e-49b5-abfa-da2061a4668c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"500c8cd1-f0b6-4689-a5c5-86dec996f8ac"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7822d9ec-5408-46dc-a41a-2355b8224f2a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"a7f23026-b74a-490b-bbc6-ebb0439b3767"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6ee70ee0-e027-4b59-bba6-5924e2c6216f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3298ad28_runbook","uuid":"a587c2ba-ed41-44d7-89ca-119c2aea243a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"18ec5750-3dbf-4916-baf1-fb67aec43e3d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_6f40bd84_d395_9841_a908_73dee25a8dd1"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3344f929-3f00-41d1-b2d8-1c2de894c476","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"aee28839-54f5-491e-bf63-eac010631e59"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a568abab-e37c-482b-982c-9b44e805b0b2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"d814ab30-73cc-4d67-80e5-4d689189e11e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"df398ca8-a0db-431e-9362-f18cb2e5ef14","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_3c764b76_9cb0_2a37_6209_e4f960500dea"}],"description":"","message_list":[],"uuid":"cfdab44d-702c-4031-9fa7-e9b762c02a35","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_78336f51_b3d3_bb4c_5a5e_73a9bd847203","uuid":"d64ace1a-d96a-4394-a18e-f23590bfd12a"},"name":"SYS_GEN__Runbook_Application_78336f51_b3d3_bb4c_5a5e_73a9bd847203"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"d5784d8b-8caf-4dd3-bf03-da90c2ec8820","name":"action_soft_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"c1f1218f-7435-4792-a5e4-5928cc4023d3"},"retries":"0","description":"","type":"DAG","uuid":"7dee36f9-a45b-456b-8c52-9a305917ff2e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"45ecb156-1c8c-4b58-81f6-30919aafefe0"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9415353a_18bb_03ed_c990_42141ca70238","uuid":"550eda59-41e6-4031-a2a5-1b1dc39453d6"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"2d5cd232-4943-4c84-8bdf-5bf22dd52a8f"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"3d3f7abd-a610-421a-aa17-dce35f066a72"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"75bf6d33-28cd-4106-8fcf-7724dd771ff9"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"fefe924e-0deb-4860-be81-2ab414be07e3"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"354d1171-6813-4039-b6c9-e7d49963cf2e"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"33d85a20-0ea5-47d7-815e-b1ede9c0e31f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"2d5cd232-4943-4c84-8bdf-5bf22dd52a8f"},"edge_type":"inherent","type":"","uuid":"84859c79-8d85-41b2-a740-cc5ce6651ec1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"3d3f7abd-a610-421a-aa17-dce35f066a72"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"354d1171-6813-4039-b6c9-e7d49963cf2e"},"edge_type":"inherent","type":"","uuid":"0d697ce1-be45-4338-b368-4c451e7863c6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_3c764b76_9cb0_2a37_6209_e4f960500dea","uuid":"33d85a20-0ea5-47d7-815e-b1ede9c0e31f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"3d3f7abd-a610-421a-aa17-dce35f066a72"},"edge_type":"inherent","type":"","uuid":"b8632ded-5239-4a18-9a96-70f1e2245de2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"354d1171-6813-4039-b6c9-e7d49963cf2e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"45ecb156-1c8c-4b58-81f6-30919aafefe0"},"edge_type":"inherent","type":"","uuid":"8143db9b-2a42-4fc1-86a0-dc0998ecb136","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9415353a_18bb_03ed_c990_42141ca70238","uuid":"550eda59-41e6-4031-a2a5-1b1dc39453d6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"75bf6d33-28cd-4106-8fcf-7724dd771ff9"},"edge_type":"inherent","type":"","uuid":"9d8d70f4-bc34-4a56-ae2e-0e54b0cf9223","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_6f40bd84_d395_9841_a908_73dee25a8dd1","uuid":"fefe924e-0deb-4860-be81-2ab414be07e3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9415353a_18bb_03ed_c990_42141ca70238","uuid":"550eda59-41e6-4031-a2a5-1b1dc39453d6"},"edge_type":"inherent","type":"","uuid":"1cc93e0c-d5ff-4785-9c6c-d592ab8da2c3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"75bf6d33-28cd-4106-8fcf-7724dd771ff9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"45ecb156-1c8c-4b58-81f6-30919aafefe0"},"edge_type":"create_action_edge","type":"","uuid":"c4d4b3d2-6bf2-4518-9ea3-fec370b3c19d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"2d5cd232-4943-4c84-8bdf-5bf22dd52a8f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_78336f51_b3d3_bb4c_5a5e_73a9bd847203"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"45ecb156-1c8c-4b58-81f6-30919aafefe0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"06651f9b-3852-4792-b0b4-a9bd1292ea2a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"550eda59-41e6-4031-a2a5-1b1dc39453d6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_9415353a_18bb_03ed_c990_42141ca70238"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2d5cd232-4943-4c84-8bdf-5bf22dd52a8f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"beea089b-cdbb-4306-bb84-96c1b6dd0523"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"3d3f7abd-a610-421a-aa17-dce35f066a72","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave","uuid":"39eb3387-eb75-a0f1-0d71-cb26b7cef5dd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"75bf6d33-28cd-4106-8fcf-7724dd771ff9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd","uuid":"f65c4c4f-17e7-4450-886b-47c9789fbc6b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_39eb3387_eb75_a0f1_0d71_cb26b7cef5dd"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"fefe924e-0deb-4860-be81-2ab414be07e3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_6f40bd84_d395_9841_a908_73dee25a8dd1"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master","uuid":"d317cf5f-4470-4a4d-b42b-08abfe1c2fca"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"354d1171-6813-4039-b6c9-e7d49963cf2e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a","uuid":"3e3f368e-d484-47f0-a1a6-ed5728985332"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_cfd2251e_9a43_b42b_c700_f274eb30fa9a"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"835871ea-2cf9-4e23-83f4-168e25e71c11"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"33d85a20-0ea5-47d7-815e-b1ede9c0e31f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_3c764b76_9cb0_2a37_6209_e4f960500dea"}],"description":"","message_list":[],"uuid":"a054dd3c-6c7a-4d15-a695-eda77943f2b6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_78336f51_b3d3_bb4c_5a5e_73a9bd847203","uuid":"7dee36f9-a45b-456b-8c52-9a305917ff2e"},"name":"SYS_GEN__Runbook_Application_78336f51_b3d3_bb4c_5a5e_73a9bd847203"}},{"description":"","message_list":[],"uuid":"0809c731-87fd-f7c9-5b4b-30d42727a9cc","name":"ScaleOut","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"379bc614-eec3-10e7-5153-dc2f6406fd2d","child_tasks_local_reference_list":[{"kind":"app_task","name":"ScaleOut","uuid":"9920b7da-20c6-cd75-d1ae-f6c0dc26c7a4"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"1b08a45c_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"retries":"0","description":"","type":"SCALING","uuid":"9920b7da-20c6-cd75-d1ae-f6c0dc26c7a4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ScaleOut"}],"description":"","message_list":[],"uuid":"94f5f7cd-5842-8d28-6af5-a63ab0fa0f6a","state":"ACTIVE","variable_list":[{"val_type":"STRING","description":"","message_list":[],"uuid":"93ca160e-f9cf-0916-56de-86e332773080","value":"1","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"1b08a45c_dag","uuid":"379bc614-eec3-10e7-5153-dc2f6406fd2d"},"name":"415c1b51_runbook"}},{"description":"","message_list":[],"uuid":"8b6906c2-64d4-1029-fc10-877b5a9a8785","name":"ScaleIn","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"f6a25380-c3f1-973f-49af-7f8ea916ffff","child_tasks_local_reference_list":[{"kind":"app_task","name":"ScaleIn","uuid":"b543e1f6-1f9c-84b6-0b5c-31781046ffe0"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"325dcdb9_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0","uuid":"6f40bd84-d395-9841-a908-73dee25a8dd1"},"retries":"0","description":"","type":"SCALING","uuid":"b543e1f6-1f9c-84b6-0b5c-31781046ffe0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ScaleIn"}],"description":"","message_list":[],"uuid":"1e4f701c-2b17-8dd6-46b2-48fb33a893c0","state":"ACTIVE","variable_list":[{"val_type":"STRING","description":"","message_list":[],"uuid":"b4853382-724c-f1b9-8b7e-fe7ec14660b3","value":"1","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"325dcdb9_dag","uuid":"f6a25380-c3f1-973f-49af-7f8ea916ffff"},"name":"7d2edf7c_runbook"}}],"message_list":[],"uuid":"c1f1218f-7435-4792-a5e4-5928cc4023d3","state":"ACTIVE","dependency_list":[{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"BINLOG_POSITION","setter_resource_kind":"ServiceCfg","setter_resource_name":"MariaDB_Master","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"MariaDB_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"BINLOG_FILE","setter_resource_kind":"ServiceCfg","setter_resource_name":"MariaDB_Master","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"MariaDB_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"ServiceCfg","setter_resource_name":"MariaDB_Master","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"MariaDB_Slave","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"val_type":"STRING","description":"","message_list":[],"uuid":"3093d54b-e220-477a-831e-61d7e730fd23","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"63a02659-aa94-43e8-9aba-835fabcb2f8d"},"type":""},"editables":{"value":true},"type":"SECRET","name":"MARIADB_PASSWORD"}],"name":"Nutanix"}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"},"package_definition_list":[{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"5963e58e-3ffe-43fd-ad25-0ba7f7697269","name":"action_install","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"DAG","uuid":"4078968f-7c30-437c-aaf0-2d74a768013f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_6c3eb9e1_30de_46f6_8374_c8a6a8a83d88","uuid":"ae7617c8-80eb-47a8-b17b-bc2522721b79"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"ae7617c8-80eb-47a8-b17b-bc2522721b79","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"DAG","uuid":"450bb0f3-3bea-410d-ac5d-172b576db235","child_tasks_local_reference_list":[{"kind":"app_task","name":"Setup Partitions","uuid":"87b239b7-dddc-437f-a6c9-1d1476c0ce52"},{"kind":"app_task","name":"Install_MariaDB","uuid":"a45716f7-e0d0-4f88-a308-1a3b975db33a"},{"kind":"app_task","name":"Configure_MariaDB","uuid":"3b2529de-8159-483c-90c1-5f7e67634fcf"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Setup Partitions","uuid":"87b239b7-dddc-437f-a6c9-1d1476c0ce52"},"edge_type":"user_defined","type":"","uuid":"11519d97-52f0-6657-b2d1-8120dfff363b","to_task_reference":{"kind":"app_task","name":"Install_MariaDB","uuid":"a45716f7-e0d0-4f88-a308-1a3b975db33a"}},{"from_task_reference":{"kind":"app_task","name":"Install_MariaDB","uuid":"a45716f7-e0d0-4f88-a308-1a3b975db33a"},"edge_type":"user_defined","type":"","uuid":"b640bd49-f160-db28-0e69-e43b34470b91","to_task_reference":{"kind":"app_task","name":"Configure_MariaDB","uuid":"3b2529de-8159-483c-90c1-5f7e67634fcf"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"722b8b0f_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"EXEC","uuid":"87b239b7-dddc-437f-a6c9-1d1476c0ce52","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MariaDB . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\nsudo yum -y update\nsudo yum -y install lvm2 iotop\n\n#MariaDB data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mariadbDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mariadbDataLV mariadbDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#MariaDB logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mariadbLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mariadbLogLV mariadbLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mariadbDataVG\/mariadbDataLV\nsudo lvchange -r 0 \/dev\/mariadbLogVG\/mariadbLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbDataVG\/mariadbDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbLogVG\/mariadbLogLV\n\nsleep 30\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Partitions"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"EXEC","uuid":"a45716f7-e0d0-4f88-a308-1a3b975db33a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash -x\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\necho '[mariadb]\nname = MariaDB\nbaseurl = http:\/\/yum.mariadb.org\/10.3\/rhel7-amd64\ngpgkey=https:\/\/yum.mariadb.org\/RPM-GPG-KEY-MariaDB\ngpgcheck=1' | sudo tee \/etc\/yum.repos.d\/mariadb.repo\n\nsudo yum install MariaDB-server MariaDB-client -y","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install_MariaDB"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"EXEC","uuid":"3b2529de-8159-483c-90c1-5f7e67634fcf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# Disable selinux\nsudo setenforce 0\nsudo sed -i 's\/SELINUX=enforcing\/SELINUX=disabled\/g;s\/SELINUXTYPE=targeted\/#&\/g' \/etc\/selinux\/config\n\necho '!includedir \/etc\/my.cnf.d' | sudo tee \/etc\/my.cnf\n\necho '[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\n\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\nlarge-pages\ninnodb_buffer_pool_instances = 64\ninnodb_flush_method=O_DIRECT\ninnodb_flush_neighbors=0\ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\ninnodb_buffer_pool_load_at_startup=1\nbulk_insert_buffer_size = 256\ninnodb_thread_concurrency = 16\n\n# Undo tablespace\ninnodb_undo_tablespaces = 5\n\n# Networking\nwait_timeout=57600\nmax_allowed_packet=1G\nsocket=\/var\/lib\/mysql\/mysql.sock\nskip-name-resolve\nport=3306\nmax_connections=1000' | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho 'vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id' | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mariadbDataVG\/mariadbDataLV \/mysql\/data ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mariadbLogVG\/mariadbLogLV \/mysql\/log ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\n\nsudo rm -rf \/mysql\/data\/*\nsudo mysql_install_db &>\/dev\/null\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mariadb\nsudo systemctl start mariadb\n\n# Set root password\nsudo mysqladmin password '@@{MARIADB_PASSWORD}@@'","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Configure_MariaDB"}],"description":"","message_list":[],"uuid":"26bf0ba4-6925-438a-b7aa-dad5aa2e1e8c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"722b8b0f_dag","uuid":"450bb0f3-3bea-410d-ac5d-172b576db235"},"name":"407db839_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"DAG","uuid":"022a5c41-9e78-4d18-9dbf-c28e505b14a8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c94517ac_dag"}],"description":"","message_list":[],"uuid":"ec5e413a-ef32-4cc7-b24a-f8caf506b037","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c94517ac_dag","uuid":"022a5c41-9e78-4d18-9dbf-c28e505b14a8"},"name":"fa2ee8fd_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_6c3eb9e1_30de_46f6_8374_c8a6a8a83d88"}],"description":"","message_list":[],"uuid":"95129cb6-52d3-4760-b6f0-8dfa351f0ec1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"4078968f-7c30-437c-aaf0-2d74a768013f"},"name":"SYS_GEN__Runbook_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"}},{"description":"System action for creating an application","message_list":[],"uuid":"62da208b-be3e-4490-9129-49ba93f3fb5c","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"DAG","uuid":"e3101022-dcd0-48ee-a577-8f6191e0f29f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"4086547f-b205-4701-b0b7-190d40ed8d81"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"75330cd0-98ce-4d0e-a85e-47cb2e417320"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"451a76d8-1eea-43c0-b182-c68ad847d66c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"75330cd0-98ce-4d0e-a85e-47cb2e417320"},"edge_type":"inherent","type":"","uuid":"db0fbb83-c1ca-4896-985c-8d629aacb048","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"451a76d8-1eea-43c0-b182-c68ad847d66c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"4086547f-b205-4701-b0b7-190d40ed8d81"},"edge_type":"inherent","type":"","uuid":"9a342909-6522-4e53-a30a-37b68818035e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"75330cd0-98ce-4d0e-a85e-47cb2e417320"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4086547f-b205-4701-b0b7-190d40ed8d81","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"95129cb6-52d3-4760-b6f0-8dfa351f0ec1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"75330cd0-98ce-4d0e-a85e-47cb2e417320","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"01bb4182_runbook","uuid":"7638eea7-3e09-4527-abfe-1634a0ef0c5d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"451a76d8-1eea-43c0-b182-c68ad847d66c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1bf1bdf4_runbook","uuid":"a149a768-1b0a-4c0d-adca-961466010e1e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"}],"description":"","message_list":[],"uuid":"1fbbbe96-5d38-49ac-8e35-cad02e12404e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"e3101022-dcd0-48ee-a577-8f6191e0f29f"},"name":"SYS_GEN__Runbook_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"224c7337-e412-4279-8862-5cac9ea3118f","name":"action_uninstall","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"DAG","uuid":"dbe7beb6-84b7-48fb-8d94-2bd9c18316d8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_6c3eb9e1_30de_46f6_8374_c8a6a8a83d88","uuid":"3ebfbe2d-1c63-4b72-a80e-5331871e0332"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"3ebfbe2d-1c63-4b72-a80e-5331871e0332","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"DAG","uuid":"450bb0f3-3bea-410d-ac5d-172b576db235","child_tasks_local_reference_list":[{"kind":"app_task","name":"Setup Partitions","uuid":"87b239b7-dddc-437f-a6c9-1d1476c0ce52"},{"kind":"app_task","name":"Install_MariaDB","uuid":"a45716f7-e0d0-4f88-a308-1a3b975db33a"},{"kind":"app_task","name":"Configure_MariaDB","uuid":"3b2529de-8159-483c-90c1-5f7e67634fcf"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Setup Partitions","uuid":"87b239b7-dddc-437f-a6c9-1d1476c0ce52"},"edge_type":"user_defined","type":"","uuid":"11519d97-52f0-6657-b2d1-8120dfff363b","to_task_reference":{"kind":"app_task","name":"Install_MariaDB","uuid":"a45716f7-e0d0-4f88-a308-1a3b975db33a"}},{"from_task_reference":{"kind":"app_task","name":"Install_MariaDB","uuid":"a45716f7-e0d0-4f88-a308-1a3b975db33a"},"edge_type":"user_defined","type":"","uuid":"b640bd49-f160-db28-0e69-e43b34470b91","to_task_reference":{"kind":"app_task","name":"Configure_MariaDB","uuid":"3b2529de-8159-483c-90c1-5f7e67634fcf"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"722b8b0f_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"EXEC","uuid":"87b239b7-dddc-437f-a6c9-1d1476c0ce52","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MariaDB . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\nsudo yum -y update\nsudo yum -y install lvm2 iotop\n\n#MariaDB data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mariadbDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mariadbDataLV mariadbDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#MariaDB logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mariadbLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mariadbLogLV mariadbLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mariadbDataVG\/mariadbDataLV\nsudo lvchange -r 0 \/dev\/mariadbLogVG\/mariadbLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbDataVG\/mariadbDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbLogVG\/mariadbLogLV\n\nsleep 30\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Partitions"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"EXEC","uuid":"a45716f7-e0d0-4f88-a308-1a3b975db33a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash -x\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\necho '[mariadb]\nname = MariaDB\nbaseurl = http:\/\/yum.mariadb.org\/10.3\/rhel7-amd64\ngpgkey=https:\/\/yum.mariadb.org\/RPM-GPG-KEY-MariaDB\ngpgcheck=1' | sudo tee \/etc\/yum.repos.d\/mariadb.repo\n\nsudo yum install MariaDB-server MariaDB-client -y","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install_MariaDB"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"EXEC","uuid":"3b2529de-8159-483c-90c1-5f7e67634fcf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# Disable selinux\nsudo setenforce 0\nsudo sed -i 's\/SELINUX=enforcing\/SELINUX=disabled\/g;s\/SELINUXTYPE=targeted\/#&\/g' \/etc\/selinux\/config\n\necho '!includedir \/etc\/my.cnf.d' | sudo tee \/etc\/my.cnf\n\necho '[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\n\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\nlarge-pages\ninnodb_buffer_pool_instances = 64\ninnodb_flush_method=O_DIRECT\ninnodb_flush_neighbors=0\ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\ninnodb_buffer_pool_load_at_startup=1\nbulk_insert_buffer_size = 256\ninnodb_thread_concurrency = 16\n\n# Undo tablespace\ninnodb_undo_tablespaces = 5\n\n# Networking\nwait_timeout=57600\nmax_allowed_packet=1G\nsocket=\/var\/lib\/mysql\/mysql.sock\nskip-name-resolve\nport=3306\nmax_connections=1000' | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho 'vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id' | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mariadbDataVG\/mariadbDataLV \/mysql\/data ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mariadbLogVG\/mariadbLogLV \/mysql\/log ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\n\nsudo rm -rf \/mysql\/data\/*\nsudo mysql_install_db &>\/dev\/null\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mariadb\nsudo systemctl start mariadb\n\n# Set root password\nsudo mysqladmin password '@@{MARIADB_PASSWORD}@@'","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Configure_MariaDB"}],"description":"","message_list":[],"uuid":"26bf0ba4-6925-438a-b7aa-dad5aa2e1e8c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"722b8b0f_dag","uuid":"450bb0f3-3bea-410d-ac5d-172b576db235"},"name":"407db839_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"DAG","uuid":"022a5c41-9e78-4d18-9dbf-c28e505b14a8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c94517ac_dag"}],"description":"","message_list":[],"uuid":"ec5e413a-ef32-4cc7-b24a-f8caf506b037","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c94517ac_dag","uuid":"022a5c41-9e78-4d18-9dbf-c28e505b14a8"},"name":"fa2ee8fd_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_6c3eb9e1_30de_46f6_8374_c8a6a8a83d88"}],"description":"","message_list":[],"uuid":"aee28839-54f5-491e-bf63-eac010631e59","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"dbe7beb6-84b7-48fb-8d94-2bd9c18316d8"},"name":"SYS_GEN__Runbook_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"a191b4e4-28b6-4186-a571-c3af4136c708","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"DAG","uuid":"0d0866fc-18e3-4add-aa05-b342129ca2df","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"7ea481e1-d41c-4836-9409-1572021754e0"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"f95a85c2-6046-4bad-9609-a1341bd5e43b"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"15fd0d11-8e00-457b-95fb-c1251b9cbb48"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"7ea481e1-d41c-4836-9409-1572021754e0"},"edge_type":"inherent","type":"","uuid":"35528b61-1bce-4b9f-969f-6a40886b1617","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"f95a85c2-6046-4bad-9609-a1341bd5e43b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"f95a85c2-6046-4bad-9609-a1341bd5e43b"},"edge_type":"inherent","type":"","uuid":"bfec8536-055a-4544-a4bf-1a437fb06163","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"15fd0d11-8e00-457b-95fb-c1251b9cbb48"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7ea481e1-d41c-4836-9409-1572021754e0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a068d42f_runbook","uuid":"d3e55cd9-e625-4419-b61f-8cf3482e5470"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f95a85c2-6046-4bad-9609-a1341bd5e43b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3298ad28_runbook","uuid":"a587c2ba-ed41-44d7-89ca-119c2aea243a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"15fd0d11-8e00-457b-95fb-c1251b9cbb48","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"aee28839-54f5-491e-bf63-eac010631e59"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"}],"description":"","message_list":[],"uuid":"becb9885-5e6d-45fe-8634-89a7408e465a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"0d0866fc-18e3-4add-aa05-b342129ca2df"},"name":"SYS_GEN__Runbook_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"af73b656-a780-4517-9f08-8b65e8ee0e67","name":"action_soft_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"DAG","uuid":"2c18d020-ac20-4510-a7e0-88d6423c21dd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"682678c3-d8f8-4872-874f-7516b87ddd91"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"13b10864-0341-4041-a0d4-6f659d1fd9a4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"682678c3-d8f8-4872-874f-7516b87ddd91"},"edge_type":"inherent","type":"","uuid":"63bab4ab-62b2-482b-aa65-76bfd57e396c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"13b10864-0341-4041-a0d4-6f659d1fd9a4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"682678c3-d8f8-4872-874f-7516b87ddd91","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"beea089b-cdbb-4306-bb84-96c1b6dd0523"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"13b10864-0341-4041-a0d4-6f659d1fd9a4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"}],"description":"","message_list":[],"uuid":"bb9c0f5c-c45e-48f7-882a-5ee921ed0e1e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"2c18d020-ac20-4510-a7e0-88d6423c21dd"},"name":"SYS_GEN__Runbook_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"}},{"description":"System action for starting an application","message_list":[],"uuid":"12a7e5fc-488a-4432-9d64-16563931d226","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"DAG","uuid":"e3fb5265-060d-4a09-8c82-0bf02c80c57d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"cf7ab426-7122-4a05-bcf3-648649f44039"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cf7ab426-7122-4a05-bcf3-648649f44039","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1bf1bdf4_runbook","uuid":"a149a768-1b0a-4c0d-adca-961466010e1e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"}],"description":"","message_list":[],"uuid":"735f6e40-0368-49db-940a-0e622abdb3d3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"e3fb5265-060d-4a09-8c82-0bf02c80c57d"},"name":"SYS_GEN__Runbook_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"}},{"description":"System action for restarting an application","message_list":[],"uuid":"36811aab-83e2-496c-856a-d899ff6c2d62","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"DAG","uuid":"9ca7dc56-9b54-493c-a24e-53bbb3e633ab","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"9295b66d-fb82-4b08-b6df-3a0a238fd164"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9295b66d-fb82-4b08-b6df-3a0a238fd164","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"dbeb27ce_runbook","uuid":"55bbca96-5ef0-40db-b35c-207fbf9cc9ea"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"}],"description":"","message_list":[],"uuid":"c81ddd9b-b32c-43a8-bb0b-a393add7ef25","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"9ca7dc56-9b54-493c-a24e-53bbb3e633ab"},"name":"SYS_GEN__Runbook_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"}},{"description":"System action for stopping an application","message_list":[],"uuid":"7ac1fa4d-25fa-4b03-a80e-ac57aea431fc","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"DAG","uuid":"12f0cc11-7929-4643-bbbf-764e95c192ed","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde","uuid":"025ca2ad-0fe2-4582-a40e-c1cdc2fe33da"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"025ca2ad-0fe2-4582-a40e-c1cdc2fe33da","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a068d42f_runbook","uuid":"d3e55cd9-e625-4419-b61f-8cf3482e5470"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_81fafe5f_3ef9_68b2_4594_91e64f4efcde"}],"description":"","message_list":[],"uuid":"44ad96fb-75a9-4aa9-bd32-ee7f276d8162","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc","uuid":"12f0cc11-7929-4643-bbbf-764e95c192ed"},"name":"SYS_GEN__Runbook_Package_d22686c7_4cf3_47f0_e3ec_f1c4ea3de3fc"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"}],"uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"DAG","uuid":"450bb0f3-3bea-410d-ac5d-172b576db235","child_tasks_local_reference_list":[{"kind":"app_task","name":"Setup Partitions","uuid":"87b239b7-dddc-437f-a6c9-1d1476c0ce52"},{"kind":"app_task","name":"Install_MariaDB","uuid":"a45716f7-e0d0-4f88-a308-1a3b975db33a"},{"kind":"app_task","name":"Configure_MariaDB","uuid":"3b2529de-8159-483c-90c1-5f7e67634fcf"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Setup Partitions","uuid":"87b239b7-dddc-437f-a6c9-1d1476c0ce52"},"edge_type":"user_defined","type":"","uuid":"11519d97-52f0-6657-b2d1-8120dfff363b","to_task_reference":{"kind":"app_task","name":"Install_MariaDB","uuid":"a45716f7-e0d0-4f88-a308-1a3b975db33a"}},{"from_task_reference":{"kind":"app_task","name":"Install_MariaDB","uuid":"a45716f7-e0d0-4f88-a308-1a3b975db33a"},"edge_type":"user_defined","type":"","uuid":"b640bd49-f160-db28-0e69-e43b34470b91","to_task_reference":{"kind":"app_task","name":"Configure_MariaDB","uuid":"3b2529de-8159-483c-90c1-5f7e67634fcf"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"722b8b0f_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"EXEC","uuid":"87b239b7-dddc-437f-a6c9-1d1476c0ce52","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MariaDB . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\nsudo yum -y update\nsudo yum -y install lvm2 iotop\n\n#MariaDB data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mariadbDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mariadbDataLV mariadbDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#MariaDB logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mariadbLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mariadbLogLV mariadbLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mariadbDataVG\/mariadbDataLV\nsudo lvchange -r 0 \/dev\/mariadbLogVG\/mariadbLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbDataVG\/mariadbDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbLogVG\/mariadbLogLV\n\nsleep 30\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Partitions"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"EXEC","uuid":"a45716f7-e0d0-4f88-a308-1a3b975db33a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash -x\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\necho '[mariadb]\nname = MariaDB\nbaseurl = http:\/\/yum.mariadb.org\/10.3\/rhel7-amd64\ngpgkey=https:\/\/yum.mariadb.org\/RPM-GPG-KEY-MariaDB\ngpgcheck=1' | sudo tee \/etc\/yum.repos.d\/mariadb.repo\n\nsudo yum install MariaDB-server MariaDB-client -y","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install_MariaDB"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master","uuid":"605eb319-d271-4685-9dfe-4959cd7ebc17"},"retries":"0","description":"","type":"EXEC","uuid":"3b2529de-8159-483c-90c1-5f7e67634fcf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# Disable selinux\nsudo setenforce 0\nsudo sed -i 's\/SELINUX=enforcing\/SELINUX=disabled\/g;s\/SELINUXTYPE=targeted\/#&\/g' \/etc\/selinux\/config\n\necho '!includedir \/etc\/my.cnf.d' | sudo tee \/etc\/my.cnf\n\necho '[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\n\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\nlarge-pages\ninnodb_buffer_pool_instances = 64\ninnodb_flush_method=O_DIRECT\ninnodb_flush_neighbors=0\ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\ninnodb_buffer_pool_load_at_startup=1\nbulk_insert_buffer_size = 256\ninnodb_thread_concurrency = 16\n\n# Undo tablespace\ninnodb_undo_tablespaces = 5\n\n# Networking\nwait_timeout=57600\nmax_allowed_packet=1G\nsocket=\/var\/lib\/mysql\/mysql.sock\nskip-name-resolve\nport=3306\nmax_connections=1000' | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho 'vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id' | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mariadbDataVG\/mariadbDataLV \/mysql\/data ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mariadbLogVG\/mariadbLogLV \/mysql\/log ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\n\nsudo rm -rf \/mysql\/data\/*\nsudo mysql_install_db &>\/dev\/null\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mariadb\nsudo systemctl start mariadb\n\n# Set root password\nsudo mysqladmin password '@@{MARIADB_PASSWORD}@@'","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Configure_MariaDB"}],"description":"","message_list":[],"uuid":"26bf0ba4-6925-438a-b7aa-dad5aa2e1e8c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"722b8b0f_dag","uuid":"450bb0f3-3bea-410d-ac5d-172b576db235"},"name":"407db839_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master","uuid":"6c3eb9e1-30de-46f6-8374-c8a6a8a83d88"},"retries":"0","description":"","type":"DAG","uuid":"022a5c41-9e78-4d18-9dbf-c28e505b14a8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c94517ac_dag"}],"description":"","message_list":[],"uuid":"ec5e413a-ef32-4cc7-b24a-f8caf506b037","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c94517ac_dag","uuid":"022a5c41-9e78-4d18-9dbf-c28e505b14a8"},"name":"fa2ee8fd_runbook"}},"variable_list":[],"name":"AHV_Mariadb_Install_Master"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"5c7fa7ad-5f59-4223-835e-e7b3ed408475","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"DAG","uuid":"797877b0-4c57-4ea4-8460-e54303def108","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_9415353a_18bb_03ed_c990_42141ca70238","uuid":"4761ec1b-b6fc-445e-afb1-b45a22617ff4"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_9415353a_18bb_03ed_c990_42141ca70238"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"4761ec1b-b6fc-445e-afb1-b45a22617ff4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"DAG","uuid":"c564dce7-817d-21d5-6bbb-cd256e98f094","child_tasks_local_reference_list":[{"kind":"app_task","name":"Setup Partitions","uuid":"cb22d90e-2b02-94b5-7eb2-61a02806798f"},{"kind":"app_task","name":"Install_MariaDB","uuid":"41093237-a693-d9d0-e74e-e9ab4dcc8358"},{"kind":"app_task","name":"Configure_MariaDB","uuid":"7777749a-007f-824c-abf0-eae998cb6355"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Setup Partitions","uuid":"cb22d90e-2b02-94b5-7eb2-61a02806798f"},"edge_type":"user_defined","type":"","uuid":"f9d5474c-ed25-c49f-0b97-3e2d15c2cf0e","to_task_reference":{"kind":"app_task","name":"Install_MariaDB","uuid":"41093237-a693-d9d0-e74e-e9ab4dcc8358"}},{"from_task_reference":{"kind":"app_task","name":"Install_MariaDB","uuid":"41093237-a693-d9d0-e74e-e9ab4dcc8358"},"edge_type":"user_defined","type":"","uuid":"944d926c-56b6-b581-bdcf-30bc6ff95459","to_task_reference":{"kind":"app_task","name":"Configure_MariaDB","uuid":"7777749a-007f-824c-abf0-eae998cb6355"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"722b8b0f_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"EXEC","uuid":"cb22d90e-2b02-94b5-7eb2-61a02806798f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MariaDB . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\nsudo yum -y update\nsudo yum -y install lvm2 iotop\n\n#MariaDB data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mariadbDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mariadbDataLV mariadbDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#MariaDB logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mariadbLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mariadbLogLV mariadbLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mariadbDataVG\/mariadbDataLV\nsudo lvchange -r 0 \/dev\/mariadbLogVG\/mariadbLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbDataVG\/mariadbDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbLogVG\/mariadbLogLV\n\nsleep 30\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Partitions"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"EXEC","uuid":"41093237-a693-d9d0-e74e-e9ab4dcc8358","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash -x\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\necho '[mariadb]\nname = MariaDB\nbaseurl = http:\/\/yum.mariadb.org\/10.3\/rhel7-amd64\ngpgkey=https:\/\/yum.mariadb.org\/RPM-GPG-KEY-MariaDB\ngpgcheck=1' | sudo tee \/etc\/yum.repos.d\/mariadb.repo\n\nsudo yum install MariaDB-server MariaDB-client -y","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install_MariaDB"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"EXEC","uuid":"7777749a-007f-824c-abf0-eae998cb6355","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# Disable selinux\nsudo setenforce 0\nsudo sed -i 's\/SELINUX=enforcing\/SELINUX=disabled\/g;s\/SELINUXTYPE=targeted\/#&\/g' \/etc\/selinux\/config\n\necho '!includedir \/etc\/my.cnf.d' | sudo tee \/etc\/my.cnf\n\necho '[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\n\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\nlarge-pages\ninnodb_buffer_pool_instances = 64\ninnodb_flush_method=O_DIRECT\ninnodb_flush_neighbors=0\ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\ninnodb_buffer_pool_load_at_startup=1\nbulk_insert_buffer_size = 256\ninnodb_thread_concurrency = 16\n\n# Undo tablespace\ninnodb_undo_tablespaces = 5\n\n# Networking\nwait_timeout=57600\nmax_allowed_packet=1G\nsocket=\/var\/lib\/mysql\/mysql.sock\nskip-name-resolve\nport=3306\nmax_connections=1000' | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=@@{calm_array_index}@@\" \/etc\/my.cnf.d\/nutanix.cnf\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho 'vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id' | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mariadbDataVG\/mariadbDataLV \/mysql\/data ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mariadbLogVG\/mariadbLogLV \/mysql\/log ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\n\nsudo rm -rf \/mysql\/data\/*\nsudo mysql_install_db &>\/dev\/null\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mariadb\nsudo systemctl start mariadb\n\n# Set root password\nsudo mysqladmin password '@@{MARIADB_PASSWORD}@@'","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Configure_MariaDB"}],"description":"","message_list":[],"uuid":"dc12cc19-03da-e293-17f8-94b475f020e9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"722b8b0f_dag_cloned_1","uuid":"c564dce7-817d-21d5-6bbb-cd256e98f094"},"name":"407db839_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"DAG","uuid":"f020b642-8b58-ca30-d052-db3b1551efe0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c94517ac_dag_cloned_1"}],"description":"","message_list":[],"uuid":"ec059bc5-fdc0-9b8e-2974-9929c82659a1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c94517ac_dag_cloned_1","uuid":"f020b642-8b58-ca30-d052-db3b1551efe0"},"name":"fa2ee8fd_runbook_cloned_0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_9415353a_18bb_03ed_c990_42141ca70238"}],"description":"","message_list":[],"uuid":"43935923-adac-42ad-bcd9-bdce89705b4c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"797877b0-4c57-4ea4-8460-e54303def108"},"name":"SYS_GEN__Runbook_Package_9415353a_18bb_03ed_c990_42141ca70238"}},{"description":"System action for creating an application","message_list":[],"uuid":"0f4963b0-cc16-42f0-9417-0085c0200023","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"DAG","uuid":"b8364e27-0163-4515-be62-7ee0c30a8ee8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"8b898942-45bb-4ccb-82e4-8ee78964df10"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"e6216e5a-6a89-4a5f-a358-164140a240c8"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"4a997f70-e81f-412e-8f48-a1d201e8c3ce"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"e6216e5a-6a89-4a5f-a358-164140a240c8"},"edge_type":"inherent","type":"","uuid":"a3d19b23-6e72-4c72-bc4c-c43e7a289b38","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"4a997f70-e81f-412e-8f48-a1d201e8c3ce"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"8b898942-45bb-4ccb-82e4-8ee78964df10"},"edge_type":"inherent","type":"","uuid":"da5149bb-6bad-44d6-9f55-49797e1fb092","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"e6216e5a-6a89-4a5f-a358-164140a240c8"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9415353a_18bb_03ed_c990_42141ca70238"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8b898942-45bb-4ccb-82e4-8ee78964df10","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"43935923-adac-42ad-bcd9-bdce89705b4c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e6216e5a-6a89-4a5f-a358-164140a240c8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"01bb4182_runbook_cloned_0","uuid":"6690249c-6c8a-84bd-7b13-64d6f949aead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4a997f70-e81f-412e-8f48-a1d201e8c3ce","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1bf1bdf4_runbook_cloned_0","uuid":"8100cf75-08e3-5484-c2d7-8ad69b90b55c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"}],"description":"","message_list":[],"uuid":"5f759ac3-5ca8-4cee-846b-a69b7c3fb349","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"b8364e27-0163-4515-be62-7ee0c30a8ee8"},"name":"SYS_GEN__Runbook_Package_9415353a_18bb_03ed_c990_42141ca70238"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"eb6504bb-1bae-4ae3-8b88-ac291f1fa066","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"DAG","uuid":"ad9f583a-0ed7-46a5-8d00-37f4da62a674","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_9415353a_18bb_03ed_c990_42141ca70238","uuid":"c9d5f7ce-d458-4d22-b5d9-fb386eca862c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_9415353a_18bb_03ed_c990_42141ca70238"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"c9d5f7ce-d458-4d22-b5d9-fb386eca862c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"DAG","uuid":"c564dce7-817d-21d5-6bbb-cd256e98f094","child_tasks_local_reference_list":[{"kind":"app_task","name":"Setup Partitions","uuid":"cb22d90e-2b02-94b5-7eb2-61a02806798f"},{"kind":"app_task","name":"Install_MariaDB","uuid":"41093237-a693-d9d0-e74e-e9ab4dcc8358"},{"kind":"app_task","name":"Configure_MariaDB","uuid":"7777749a-007f-824c-abf0-eae998cb6355"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Setup Partitions","uuid":"cb22d90e-2b02-94b5-7eb2-61a02806798f"},"edge_type":"user_defined","type":"","uuid":"f9d5474c-ed25-c49f-0b97-3e2d15c2cf0e","to_task_reference":{"kind":"app_task","name":"Install_MariaDB","uuid":"41093237-a693-d9d0-e74e-e9ab4dcc8358"}},{"from_task_reference":{"kind":"app_task","name":"Install_MariaDB","uuid":"41093237-a693-d9d0-e74e-e9ab4dcc8358"},"edge_type":"user_defined","type":"","uuid":"944d926c-56b6-b581-bdcf-30bc6ff95459","to_task_reference":{"kind":"app_task","name":"Configure_MariaDB","uuid":"7777749a-007f-824c-abf0-eae998cb6355"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"722b8b0f_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"EXEC","uuid":"cb22d90e-2b02-94b5-7eb2-61a02806798f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MariaDB . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\nsudo yum -y update\nsudo yum -y install lvm2 iotop\n\n#MariaDB data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mariadbDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mariadbDataLV mariadbDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#MariaDB logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mariadbLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mariadbLogLV mariadbLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mariadbDataVG\/mariadbDataLV\nsudo lvchange -r 0 \/dev\/mariadbLogVG\/mariadbLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbDataVG\/mariadbDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbLogVG\/mariadbLogLV\n\nsleep 30\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Partitions"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"EXEC","uuid":"41093237-a693-d9d0-e74e-e9ab4dcc8358","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash -x\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\necho '[mariadb]\nname = MariaDB\nbaseurl = http:\/\/yum.mariadb.org\/10.3\/rhel7-amd64\ngpgkey=https:\/\/yum.mariadb.org\/RPM-GPG-KEY-MariaDB\ngpgcheck=1' | sudo tee \/etc\/yum.repos.d\/mariadb.repo\n\nsudo yum install MariaDB-server MariaDB-client -y","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install_MariaDB"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"EXEC","uuid":"7777749a-007f-824c-abf0-eae998cb6355","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# Disable selinux\nsudo setenforce 0\nsudo sed -i 's\/SELINUX=enforcing\/SELINUX=disabled\/g;s\/SELINUXTYPE=targeted\/#&\/g' \/etc\/selinux\/config\n\necho '!includedir \/etc\/my.cnf.d' | sudo tee \/etc\/my.cnf\n\necho '[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\n\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\nlarge-pages\ninnodb_buffer_pool_instances = 64\ninnodb_flush_method=O_DIRECT\ninnodb_flush_neighbors=0\ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\ninnodb_buffer_pool_load_at_startup=1\nbulk_insert_buffer_size = 256\ninnodb_thread_concurrency = 16\n\n# Undo tablespace\ninnodb_undo_tablespaces = 5\n\n# Networking\nwait_timeout=57600\nmax_allowed_packet=1G\nsocket=\/var\/lib\/mysql\/mysql.sock\nskip-name-resolve\nport=3306\nmax_connections=1000' | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=@@{calm_array_index}@@\" \/etc\/my.cnf.d\/nutanix.cnf\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho 'vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id' | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mariadbDataVG\/mariadbDataLV \/mysql\/data ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mariadbLogVG\/mariadbLogLV \/mysql\/log ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\n\nsudo rm -rf \/mysql\/data\/*\nsudo mysql_install_db &>\/dev\/null\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mariadb\nsudo systemctl start mariadb\n\n# Set root password\nsudo mysqladmin password '@@{MARIADB_PASSWORD}@@'","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Configure_MariaDB"}],"description":"","message_list":[],"uuid":"dc12cc19-03da-e293-17f8-94b475f020e9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"722b8b0f_dag_cloned_1","uuid":"c564dce7-817d-21d5-6bbb-cd256e98f094"},"name":"407db839_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"DAG","uuid":"f020b642-8b58-ca30-d052-db3b1551efe0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c94517ac_dag_cloned_1"}],"description":"","message_list":[],"uuid":"ec059bc5-fdc0-9b8e-2974-9929c82659a1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c94517ac_dag_cloned_1","uuid":"f020b642-8b58-ca30-d052-db3b1551efe0"},"name":"fa2ee8fd_runbook_cloned_0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_9415353a_18bb_03ed_c990_42141ca70238"}],"description":"","message_list":[],"uuid":"500c8cd1-f0b6-4689-a5c5-86dec996f8ac","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"ad9f583a-0ed7-46a5-8d00-37f4da62a674"},"name":"SYS_GEN__Runbook_Package_9415353a_18bb_03ed_c990_42141ca70238"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"360e9590-9c14-455e-9a46-3ee6640605d9","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"DAG","uuid":"cc189ff5-e9e5-4a16-8b62-2cbbc5f5aba1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"b3a18c3f-3de9-48cd-8ad4-d2206dc42b34"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"e4ae8ffa-9283-41d8-846f-e3203f1e3d4e"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"963b951d-573f-4b90-a8f6-812717909f03"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"b3a18c3f-3de9-48cd-8ad4-d2206dc42b34"},"edge_type":"inherent","type":"","uuid":"ae20fd90-05d1-425c-9f77-23d31f43ed30","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"e4ae8ffa-9283-41d8-846f-e3203f1e3d4e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"e4ae8ffa-9283-41d8-846f-e3203f1e3d4e"},"edge_type":"inherent","type":"","uuid":"82ec9b60-5375-4b9e-b2e1-cbe17a4e7c64","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"963b951d-573f-4b90-a8f6-812717909f03"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9415353a_18bb_03ed_c990_42141ca70238"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b3a18c3f-3de9-48cd-8ad4-d2206dc42b34","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a068d42f_runbook_cloned_0","uuid":"a83f324f-70bf-b175-d781-d9467d906c54"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e4ae8ffa-9283-41d8-846f-e3203f1e3d4e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3298ad28_runbook_cloned_0","uuid":"6ec95eca-af06-5bf9-3cce-cca14796b40e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"963b951d-573f-4b90-a8f6-812717909f03","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"500c8cd1-f0b6-4689-a5c5-86dec996f8ac"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_9415353a_18bb_03ed_c990_42141ca70238"}],"description":"","message_list":[],"uuid":"e71830aa-c5c8-4516-b9b7-04ecdc1bd89f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"cc189ff5-e9e5-4a16-8b62-2cbbc5f5aba1"},"name":"SYS_GEN__Runbook_Package_9415353a_18bb_03ed_c990_42141ca70238"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"c597af4c-c72d-4b4f-9cc3-64e212f6c399","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"DAG","uuid":"e0c78cbe-5c78-4bce-b62f-54f4dc4f7cac","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"5d381c83-55f0-48db-884b-1c86db22c491"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9415353a_18bb_03ed_c990_42141ca70238","uuid":"912a9a3a-6b86-44a2-aa35-1515603eb242"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"5d381c83-55f0-48db-884b-1c86db22c491"},"edge_type":"inherent","type":"","uuid":"2f354549-bdfe-4160-b8a4-4724a792b3fb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9415353a_18bb_03ed_c990_42141ca70238","uuid":"912a9a3a-6b86-44a2-aa35-1515603eb242"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9415353a_18bb_03ed_c990_42141ca70238"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5d381c83-55f0-48db-884b-1c86db22c491","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"06651f9b-3852-4792-b0b4-a9bd1292ea2a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"912a9a3a-6b86-44a2-aa35-1515603eb242","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_9415353a_18bb_03ed_c990_42141ca70238"}],"description":"","message_list":[],"uuid":"5d35f871-cc74-4cff-9dfd-045b271b141e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"e0c78cbe-5c78-4bce-b62f-54f4dc4f7cac"},"name":"SYS_GEN__Runbook_Package_9415353a_18bb_03ed_c990_42141ca70238"}},{"description":"System action for starting an application","message_list":[],"uuid":"3a19926f-5220-41a2-ba1f-122ae3486f46","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"DAG","uuid":"d9143be8-f47a-4b0b-bfca-d4235784bb07","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"e711e61c-0b67-4cf4-a681-33d346bdc4a2"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9415353a_18bb_03ed_c990_42141ca70238"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e711e61c-0b67-4cf4-a681-33d346bdc4a2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1bf1bdf4_runbook_cloned_0","uuid":"8100cf75-08e3-5484-c2d7-8ad69b90b55c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"}],"description":"","message_list":[],"uuid":"bda9a0d1-eaf0-48bf-9fab-343821ceee78","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"d9143be8-f47a-4b0b-bfca-d4235784bb07"},"name":"SYS_GEN__Runbook_Package_9415353a_18bb_03ed_c990_42141ca70238"}},{"description":"System action for restarting an application","message_list":[],"uuid":"42b75464-e053-47a4-9b0b-c5a6146363fb","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"DAG","uuid":"eee18b74-8105-48eb-99f9-db8a8a8b180e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"83c4758b-9b7d-4715-872a-042676dba1b9"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9415353a_18bb_03ed_c990_42141ca70238"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"83c4758b-9b7d-4715-872a-042676dba1b9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"dbeb27ce_runbook_cloned_0","uuid":"2e83b648-6f2b-8e57-1988-4c3d16a391f3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"}],"description":"","message_list":[],"uuid":"d3a902cb-7345-4a61-b849-e798129ff6b0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"eee18b74-8105-48eb-99f9-db8a8a8b180e"},"name":"SYS_GEN__Runbook_Package_9415353a_18bb_03ed_c990_42141ca70238"}},{"description":"System action for stopping an application","message_list":[],"uuid":"b72e2096-a635-42aa-9d7b-8aabef8da503","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"DAG","uuid":"0b44a3b4-dbb8-4ddb-96ee-8f52892c0976","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2","uuid":"6b8ed088-2c11-4e67-841d-8c824bb24f65"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9415353a_18bb_03ed_c990_42141ca70238"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6b8ed088-2c11-4e67-841d-8c824bb24f65","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a068d42f_runbook_cloned_0","uuid":"a83f324f-70bf-b175-d781-d9467d906c54"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2ec8fb88_6b37_bec3_1f30_e14b6de4f2c2"}],"description":"","message_list":[],"uuid":"ed38b8cb-84c5-4b0e-9aaf-e3306522a278","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9415353a_18bb_03ed_c990_42141ca70238","uuid":"0b44a3b4-dbb8-4ddb-96ee-8f52892c0976"},"name":"SYS_GEN__Runbook_Package_9415353a_18bb_03ed_c990_42141ca70238"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"}],"uuid":"9415353a-18bb-03ed-c990-42141ca70238","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"DAG","uuid":"c564dce7-817d-21d5-6bbb-cd256e98f094","child_tasks_local_reference_list":[{"kind":"app_task","name":"Setup Partitions","uuid":"cb22d90e-2b02-94b5-7eb2-61a02806798f"},{"kind":"app_task","name":"Install_MariaDB","uuid":"41093237-a693-d9d0-e74e-e9ab4dcc8358"},{"kind":"app_task","name":"Configure_MariaDB","uuid":"7777749a-007f-824c-abf0-eae998cb6355"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Setup Partitions","uuid":"cb22d90e-2b02-94b5-7eb2-61a02806798f"},"edge_type":"user_defined","type":"","uuid":"f9d5474c-ed25-c49f-0b97-3e2d15c2cf0e","to_task_reference":{"kind":"app_task","name":"Install_MariaDB","uuid":"41093237-a693-d9d0-e74e-e9ab4dcc8358"}},{"from_task_reference":{"kind":"app_task","name":"Install_MariaDB","uuid":"41093237-a693-d9d0-e74e-e9ab4dcc8358"},"edge_type":"user_defined","type":"","uuid":"944d926c-56b6-b581-bdcf-30bc6ff95459","to_task_reference":{"kind":"app_task","name":"Configure_MariaDB","uuid":"7777749a-007f-824c-abf0-eae998cb6355"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"722b8b0f_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"EXEC","uuid":"cb22d90e-2b02-94b5-7eb2-61a02806798f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MariaDB . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\nsudo yum -y update\nsudo yum -y install lvm2 iotop\n\n#MariaDB data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mariadbDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mariadbDataLV mariadbDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#MariaDB logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mariadbLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mariadbLogLV mariadbLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mariadbDataVG\/mariadbDataLV\nsudo lvchange -r 0 \/dev\/mariadbLogVG\/mariadbLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbDataVG\/mariadbDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbLogVG\/mariadbLogLV\n\nsleep 30\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Partitions"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"EXEC","uuid":"41093237-a693-d9d0-e74e-e9ab4dcc8358","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash -x\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\necho '[mariadb]\nname = MariaDB\nbaseurl = http:\/\/yum.mariadb.org\/10.3\/rhel7-amd64\ngpgkey=https:\/\/yum.mariadb.org\/RPM-GPG-KEY-MariaDB\ngpgcheck=1' | sudo tee \/etc\/yum.repos.d\/mariadb.repo\n\nsudo yum install MariaDB-server MariaDB-client -y","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install_MariaDB"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave","uuid":"2ec8fb88-6b37-bec3-1f30-e14b6de4f2c2"},"retries":"0","description":"","type":"EXEC","uuid":"7777749a-007f-824c-abf0-eae998cb6355","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# Disable selinux\nsudo setenforce 0\nsudo sed -i 's\/SELINUX=enforcing\/SELINUX=disabled\/g;s\/SELINUXTYPE=targeted\/#&\/g' \/etc\/selinux\/config\n\necho '!includedir \/etc\/my.cnf.d' | sudo tee \/etc\/my.cnf\n\necho '[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\n\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\nlarge-pages\ninnodb_buffer_pool_instances = 64\ninnodb_flush_method=O_DIRECT\ninnodb_flush_neighbors=0\ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\ninnodb_buffer_pool_load_at_startup=1\nbulk_insert_buffer_size = 256\ninnodb_thread_concurrency = 16\n\n# Undo tablespace\ninnodb_undo_tablespaces = 5\n\n# Networking\nwait_timeout=57600\nmax_allowed_packet=1G\nsocket=\/var\/lib\/mysql\/mysql.sock\nskip-name-resolve\nport=3306\nmax_connections=1000' | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=@@{calm_array_index}@@\" \/etc\/my.cnf.d\/nutanix.cnf\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho 'vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id' | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mariadbDataVG\/mariadbDataLV \/mysql\/data ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mariadbLogVG\/mariadbLogLV \/mysql\/log ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\n\nsudo rm -rf \/mysql\/data\/*\nsudo mysql_install_db &>\/dev\/null\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mariadb\nsudo systemctl start mariadb\n\n# Set root password\nsudo mysqladmin password '@@{MARIADB_PASSWORD}@@'","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"892f20c3-ddf0-4a6a-8eae-686cd7f4c748"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Configure_MariaDB"}],"description":"","message_list":[],"uuid":"dc12cc19-03da-e293-17f8-94b475f020e9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"722b8b0f_dag_cloned_1","uuid":"c564dce7-817d-21d5-6bbb-cd256e98f094"},"name":"407db839_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave","uuid":"9415353a-18bb-03ed-c990-42141ca70238"},"retries":"0","description":"","type":"DAG","uuid":"f020b642-8b58-ca30-d052-db3b1551efe0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c94517ac_dag_cloned_1"}],"description":"","message_list":[],"uuid":"ec059bc5-fdc0-9b8e-2974-9929c82659a1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c94517ac_dag_cloned_1","uuid":"f020b642-8b58-ca30-d052-db3b1551efe0"},"name":"fa2ee8fd_runbook_cloned_0"}},"variable_list":[],"name":"AHV_Mariadb_Install_Slave"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"82a8a034-a669-45a7-810c-81a6ba08e795","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"e25ee58d-3405-21e3-cd82-7f0aa3cb9d0d"},"retries":"0","description":"","type":"DAG","uuid":"1ae4d295-33a9-437f-80ad-7c9e436664ec","child_tasks_local_reference_list":[{"kind":"app_task","name":"Image Fetch task for VM","uuid":"a2d85845-9fbd-4de5-a870-31f8f8505fc1"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"e25ee58d-3405-21e3-cd82-7f0aa3cb9d0d"},"retries":"0","description":"","type":"SUBSTRATE_IMAGE_FETCH","uuid":"a2d85845-9fbd-4de5-a870-31f8f8505fc1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"","name":"CENTOS_76","resources":{"image_type":"DISK_IMAGE","checksum":{},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.qcow2","version":{},"architecture":"X86_64","type":""},"description":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Image Fetch task for VM"}],"description":"","message_list":[],"uuid":"cee3b529-af98-4777-86b9-8f42f417fe67","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"1ae4d295-33a9-437f-80ad-7c9e436664ec"},"name":"SYS_GEN__Runbook_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d"}},{"description":"System action for creating an application","message_list":[],"uuid":"d621edfa-2dd1-4f5e-b0cc-f4b6cd2ec6e2","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"e25ee58d-3405-21e3-cd82-7f0aa3cb9d0d"},"retries":"0","description":"","type":"DAG","uuid":"4d0eac64-72b5-45a4-b1f4-4125325c5bf2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"0255a846-ad8f-4cc0-995d-66dbba3e7f58"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"e25ee58d-3405-21e3-cd82-7f0aa3cb9d0d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0255a846-ad8f-4cc0-995d-66dbba3e7f58","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"cee3b529-af98-4777-86b9-8f42f417fe67"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d"}],"description":"","message_list":[],"uuid":"b2431d25-3a1b-4fd4-b1bb-af6887bd7dc7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"4d0eac64-72b5-45a4-b1f4-4125325c5bf2"},"name":"SYS_GEN__Runbook_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d"}},{"description":"System action for starting an application","message_list":[],"uuid":"261ab53f-4047-4745-94ff-e5d761975acf","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"e25ee58d-3405-21e3-cd82-7f0aa3cb9d0d"},"retries":"0","description":"","type":"DAG","uuid":"04a849cc-e7ad-474b-a331-2633ca38cfe5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d"}],"description":"","message_list":[],"uuid":"b2374370-da03-406f-b16c-92dbb23193de","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"04a849cc-e7ad-474b-a331-2633ca38cfe5"},"name":"SYS_GEN__Runbook_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d"}},{"description":"System action for restarting an application","message_list":[],"uuid":"441c0cbd-63e3-4361-be0d-2735caef0d88","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"e25ee58d-3405-21e3-cd82-7f0aa3cb9d0d"},"retries":"0","description":"","type":"DAG","uuid":"9fc012bf-a537-4d2d-94c2-00bc578789ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d"}],"description":"","message_list":[],"uuid":"e3b50515-0353-4213-a802-3356b7cfdcbf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"9fc012bf-a537-4d2d-94c2-00bc578789ad"},"name":"SYS_GEN__Runbook_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d"}},{"description":"System action for stopping an application","message_list":[],"uuid":"0a6612da-bacd-4861-a5c2-025a1eb53d53","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"e25ee58d-3405-21e3-cd82-7f0aa3cb9d0d"},"retries":"0","description":"","type":"DAG","uuid":"431b21a3-347a-413c-be01-a25773bbac9f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d"}],"description":"","message_list":[],"uuid":"b30caf82-4d75-41e5-8abd-e30f1bed44c7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"431b21a3-347a-413c-be01-a25773bbac9f"},"name":"SYS_GEN__Runbook_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"e408e49d-6270-4665-98fb-5697b274d5ca","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"e25ee58d-3405-21e3-cd82-7f0aa3cb9d0d"},"retries":"0","description":"","type":"DAG","uuid":"6276b716-a515-4240-b0a0-c94ea251b50b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d"}],"description":"","message_list":[],"uuid":"a140c794-5193-4a83-a7d8-3b608ba4b3cd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"6276b716-a515-4240-b0a0-c94ea251b50b"},"name":"SYS_GEN__Runbook_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"35bd0eda-3a74-4583-ace4-5c0034c5ccd0","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"e25ee58d-3405-21e3-cd82-7f0aa3cb9d0d"},"retries":"0","description":"","type":"DAG","uuid":"096cc488-d7e7-42d6-8bea-720b3a6333e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d"}],"description":"","message_list":[],"uuid":"5289f6c2-38b1-497c-bd16-448749590142","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d","uuid":"096cc488-d7e7-42d6-8bea-720b3a6333e7"},"name":"SYS_GEN__Runbook_Package_e25ee58d_3405_21e3_cd82_7f0aa3cb9d0d"}}],"message_list":[],"service_local_reference_list":[],"uuid":"e25ee58d-3405-21e3-cd82-7f0aa3cb9d0d","state":"ACTIVE","version":"","editables":{},"type":"SUBSTRATE_IMAGE","options":{"type":"","name":"CENTOS_76","resources":{"image_type":"DISK_IMAGE","checksum":{},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.qcow2","version":{},"architecture":"X86_64","type":""},"description":""},"variable_list":[],"name":"AHV_CENTOS_76"}]},"name":"MariaDB_Master_Slave"},"spec":{"description":"* sudo mysqladmin password $${MARIADB_PASSWORD}}\n* default password [ nutanix\/4u ]","resources":{"client_attrs":{"a7b3d65f_deployment_cloned_0":{"y":260,"x":591.5},"21b34780-dcba-7d11-991f-7f7141e10bbe":{"y":219,"x":698.9083251953},"a7b3d65f_deployment":{"y":259,"x":315.5}},"service_definition_list":[{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Configure Master"},{"kind":"app_task","name":"Get Master Status"}],"name":"5a264e52_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Configure Master"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"Get Master Status"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Configure Master","attrs":{"exit_status":[],"script":"#!\/bin\/bash -ex\n\nsudo sed -i \"\/\\[mysqld\\]\/a innodb_flush_log_at_trx_commit=1\" \/etc\/my.cnf.d\/nutanix.cnf\nsudo sed -i \"\/\\[mysqld\\]\/a sync_binlog=1\" \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo mysql -u root -p'@@{AHV_Mariadb_Master.MARIADB_PASSWORD}@@' -e \"\ngrant replication slave on *.* TO slave@'%' identified by '@@{AHV_Mariadb_Master.MARIADB_PASSWORD}@@'\"\n\nsudo systemctl restart mysqld","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Get Master Status","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nSTATE=`mysql -u root -p'@@{AHV_Mariadb_Master.MARIADB_PASSWORD}@@' -e 'show master status'`\n\necho BINLOG_FILE=`echo \"$STATE\" | awk 'END {print $1}'`\necho BINLOG_POSITION=`echo \"$STATE\" | awk 'END {print $2}'`","eval_variables":["BINLOG_FILE","BINLOG_POSITION"],"eval_scope":"local","script_type":"sh","type":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"timeout_secs":"0","type":"SET_VARIABLE","variable_list":[]}],"description":"","name":"01bb4182_runbook","main_task_local_reference":{"kind":"app_task","name":"5a264e52_dag"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"c03b22fe_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"3298ad28_runbook","main_task_local_reference":{"kind":"app_task","name":"c03b22fe_dag"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"6b1066a1_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"1bf1bdf4_runbook","main_task_local_reference":{"kind":"app_task","name":"6b1066a1_dag"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"af3a3abc_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"a068d42f_runbook","main_task_local_reference":{"kind":"app_task","name":"af3a3abc_dag"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"e676c8c0_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"dbeb27ce_runbook","main_task_local_reference":{"kind":"app_task","name":"e676c8c0_dag"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[],"name":"MariaDB_Master","port_list":[],"tier":"","variable_list":[{"val_type":"STRING","description":"","name":"BINLOG_FILE","type":"LOCAL","value":"","label":"","attrs":{"type":""}},{"val_type":"STRING","description":"","name":"BINLOG_POSITION","type":"LOCAL","value":"","label":"","attrs":{"type":""}}],"description":""},{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Configure MariaDB Slave"}],"name":"5a264e52_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Configure MariaDB Slave","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nmysql -u root -p'@@{MariaDB_Master.MARIADB_PASSWORD}@@' -e \"\nCHANGE MASTER TO MASTER_HOST='@@{MariaDB_Master.address}@@',MASTER_USER='slave', MASTER_PASSWORD='@@{MariaDB_Master.MARIADB_PASSWORD}@@', MASTER_LOG_FILE='@@{MariaDB_Master.BINLOG_FILE}@@', MASTER_LOG_POS=@@{MariaDB_Master.BINLOG_POSITION}@@;\nstart slave;\nshow slave status\\G\n\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"01bb4182_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"5a264e52_dag_cloned_1"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"c03b22fe_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"3298ad28_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"c03b22fe_dag_cloned_1"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"6b1066a1_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"1bf1bdf4_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"6b1066a1_dag_cloned_1"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"af3a3abc_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"a068d42f_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"af3a3abc_dag_cloned_1"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"e676c8c0_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"dbeb27ce_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"e676c8c0_dag_cloned_1"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[],"name":"MariaDB_Slave","port_list":[],"tier":"","variable_list":[],"description":""}],"substrate_definition_list":[{"description":"","action_list":[],"type":"AHV_VM","name":"AHV_Mariadb_Master","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"nic_list":{"0":{"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true},"0":{"data_source_reference":true,"device_properties":{"device_type":true,"disk_address":{"adapter_type":true}}},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"8":{"disk_size_mib":true}}},"categories":true,"name":true}},"os_type":"Linux","create_spec":{"name":"MariaDB-@@{calm_time}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"gpu_list":[],"memory_size_mib":16384,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"power_state":"ON","type":"","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"e25ee58d-3405-21e3-cd82-7f0aa3cb9d0d"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":1,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":2,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":3,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":4,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":5,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":6,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":7,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":8,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[]},{"description":"","action_list":[],"type":"AHV_VM","name":"AHV_Mariadb_Slave","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"nic_list":{"0":{"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true},"0":{"data_source_reference":true,"device_properties":{"device_type":true,"disk_address":{"adapter_type":true}}},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"8":{"disk_size_mib":true}}},"categories":true,"name":true}},"os_type":"Linux","create_spec":{"name":"MariaDB-@@{calm_time}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"gpu_list":[],"memory_size_mib":16384,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"power_state":"ON","type":"","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"e25ee58d-3405-21e3-cd82-7f0aa3cb9d0d"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":1,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":2,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":3,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":4,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":5,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":6,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":7,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":8,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[]}],"credential_definition_list":[{"username":"centos","description":"","type":"KEY","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"name":"CENTOS"}],"package_definition_list":[{"description":"","action_list":[],"type":"DEB","service_local_reference_list":[{"kind":"app_service","name":"MariaDB_Master"}],"name":"AHV_Mariadb_Install_Master","version":"","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master"},"retries":"0","description":"","message_list":[],"child_tasks_local_reference_list":[{"kind":"app_task","name":"Setup Partitions"},{"kind":"app_task","name":"Install_MariaDB"},{"kind":"app_task","name":"Configure_MariaDB"}],"name":"722b8b0f_dag","state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Setup Partitions"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"Install_MariaDB"}},{"from_task_reference":{"kind":"app_task","name":"Install_MariaDB"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"Configure_MariaDB"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master"},"retries":"0","description":"","message_list":[],"child_tasks_local_reference_list":[],"name":"Setup Partitions","state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MariaDB . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\nsudo yum -y update\nsudo yum -y install lvm2 iotop\n\n#MariaDB data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mariadbDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mariadbDataLV mariadbDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#MariaDB logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mariadbLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mariadbLogLV mariadbLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mariadbDataVG\/mariadbDataLV\nsudo lvchange -r 0 \/dev\/mariadbLogVG\/mariadbLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbDataVG\/mariadbDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbLogVG\/mariadbLogLV\n\nsleep 30\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master"},"retries":"0","description":"","message_list":[],"child_tasks_local_reference_list":[],"name":"Install_MariaDB","state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash -x\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\necho '[mariadb]\nname = MariaDB\nbaseurl = http:\/\/yum.mariadb.org\/10.3\/rhel7-amd64\ngpgkey=https:\/\/yum.mariadb.org\/RPM-GPG-KEY-MariaDB\ngpgcheck=1' | sudo tee \/etc\/yum.repos.d\/mariadb.repo\n\nsudo yum install MariaDB-server MariaDB-client -y","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Master"},"retries":"0","description":"","message_list":[],"child_tasks_local_reference_list":[],"name":"Configure_MariaDB","state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# Disable selinux\nsudo setenforce 0\nsudo sed -i 's\/SELINUX=enforcing\/SELINUX=disabled\/g;s\/SELINUXTYPE=targeted\/#&\/g' \/etc\/selinux\/config\n\necho '!includedir \/etc\/my.cnf.d' | sudo tee \/etc\/my.cnf\n\necho '[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\n\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\nlarge-pages\ninnodb_buffer_pool_instances = 64\ninnodb_flush_method=O_DIRECT\ninnodb_flush_neighbors=0\ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\ninnodb_buffer_pool_load_at_startup=1\nbulk_insert_buffer_size = 256\ninnodb_thread_concurrency = 16\n\n# Undo tablespace\ninnodb_undo_tablespaces = 5\n\n# Networking\nwait_timeout=57600\nmax_allowed_packet=1G\nsocket=\/var\/lib\/mysql\/mysql.sock\nskip-name-resolve\nport=3306\nmax_connections=1000' | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho 'vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id' | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mariadbDataVG\/mariadbDataLV \/mysql\/data ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mariadbLogVG\/mariadbLogLV \/mysql\/log ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\n\nsudo rm -rf \/mysql\/data\/*\nsudo mysql_install_db &>\/dev\/null\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mariadb\nsudo systemctl start mariadb\n\n# Set root password\nsudo mysqladmin password '@@{MARIADB_PASSWORD}@@'","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"407db839_runbook","state":"ACTIVE","main_task_local_reference":{"kind":"app_task","name":"722b8b0f_dag"},"message_list":[],"variable_list":[]},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Master"},"retries":"0","description":"","message_list":[],"child_tasks_local_reference_list":[],"name":"c94517ac_dag","state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"fa2ee8fd_runbook","state":"ACTIVE","main_task_local_reference":{"kind":"app_task","name":"c94517ac_dag"},"message_list":[],"variable_list":[]}},"variable_list":[]},{"description":"","action_list":[],"type":"DEB","service_local_reference_list":[{"kind":"app_service","name":"MariaDB_Slave"}],"name":"AHV_Mariadb_Install_Slave","version":"","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave"},"retries":"0","description":"","message_list":[],"child_tasks_local_reference_list":[{"kind":"app_task","name":"Setup Partitions"},{"kind":"app_task","name":"Install_MariaDB"},{"kind":"app_task","name":"Configure_MariaDB"}],"name":"722b8b0f_dag_cloned_1","state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Setup Partitions"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"Install_MariaDB"}},{"from_task_reference":{"kind":"app_task","name":"Install_MariaDB"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"Configure_MariaDB"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave"},"retries":"0","description":"","message_list":[],"child_tasks_local_reference_list":[],"name":"Setup Partitions","state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MariaDB . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\nsudo yum -y update\nsudo yum -y install lvm2 iotop\n\n#MariaDB data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mariadbDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mariadbDataLV mariadbDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#MariaDB logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mariadbLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mariadbLogLV mariadbLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mariadbDataVG\/mariadbDataLV\nsudo lvchange -r 0 \/dev\/mariadbLogVG\/mariadbLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbDataVG\/mariadbDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbLogVG\/mariadbLogLV\n\nsleep 30\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave"},"retries":"0","description":"","message_list":[],"child_tasks_local_reference_list":[],"name":"Install_MariaDB","state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash -x\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\necho '[mariadb]\nname = MariaDB\nbaseurl = http:\/\/yum.mariadb.org\/10.3\/rhel7-amd64\ngpgkey=https:\/\/yum.mariadb.org\/RPM-GPG-KEY-MariaDB\ngpgcheck=1' | sudo tee \/etc\/yum.repos.d\/mariadb.repo\n\nsudo yum install MariaDB-server MariaDB-client -y","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Slave"},"retries":"0","description":"","message_list":[],"child_tasks_local_reference_list":[],"name":"Configure_MariaDB","state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# Disable selinux\nsudo setenforce 0\nsudo sed -i 's\/SELINUX=enforcing\/SELINUX=disabled\/g;s\/SELINUXTYPE=targeted\/#&\/g' \/etc\/selinux\/config\n\necho '!includedir \/etc\/my.cnf.d' | sudo tee \/etc\/my.cnf\n\necho '[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\n\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\nlarge-pages\ninnodb_buffer_pool_instances = 64\ninnodb_flush_method=O_DIRECT\ninnodb_flush_neighbors=0\ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\ninnodb_buffer_pool_load_at_startup=1\nbulk_insert_buffer_size = 256\ninnodb_thread_concurrency = 16\n\n# Undo tablespace\ninnodb_undo_tablespaces = 5\n\n# Networking\nwait_timeout=57600\nmax_allowed_packet=1G\nsocket=\/var\/lib\/mysql\/mysql.sock\nskip-name-resolve\nport=3306\nmax_connections=1000' | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=@@{calm_array_index}@@\" \/etc\/my.cnf.d\/nutanix.cnf\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho 'vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id' | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mariadbDataVG\/mariadbDataLV \/mysql\/data ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mariadbLogVG\/mariadbLogLV \/mysql\/log ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\n\nsudo rm -rf \/mysql\/data\/*\nsudo mysql_install_db &>\/dev\/null\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mariadb\nsudo systemctl start mariadb\n\n# Set root password\nsudo mysqladmin password '@@{MARIADB_PASSWORD}@@'","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"407db839_runbook_cloned_0","state":"ACTIVE","main_task_local_reference":{"kind":"app_task","name":"722b8b0f_dag_cloned_1"},"message_list":[],"variable_list":[]},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install_Slave"},"retries":"0","description":"","message_list":[],"child_tasks_local_reference_list":[],"name":"c94517ac_dag_cloned_1","state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"fa2ee8fd_runbook_cloned_0","state":"ACTIVE","main_task_local_reference":{"kind":"app_task","name":"c94517ac_dag_cloned_1"},"message_list":[],"variable_list":[]}},"variable_list":[]},{"description":"","action_list":[],"type":"SUBSTRATE_IMAGE","service_local_reference_list":[],"name":"AHV_CENTOS_76","version":"","options":{"type":"","name":"CENTOS_76","resources":{"image_type":"DISK_IMAGE","checksum":{},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.qcow2","version":{},"architecture":"X86_64","type":""},"description":""},"variable_list":[]}],"app_profile_list":[{"deployment_create_list":[{"type":"GREENFIELD","action_list":[],"depends_on_list":[],"name":"a7b3d65f_deployment","published_service_local_reference_list":[],"max_replicas":"1","package_local_reference_list":[{"kind":"app_package","name":"AHV_Mariadb_Install_Master"}],"substrate_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Master"},"min_replicas":"1","variable_list":[],"description":""},{"type":"GREENFIELD","action_list":[],"depends_on_list":[],"name":"a7b3d65f_deployment_cloned_0","editables":{"min_replicas":true,"max_replicas":true},"published_service_local_reference_list":[],"max_replicas":"3","package_local_reference_list":[{"kind":"app_package","name":"AHV_Mariadb_Install_Slave"}],"substrate_local_reference":{"kind":"app_substrate","name":"AHV_Mariadb_Slave"},"min_replicas":"1","variable_list":[],"description":""}],"description":"","action_list":[{"description":"","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"ScaleOut"}],"name":"1b08a45c_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"ScaleOut","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[]}],"description":"","name":"415c1b51_runbook","main_task_local_reference":{"kind":"app_task","name":"1b08a45c_dag"},"variable_list":[{"val_type":"STRING","description":"","name":"COUNT","type":"LOCAL","value":"1","label":"","attrs":{"type":""},"editables":{"value":true}}]},"name":"ScaleOut"},{"description":"","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"ScaleIn"}],"name":"325dcdb9_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment_cloned_0"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"ScaleIn","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[]}],"description":"","name":"7d2edf7c_runbook","main_task_local_reference":{"kind":"app_task","name":"325dcdb9_dag"},"variable_list":[{"val_type":"STRING","description":"","name":"COUNT","type":"LOCAL","value":"1","label":"","attrs":{"type":""},"editables":{"value":true}}]},"name":"ScaleIn"}],"name":"Nutanix","variable_list":[{"val_type":"STRING","description":"","name":"MARIADB_PASSWORD","type":"SECRET","value":"","label":"","attrs":{"is_secret_modified":false,"secret_reference":{},"type":""},"editables":{"value":true}}]}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"CENTOS"},"type":"USER"},"name":"MariaDB_Master_Slave"},"api_version":"3.0","metadata":{"last_update_time":"1549013838636810","kind":"blueprint","spec_version":44,"creation_time":"1547713255672238","name":"MariaDB_Master_Slave"}}