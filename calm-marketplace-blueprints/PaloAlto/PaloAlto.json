{"status": {"state": "ACTIVE", "message_list": [], "description": "Paloalto BP to test things", "resources": {"service_definition_list": [{"singleton": false, "uuid": "563bc890-54d1-4f35-8543-b1d583472e28", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "ef6da38c-8494-9c97-144b-8f8663f94617", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "6db1fd2b_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "fa5519a2-dfb0-3626-072a-df2ee20965e4"}], "description": "", "name": "f27196d1_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "6db1fd2b_dag", "uuid": "fa5519a2-dfb0-3626-072a-df2ee20965e4"}, "message_list": [], "variable_list": [], "uuid": "b7e9afa4-74ce-dc1a-ce28-a1cddc717251"}, "message_list": [], "name": "action_create"}, {"description": "System action for deleting an application. Deletes created VMs as well", "type": "system", "uuid": "41633064-293b-6df6-d489-e1797bef5f25", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "c9590be7_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "851a0f97-ec8d-9481-0750-ce4f5523c4d9"}], "description": "", "name": "600bbd68_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "c9590be7_dag", "uuid": "851a0f97-ec8d-9481-0750-ce4f5523c4d9"}, "message_list": [], "variable_list": [], "uuid": "c519ffa9-6a9f-b738-65c6-02c701d90214"}, "message_list": [], "name": "action_delete"}, {"description": "System action for starting an application", "type": "system", "uuid": "9aa7bdf6-4508-7508-6017-af4c7269c7ae", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "f15b951f_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "0f0ab5e7-fdaf-2d54-c5cd-4312bcf8ae7e"}], "description": "", "name": "29cb19fc_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "f15b951f_dag", "uuid": "0f0ab5e7-fdaf-2d54-c5cd-4312bcf8ae7e"}, "message_list": [], "variable_list": [], "uuid": "d15a5980-90d6-0cf6-344f-26de829ee17d"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "1ea6da0a-e111-7157-210a-3e6fd2959e15", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "14145f2a_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "3858f477-c692-58a6-d026-611e36683576"}], "description": "", "name": "6118a0fb_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "14145f2a_dag", "uuid": "3858f477-c692-58a6-d026-611e36683576"}, "message_list": [], "variable_list": [], "uuid": "97e985a8-41ec-00cc-0588-2f5803eb911f"}, "message_list": [], "name": "action_stop"}, {"description": "System action for restarting an application", "type": "system", "uuid": "e723e22a-3909-9ea2-f6e7-09135ef38eaa", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "1d512b0f_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "156d926c-aba8-0630-2b6c-3dfd1fad2926"}], "description": "", "name": "aa407fa1_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "1d512b0f_dag", "uuid": "156d926c-aba8-0630-2b6c-3dfd1fad2926"}, "message_list": [], "variable_list": [], "uuid": "55682b6d-a4b5-5f2a-1de5-9b00d802fe8c"}, "message_list": [], "name": "action_restart"}, {"description": "System action for deleting an application. Does not delete created VMs", "type": "system", "uuid": "b814136d-609a-4f76-949f-b500ca403612", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Service_Element_Delete_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "c62c09bd-30c2-441b-ab48-ee17470453db"}], "name": "SYS_GEN__DAG_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "7d55d41a-0e56-49bd-be5b-9ad50ed5af7f"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Service_Element_Delete_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "c62c09bd-30c2-441b-ab48-ee17470453db"}], "description": "", "name": "SYS_GEN__Runbook_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "7d55d41a-0e56-49bd-be5b-9ad50ed5af7f"}, "message_list": [], "variable_list": [], "uuid": "fa86b76d-db30-43ef-a151-17808ddf7364"}, "message_list": [], "name": "action_soft_delete"}], "depends_on_list": [], "name": "PaloAlto", "state": "ACTIVE", "port_list": [], "editables": {}, "tier": "", "message_list": [], "variable_list": [], "description": ""}], "substrate_definition_list": [{"description": "", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "825b3a03-f927-4577-8402-0bcfab26fdae", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Provision_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "31280e6d-e3e0-4113-85b8-e032d55ffb9d"}, {"kind": "app_task", "name": "SYS_GEN__check_login_for_PaloAltoVM_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "51eb36ab-e917-4c98-92a3-15c3c7eabb4a"}], "name": "SYS_GEN__DAG_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Nutanix_Provision_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "31280e6d-e3e0-4113-85b8-e032d55ffb9d"}, "edge_type": "inherent", "type": "", "uuid": "b4e6dcf9-5e36-438e-84fe-0b8b580e91d6", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__check_login_for_PaloAltoVM_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "51eb36ab-e917-4c98-92a3-15c3c7eabb4a"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "54fc14b0-66fa-468d-bea6-9d13331b4da7"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Provision_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"name": "PaloAlto", "resources": {"nic_list": [{"nic_type": "NORMAL_NIC", "ip_endpoint_list": [{"ip": "10.15.245.21", "type": "ASSIGNED"}], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": {"kind": "subnet", "type": "", "name": "", "uuid": "a5b8e6be-3175-416f-8a18-1cf3cb4233e8"}, "type": ""}, {"nic_type": "NETWORK_FUNCTION_NIC", "ip_endpoint_list": [], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": null, "type": ""}, {"nic_type": "NETWORK_FUNCTION_NIC", "ip_endpoint_list": [], "network_function_chain_reference": null, "network_function_nic_type": "EGRESS", "mac_address": "", "subnet_reference": null, "type": ""}, {"nic_type": "NETWORK_FUNCTION_NIC", "ip_endpoint_list": [], "network_function_chain_reference": null, "network_function_nic_type": "TAP", "mac_address": "", "subnet_reference": null, "type": ""}], "serial_port_list": [], "guest_tools": null, "num_vcpus_per_socket": 2, "num_sockets": 2, "gpu_list": [], "memory_size_mib": 8192, "parent_reference": null, "hardware_clock_timezone": "", "guest_customization": null, "power_state": "ON", "type": "", "boot_config": {"boot_device": {"type": "", "disk_address": {"type": "", "device_index": 0, "adapter_type": "SCSI"}}, "type": "", "mac_address": ""}, "disk_list": [{"data_source_reference": {"kind": "image", "type": "", "name": "PA-VM-KVM-8.0.5", "uuid": "16cb81fc-e5d7-43fe-a07f-a91881371c82"}, "type": "", "disk_size_mib": 0, "device_properties": {"type": "", "disk_address": {"type": "", "device_index": 0, "adapter_type": "SCSI"}, "device_type": "DISK"}}, {"data_source_reference": {"kind": "image", "type": "", "name": "panboot", "uuid": "da1df75f-9401-4908-bf18-936b0176b906"}, "type": "", "disk_size_mib": 0, "device_properties": {"type": "", "disk_address": {"type": "", "device_index": 0, "adapter_type": "IDE"}, "device_type": "CDROM"}}]}, "availability_zone_reference": null, "backup_policy": null, "type": "", "cluster_reference": null, "categories": {"network_function_provider": "PaloAlto"}}, "timeout_secs": "0", "type": "PROVISION_NUTANIX", "variable_list": [], "uuid": "31280e6d-e3e0-4113-85b8-e032d55ffb9d"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__check_login_for_PaloAltoVM_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"type": "CHECK_LOGIN", "timeout": "300", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@"}, "timeout_secs": "0", "type": "CHECK_LOGIN", "variable_list": [], "uuid": "51eb36ab-e917-4c98-92a3-15c3c7eabb4a"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "54fc14b0-66fa-468d-bea6-9d13331b4da7"}, "message_list": [], "variable_list": [], "uuid": "4a9b6626-f032-4681-ab6f-a2f9c08df388"}, "message_list": [], "name": "action_create"}, {"description": "System action for powering on an application", "type": "system", "uuid": "0d9a0f50-4756-4a92-886c-04e0e8667262", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_PowerOn_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "155e37c8-4737-4f55-860f-ba0c8ce5047a"}, {"kind": "app_task", "name": "check_login_for_PaloAltoVM_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "99f45e03-3c00-4f3c-9b0a-dbd39d7cea5e"}], "name": "SYS_GEN__DAG_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_PowerOn_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "155e37c8-4737-4f55-860f-ba0c8ce5047a"}, "edge_type": "inherent", "type": "", "uuid": "46a82660-094a-47aa-9dae-43848e731373", "to_task_reference": {"kind": "app_task", "name": "check_login_for_PaloAltoVM_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "99f45e03-3c00-4f3c-9b0a-dbd39d7cea5e"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "bfb22f12-f537-42b8-b2cb-75bc56905acb"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Operation_PowerOn_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"type": "GENERIC_OPERATION"}, "timeout_secs": "0", "type": "VMOPERATION_NUTANIX", "variable_list": [], "uuid": "155e37c8-4737-4f55-860f-ba0c8ce5047a"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "check_login_for_PaloAltoVM_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"type": "CHECK_LOGIN", "timeout": "300", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@"}, "timeout_secs": "0", "type": "CHECK_LOGIN", "variable_list": [], "uuid": "99f45e03-3c00-4f3c-9b0a-dbd39d7cea5e"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "bfb22f12-f537-42b8-b2cb-75bc56905acb"}, "message_list": [], "variable_list": [], "uuid": "e5051830-7e01-489a-af05-c6694b1df486"}, "message_list": [], "name": "action_poweron"}, {"description": "System action for restarting an application", "type": "system", "uuid": "244a26c4-43c8-42b7-9a96-bfda436e15cd", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_Restart_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "fb040323-582b-43cf-9ac6-18b330220a23"}, {"kind": "app_task", "name": "check_login_for_PaloAltoVM_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "fa99586e-c1bf-446a-be10-e45b2cc9ae65"}], "name": "SYS_GEN__DAG_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_Restart_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "fb040323-582b-43cf-9ac6-18b330220a23"}, "edge_type": "inherent", "type": "", "uuid": "0bf6f209-f3ed-4a59-a384-e2d62fe5f576", "to_task_reference": {"kind": "app_task", "name": "check_login_for_PaloAltoVM_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "fa99586e-c1bf-446a-be10-e45b2cc9ae65"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "194f647e-7cd2-4bea-8a08-0497aad44521"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Operation_Restart_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"type": "GENERIC_OPERATION"}, "timeout_secs": "0", "type": "VMOPERATION_NUTANIX", "variable_list": [], "uuid": "fb040323-582b-43cf-9ac6-18b330220a23"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "check_login_for_PaloAltoVM_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"type": "CHECK_LOGIN", "timeout": "300", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@"}, "timeout_secs": "0", "type": "CHECK_LOGIN", "variable_list": [], "uuid": "fa99586e-c1bf-446a-be10-e45b2cc9ae65"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "194f647e-7cd2-4bea-8a08-0497aad44521"}, "message_list": [], "variable_list": [], "uuid": "9d99a2fc-5f02-4667-b61b-85dfcb20bd83"}, "message_list": [], "name": "action_restart"}, {"description": "System action for suspending an application", "type": "system", "uuid": "603de9a1-7bed-4141-833f-8fea6207f7f1", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DAG_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "e0fc7c50-f94a-42ae-a2a3-118fb12cf847"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "e0fc7c50-f94a-42ae-a2a3-118fb12cf847"}, "message_list": [], "variable_list": [], "uuid": "191f4a88-eaf1-4f66-9722-74703235f7d6"}, "message_list": [], "name": "action_suspend"}, {"description": "System action for modifying an application", "type": "system", "uuid": "fb3c7c2b-b694-4466-bf74-dfa720a76297", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DAG_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "a7ab4d50-4767-4bae-9311-533cd7a5b4ff"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "a7ab4d50-4767-4bae-9311-533cd7a5b4ff"}, "message_list": [], "variable_list": [], "uuid": "f1297c79-e1f9-4774-90cc-3f91051fdba3"}, "message_list": [], "name": "action_modify"}, {"description": "System action for powering off an application", "type": "system", "uuid": "bad8c8fa-5e16-4c40-aa6f-2f91f3d5d7ea", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_PowerOff_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "71b5ce2b-2a6a-4523-ad28-82443e410785"}], "name": "SYS_GEN__DAG_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "5e3bc5c5-e71e-4b12-b5da-fd2c16025c3e"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Operation_PowerOff_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"type": "GENERIC_OPERATION"}, "timeout_secs": "0", "type": "VMOPERATION_NUTANIX", "variable_list": [], "uuid": "71b5ce2b-2a6a-4523-ad28-82443e410785"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "5e3bc5c5-e71e-4b12-b5da-fd2c16025c3e"}, "message_list": [], "variable_list": [], "uuid": "2cb8d2f7-2163-49e3-a2f0-c62a7205628e"}, "message_list": [], "name": "action_poweroff"}, {"description": "System action for deleting an application. Deletes created VMs as well", "type": "system", "uuid": "569e1ed8-cf69-44fe-b209-81ac9102ac18", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Delete_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "1d431083-1ee2-4000-8cf5-c53c451f13cf"}], "name": "SYS_GEN__DAG_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "9aff5273-5d39-4ba8-8c3c-54b8e272793f"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Delete_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "DELETE_NUTANIX", "variable_list": [], "uuid": "1d431083-1ee2-4000-8cf5-c53c451f13cf"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "9aff5273-5d39-4ba8-8c3c-54b8e272793f"}, "message_list": [], "variable_list": [], "uuid": "e76a47cc-7fff-40b5-8af5-0ea24a49ba69"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete created VMs", "type": "system", "uuid": "fbb209c7-0159-44d2-b77d-266c870cc786", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Substrate_Element_Delete_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "03327b00-78e9-4bbc-beb1-ba91c5cd4c86"}], "name": "SYS_GEN__DAG_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "f851eb85-3958-40d9-b87c-15a602016acd"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Substrate_Element_Delete_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "03327b00-78e9-4bbc-beb1-ba91c5cd4c86"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "f851eb85-3958-40d9-b87c-15a602016acd"}, "message_list": [], "variable_list": [], "uuid": "581d6d7f-25fa-49bf-a095-06bad390a4dc"}, "message_list": [], "name": "action_soft_delete"}], "type": "AHV_VM", "name": "PaloAltoVM", "state": "ACTIVE", "readiness_probe": {"connection_type": "SSH", "disable_readiness_probe": true, "timeout_secs": "300", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@", "connection_port": 22, "login_credential_local_reference": {"kind": "app_credential", "name": "root", "uuid": "67a5ca33-9897-b58a-3a67-a54a174f1a59"}}, "editables": {"create_spec": {"resources": {"nic_list": {}, "disk_list": {}}}}, "os_type": "Linux", "message_list": [], "create_spec": {"name": "PaloAlto", "resources": {"nic_list": [{"nic_type": "NORMAL_NIC", "ip_endpoint_list": [{"ip": "10.15.245.21", "type": "ASSIGNED"}], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": {"kind": "subnet", "type": "", "name": "", "uuid": "a5b8e6be-3175-416f-8a18-1cf3cb4233e8"}, "type": ""}, {"nic_type": "NETWORK_FUNCTION_NIC", "ip_endpoint_list": [], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": null, "type": ""}, {"nic_type": "NETWORK_FUNCTION_NIC", "ip_endpoint_list": [], "network_function_chain_reference": null, "network_function_nic_type": "EGRESS", "mac_address": "", "subnet_reference": null, "type": ""}, {"nic_type": "NETWORK_FUNCTION_NIC", "ip_endpoint_list": [], "network_function_chain_reference": null, "network_function_nic_type": "TAP", "mac_address": "", "subnet_reference": null, "type": ""}], "serial_port_list": [], "guest_tools": null, "num_vcpus_per_socket": 2, "num_sockets": 2, "gpu_list": [], "memory_size_mib": 8192, "parent_reference": null, "hardware_clock_timezone": "", "guest_customization": null, "power_state": "ON", "type": "", "boot_config": {"boot_device": {"type": "", "disk_address": {"type": "", "device_index": 0, "adapter_type": "SCSI"}}, "type": "", "mac_address": ""}, "disk_list": [{"data_source_reference": {"kind": "image", "type": "", "name": "PA-VM-KVM-8.0.5", "uuid": "16cb81fc-e5d7-43fe-a07f-a91881371c82"}, "type": "", "disk_size_mib": 0, "device_properties": {"type": "", "disk_address": {"type": "", "device_index": 0, "adapter_type": "SCSI"}, "device_type": "DISK"}}, {"data_source_reference": {"kind": "image", "type": "", "name": "panboot", "uuid": "da1df75f-9401-4908-bf18-936b0176b906"}, "type": "", "disk_size_mib": 0, "device_properties": {"type": "", "disk_address": {"type": "", "device_index": 0, "adapter_type": "IDE"}, "device_type": "CDROM"}}]}, "availability_zone_reference": null, "backup_policy": null, "type": "", "cluster_reference": null, "categories": {"network_function_provider": "PaloAlto"}}, "variable_list": [], "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}], "credential_definition_list": [{"username": "root", "description": "", "secret": {"attrs": {"is_secret_modified": false, "secret_reference": {}}}, "name": "root", "state": "ACTIVE", "editables": {}, "type": "PASSWORD", "uuid": "67a5ca33-9897-b58a-3a67-a54a174f1a59"}], "package_definition_list": [{"description": "", "action_list": [{"description": "System action for installing an application", "type": "system", "uuid": "dc9601c7-743a-4cb3-9f40-39c2c566df19", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Install_Crb_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "2170d149-5e68-4c37-b3e5-050c19de3e1b"}], "name": "SYS_GEN__DAG_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "70b70b8e-0b3c-49ed-9059-d5ad7dd469b4"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Install_Crb_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "attrs": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "Configuration", "uuid": "5665224d-1e12-7b01-840a-e718cfcc9299"}], "name": "35eb7067_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "7df8154b-fb46-8c58-cf27-d7c097e13213"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "Configuration", "state": "ACTIVE", "attrs": {"script": "sleep(600)\nprint \"Palo alto configuration\"\ndef postrequest(api_url,payload):\n  r = urlreq(api_url, verb='POST',auth=\"BASIC\", params=payload, user='admin', passwd='admin', verify=False)\n  if 'success' in r.content:\n    return r.content\n  else:\n    print \"PAN API configuration failed\",r.content\n    exit(1)\n\nsleep(60)\n\nurl1 = \"https://@@{address}@@/api\"\n#Get the auth key for making API requests\npayload = {'type': 'keygen', 'user': 'admin', 'password': 'admin'}\nkey_str = postrequest(api_url=url1,payload=payload)\nkey = key_str.split('<key>')[1].split('</key>')[0]\n\n#Print the config\npayload = {'type': 'config', 'action': 'show', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/deviceconfig/setting\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#Set automatic mac detection to yes\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/deviceconfig/setting\", 'element':\"<auto-mac-detect>yes</auto-mac-detect>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n\n#Enable and Configure the interfaces for lldp\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/network/interface/ethernet/entry[@name='ethernet1/1']\", 'element':\"<link-state>up</link-state><virtual-wire><lldp><enable>no</enable></lldp></virtual-wire>\"}\nprint postrequest(api_url=url1,payload=payload)\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/network/interface/ethernet/entry[@name='ethernet1/2']\", 'element':\"<link-state>up</link-state><virtual-wire><lldp><enable>no</enable></lldp></virtual-wire>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#create Virtual wire\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/network/virtual-wire/entry[@name='default-vwire']\", 'element':\"<tag-allowed>1233</tag-allowed><interface1>ethernet1/1</interface1><interface2>ethernet1/2</interface2>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#create trust zone\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/zone/entry[@name='trust']\", 'element':\"<network><virtual-wire><member>ethernet1/1</member></virtual-wire></network>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#create untrust zone\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/zone/entry[@name='untrust']\", 'element':\"<network><virtual-wire><member>ethernet1/2</member></virtual-wire></network>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#Create the tags\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/tag/entry[@name='TIER:WEB']\", 'element':\"<color>color2</color>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n\n\n#Create Dynamic Address groups and associate filters\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/address-group/entry[@name='WebServers']\", 'element':\"<dynamic><filter>'TIER:WEB'</filter></dynamic>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#Create Security Policy\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/rulebase/security/rules/entry[@name='From_Tier_Web']\", 'element':\"<to><member>untrust</member></to><from><member>trust</member></from><source><member>WebServers</member></source><destination><member>any</member></destination><source-user><member>any</member></source-user><category><member>any</member></category><application><member>any</member></application><service><member>application-default</member></service><hip-profiles><member>any</member></hip-profiles><action>allow</action><log-start>yes</log-start>\"}\nprint postrequest(api_url=url1,payload=payload)\n\nsleep(10)\n\n#Commit the changes\npayload = {'type': 'commit', 'cmd': '<commit></commit>', 'key':key}\nprint postrequest(api_url=url1,payload=payload)\n", "type": "", "command_line_args": "", "exit_status": [], "script_type": "static"}, "timeout_secs": "0", "type": "EXEC", "variable_list": [], "uuid": "5665224d-1e12-7b01-840a-e718cfcc9299"}], "description": "", "name": "f09630d0_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "35eb7067_dag", "uuid": "7df8154b-fb46-8c58-cf27-d7c097e13213"}, "message_list": [], "variable_list": [], "uuid": "3336c251-1a47-90d8-65b5-c8c54ab219a7"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "05f0c3b5_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "4ad2f471-6379-14a7-4e6b-5c08e7dd5425"}], "description": "", "name": "c5755bd7_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "05f0c3b5_dag", "uuid": "4ad2f471-6379-14a7-4e6b-5c08e7dd5425"}, "message_list": [], "variable_list": [], "uuid": "9f0a218b-5b93-08d0-ba21-babe7596f601"}}, "timeout_secs": "0", "type": "CUSTOM_PACKAGE_INSTALL", "variable_list": [], "uuid": "2170d149-5e68-4c37-b3e5-050c19de3e1b"}], "description": "", "name": "SYS_GEN__Runbook_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "70b70b8e-0b3c-49ed-9059-d5ad7dd469b4"}, "message_list": [], "variable_list": [], "uuid": "75bb13c3-4448-4d93-a787-325b3f441d57"}, "message_list": [], "name": "action_install"}, {"description": "System action for creating an application", "type": "system", "uuid": "33f6c974-df3d-449d-b32a-4fc1e7532181", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "b84174fc-2193-431e-8ed6-0e3908f1a027"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "eb30de4d-97c8-4d0a-863e-eece23b735ef"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "b11334a2-e09a-40c8-a38a-b4eb1c3bdd04"}], "name": "SYS_GEN__Composite_DAG_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "eb30de4d-97c8-4d0a-863e-eece23b735ef"}, "edge_type": "inherent", "type": "", "uuid": "63f990c3-eeb0-40ff-8ac9-311efc5987a3", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "b11334a2-e09a-40c8-a38a-b4eb1c3bdd04"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "b84174fc-2193-431e-8ed6-0e3908f1a027"}, "edge_type": "inherent", "type": "", "uuid": "2a01878a-3996-4ca7-80f0-fddd9d306282", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "eb30de4d-97c8-4d0a-863e-eece23b735ef"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "164edc1a-ef7e-4ba6-9273-691f38c70f27"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "75bb13c3-4448-4d93-a787-325b3f441d57"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "b84174fc-2193-431e-8ed6-0e3908f1a027"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "f27196d1_runbook", "uuid": "b7e9afa4-74ce-dc1a-ce28-a1cddc717251"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "eb30de4d-97c8-4d0a-863e-eece23b735ef"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "29cb19fc_runbook", "uuid": "d15a5980-90d6-0cf6-344f-26de829ee17d"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "b11334a2-e09a-40c8-a38a-b4eb1c3bdd04"}], "description": "", "name": "SYS_GEN__Runbook_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "164edc1a-ef7e-4ba6-9273-691f38c70f27"}, "message_list": [], "variable_list": [], "uuid": "196b729e-9913-4cc2-b66d-e2f6de271485"}, "message_list": [], "name": "action_create"}, {"description": "System action for uninstalling an application", "type": "system", "uuid": "6778b4ed-faa2-4662-9c0f-b74b9d61c2c5", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Uninstall_Crb_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "63a705d7-63c6-48e2-b91b-770c4a14f20e"}], "name": "SYS_GEN__DAG_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "055a4b48-2ec5-4824-9efc-b08608af4a88"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Uninstall_Crb_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "attrs": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "Configuration", "uuid": "5665224d-1e12-7b01-840a-e718cfcc9299"}], "name": "35eb7067_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "7df8154b-fb46-8c58-cf27-d7c097e13213"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "Configuration", "state": "ACTIVE", "attrs": {"script": "sleep(600)\nprint \"Palo alto configuration\"\ndef postrequest(api_url,payload):\n  r = urlreq(api_url, verb='POST',auth=\"BASIC\", params=payload, user='admin', passwd='admin', verify=False)\n  if 'success' in r.content:\n    return r.content\n  else:\n    print \"PAN API configuration failed\",r.content\n    exit(1)\n\nsleep(60)\n\nurl1 = \"https://@@{address}@@/api\"\n#Get the auth key for making API requests\npayload = {'type': 'keygen', 'user': 'admin', 'password': 'admin'}\nkey_str = postrequest(api_url=url1,payload=payload)\nkey = key_str.split('<key>')[1].split('</key>')[0]\n\n#Print the config\npayload = {'type': 'config', 'action': 'show', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/deviceconfig/setting\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#Set automatic mac detection to yes\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/deviceconfig/setting\", 'element':\"<auto-mac-detect>yes</auto-mac-detect>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n\n#Enable and Configure the interfaces for lldp\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/network/interface/ethernet/entry[@name='ethernet1/1']\", 'element':\"<link-state>up</link-state><virtual-wire><lldp><enable>no</enable></lldp></virtual-wire>\"}\nprint postrequest(api_url=url1,payload=payload)\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/network/interface/ethernet/entry[@name='ethernet1/2']\", 'element':\"<link-state>up</link-state><virtual-wire><lldp><enable>no</enable></lldp></virtual-wire>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#create Virtual wire\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/network/virtual-wire/entry[@name='default-vwire']\", 'element':\"<tag-allowed>1233</tag-allowed><interface1>ethernet1/1</interface1><interface2>ethernet1/2</interface2>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#create trust zone\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/zone/entry[@name='trust']\", 'element':\"<network><virtual-wire><member>ethernet1/1</member></virtual-wire></network>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#create untrust zone\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/zone/entry[@name='untrust']\", 'element':\"<network><virtual-wire><member>ethernet1/2</member></virtual-wire></network>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#Create the tags\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/tag/entry[@name='TIER:WEB']\", 'element':\"<color>color2</color>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n\n\n#Create Dynamic Address groups and associate filters\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/address-group/entry[@name='WebServers']\", 'element':\"<dynamic><filter>'TIER:WEB'</filter></dynamic>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#Create Security Policy\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/rulebase/security/rules/entry[@name='From_Tier_Web']\", 'element':\"<to><member>untrust</member></to><from><member>trust</member></from><source><member>WebServers</member></source><destination><member>any</member></destination><source-user><member>any</member></source-user><category><member>any</member></category><application><member>any</member></application><service><member>application-default</member></service><hip-profiles><member>any</member></hip-profiles><action>allow</action><log-start>yes</log-start>\"}\nprint postrequest(api_url=url1,payload=payload)\n\nsleep(10)\n\n#Commit the changes\npayload = {'type': 'commit', 'cmd': '<commit></commit>', 'key':key}\nprint postrequest(api_url=url1,payload=payload)\n", "type": "", "command_line_args": "", "exit_status": [], "script_type": "static"}, "timeout_secs": "0", "type": "EXEC", "variable_list": [], "uuid": "5665224d-1e12-7b01-840a-e718cfcc9299"}], "description": "", "name": "f09630d0_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "35eb7067_dag", "uuid": "7df8154b-fb46-8c58-cf27-d7c097e13213"}, "message_list": [], "variable_list": [], "uuid": "3336c251-1a47-90d8-65b5-c8c54ab219a7"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "05f0c3b5_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "4ad2f471-6379-14a7-4e6b-5c08e7dd5425"}], "description": "", "name": "c5755bd7_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "05f0c3b5_dag", "uuid": "4ad2f471-6379-14a7-4e6b-5c08e7dd5425"}, "message_list": [], "variable_list": [], "uuid": "9f0a218b-5b93-08d0-ba21-babe7596f601"}}, "timeout_secs": "0", "type": "CUSTOM_PACKAGE_UNINSTALL", "variable_list": [], "uuid": "63a705d7-63c6-48e2-b91b-770c4a14f20e"}], "description": "", "name": "SYS_GEN__Runbook_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "055a4b48-2ec5-4824-9efc-b08608af4a88"}, "message_list": [], "variable_list": [], "uuid": "9b75e2b4-261c-460b-995b-005300788e92"}, "message_list": [], "name": "action_uninstall"}, {"description": "System action for deleting an application. Deletes created VMs as well", "type": "system", "uuid": "2ce4595c-9722-4142-9169-f8cae23e3cea", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "740567a1-df31-4b63-af1e-0589976dc58f"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "2576686e-e74c-4821-9006-a5591522fa12"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "ee6ad2f6-bc26-4a87-85a1-d20665660e6a"}], "name": "SYS_GEN__Composite_DAG_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "740567a1-df31-4b63-af1e-0589976dc58f"}, "edge_type": "inherent", "type": "", "uuid": "b52250d2-0383-4683-8dbf-de0f3cd3aafb", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "2576686e-e74c-4821-9006-a5591522fa12"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "2576686e-e74c-4821-9006-a5591522fa12"}, "edge_type": "inherent", "type": "", "uuid": "ea0e35cb-fb50-4cfe-9813-81d9f4b51aa6", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "ee6ad2f6-bc26-4a87-85a1-d20665660e6a"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "c11893da-5d38-4913-bd7d-03e1bcb08232"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "6118a0fb_runbook", "uuid": "97e985a8-41ec-00cc-0588-2f5803eb911f"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "740567a1-df31-4b63-af1e-0589976dc58f"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "600bbd68_runbook", "uuid": "c519ffa9-6a9f-b738-65c6-02c701d90214"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "2576686e-e74c-4821-9006-a5591522fa12"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "9b75e2b4-261c-460b-995b-005300788e92"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "ee6ad2f6-bc26-4a87-85a1-d20665660e6a"}], "description": "", "name": "SYS_GEN__Runbook_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "c11893da-5d38-4913-bd7d-03e1bcb08232"}, "message_list": [], "variable_list": [], "uuid": "671ee82e-fe1b-4d66-9efa-a08a4f85c182"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete created VMs", "type": "system", "uuid": "7520d309-df9a-4a2f-a4d4-a76afa0ed9c0", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "9b5d5e36-f9dd-490b-b7ed-5c1fc9e48aa2"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "c20ace4d-02cd-477d-926f-552f33e46ff1"}], "name": "SYS_GEN__Composite_DAG_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "9b5d5e36-f9dd-490b-b7ed-5c1fc9e48aa2"}, "edge_type": "inherent", "type": "", "uuid": "bab141bb-fe7c-413c-b0eb-18676e4afb66", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "c20ace4d-02cd-477d-926f-552f33e46ff1"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "e69635e6-034e-4267-80e0-137c90260e5f"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "fa86b76d-db30-43ef-a151-17808ddf7364"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "9b5d5e36-f9dd-490b-b7ed-5c1fc9e48aa2"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "c20ace4d-02cd-477d-926f-552f33e46ff1"}], "description": "", "name": "SYS_GEN__Runbook_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "e69635e6-034e-4267-80e0-137c90260e5f"}, "message_list": [], "variable_list": [], "uuid": "3324eaca-250f-4b60-89ed-0f49806a2bdb"}, "message_list": [], "name": "action_soft_delete"}, {"description": "System action for starting an application", "type": "system", "uuid": "7c002aab-3726-4016-9bf6-cea90110ef8d", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "8274db60-09f2-4dff-ac33-48660666c384"}], "name": "SYS_GEN__Composite_DAG_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "0b3d3552-2a97-4ed2-b929-594c91143fa0"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "29cb19fc_runbook", "uuid": "d15a5980-90d6-0cf6-344f-26de829ee17d"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "8274db60-09f2-4dff-ac33-48660666c384"}], "description": "", "name": "SYS_GEN__Runbook_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "0b3d3552-2a97-4ed2-b929-594c91143fa0"}, "message_list": [], "variable_list": [], "uuid": "f83d629c-bc22-4dac-b050-19be1ab662fc"}, "message_list": [], "name": "action_start"}, {"description": "System action for restarting an application", "type": "system", "uuid": "7e176b8e-bf96-464b-b1f8-11b0075fd351", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__restart_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "439a0e38-2b02-42f7-a6b1-4c69bdfa47be"}], "name": "SYS_GEN__Composite_DAG_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "7efc6375-e59e-4c73-9e40-5d080d549413"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__restart_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "aa407fa1_runbook", "uuid": "55682b6d-a4b5-5f2a-1de5-9b00d802fe8c"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "439a0e38-2b02-42f7-a6b1-4c69bdfa47be"}], "description": "", "name": "SYS_GEN__Runbook_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "7efc6375-e59e-4c73-9e40-5d080d549413"}, "message_list": [], "variable_list": [], "uuid": "dc70105e-09e4-4312-812d-364d76d2008b"}, "message_list": [], "name": "action_restart"}, {"description": "System action for stopping an application", "type": "system", "uuid": "788d529a-0418-4ee7-a196-6e8dcff419ee", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "56ad4bcc-79e2-4fc9-a576-364042c6d387"}], "name": "SYS_GEN__Composite_DAG_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "e2192f4f-9c3c-4dda-a6d3-224031c4bd77"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "6118a0fb_runbook", "uuid": "97e985a8-41ec-00cc-0588-2f5803eb911f"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "56ad4bcc-79e2-4fc9-a576-364042c6d387"}], "description": "", "name": "SYS_GEN__Runbook_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "e2192f4f-9c3c-4dda-a6d3-224031c4bd77"}, "message_list": [], "variable_list": [], "uuid": "78a31499-b472-4919-8e13-799cdc7212fc"}, "message_list": [], "name": "action_stop"}], "type": "DEB", "service_local_reference_list": [{"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}], "name": "ConfigurePaloAlto", "state": "ACTIVE", "version": "", "editables": {}, "message_list": [], "options": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "Configuration", "uuid": "5665224d-1e12-7b01-840a-e718cfcc9299"}], "name": "35eb7067_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "7df8154b-fb46-8c58-cf27-d7c097e13213"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "Configuration", "state": "ACTIVE", "attrs": {"script": "sleep(600)\nprint \"Palo alto configuration\"\ndef postrequest(api_url,payload):\n  r = urlreq(api_url, verb='POST',auth=\"BASIC\", params=payload, user='admin', passwd='admin', verify=False)\n  if 'success' in r.content:\n    return r.content\n  else:\n    print \"PAN API configuration failed\",r.content\n    exit(1)\n\nsleep(60)\n\nurl1 = \"https://@@{address}@@/api\"\n#Get the auth key for making API requests\npayload = {'type': 'keygen', 'user': 'admin', 'password': 'admin'}\nkey_str = postrequest(api_url=url1,payload=payload)\nkey = key_str.split('<key>')[1].split('</key>')[0]\n\n#Print the config\npayload = {'type': 'config', 'action': 'show', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/deviceconfig/setting\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#Set automatic mac detection to yes\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/deviceconfig/setting\", 'element':\"<auto-mac-detect>yes</auto-mac-detect>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n\n#Enable and Configure the interfaces for lldp\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/network/interface/ethernet/entry[@name='ethernet1/1']\", 'element':\"<link-state>up</link-state><virtual-wire><lldp><enable>no</enable></lldp></virtual-wire>\"}\nprint postrequest(api_url=url1,payload=payload)\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/network/interface/ethernet/entry[@name='ethernet1/2']\", 'element':\"<link-state>up</link-state><virtual-wire><lldp><enable>no</enable></lldp></virtual-wire>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#create Virtual wire\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/network/virtual-wire/entry[@name='default-vwire']\", 'element':\"<tag-allowed>1233</tag-allowed><interface1>ethernet1/1</interface1><interface2>ethernet1/2</interface2>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#create trust zone\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/zone/entry[@name='trust']\", 'element':\"<network><virtual-wire><member>ethernet1/1</member></virtual-wire></network>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#create untrust zone\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/zone/entry[@name='untrust']\", 'element':\"<network><virtual-wire><member>ethernet1/2</member></virtual-wire></network>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#Create the tags\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/tag/entry[@name='TIER:WEB']\", 'element':\"<color>color2</color>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n\n\n#Create Dynamic Address groups and associate filters\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/address-group/entry[@name='WebServers']\", 'element':\"<dynamic><filter>'TIER:WEB'</filter></dynamic>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#Create Security Policy\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/rulebase/security/rules/entry[@name='From_Tier_Web']\", 'element':\"<to><member>untrust</member></to><from><member>trust</member></from><source><member>WebServers</member></source><destination><member>any</member></destination><source-user><member>any</member></source-user><category><member>any</member></category><application><member>any</member></application><service><member>application-default</member></service><hip-profiles><member>any</member></hip-profiles><action>allow</action><log-start>yes</log-start>\"}\nprint postrequest(api_url=url1,payload=payload)\n\nsleep(10)\n\n#Commit the changes\npayload = {'type': 'commit', 'cmd': '<commit></commit>', 'key':key}\nprint postrequest(api_url=url1,payload=payload)\n", "type": "", "command_line_args": "", "exit_status": [], "script_type": "static"}, "timeout_secs": "0", "type": "EXEC", "variable_list": [], "uuid": "5665224d-1e12-7b01-840a-e718cfcc9299"}], "description": "", "name": "f09630d0_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "35eb7067_dag", "uuid": "7df8154b-fb46-8c58-cf27-d7c097e13213"}, "message_list": [], "variable_list": [], "uuid": "3336c251-1a47-90d8-65b5-c8c54ab219a7"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "05f0c3b5_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "4ad2f471-6379-14a7-4e6b-5c08e7dd5425"}], "description": "", "name": "c5755bd7_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "05f0c3b5_dag", "uuid": "4ad2f471-6379-14a7-4e6b-5c08e7dd5425"}, "message_list": [], "variable_list": [], "uuid": "9f0a218b-5b93-08d0-ba21-babe7596f601"}}, "variable_list": [], "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}], "app_profile_list": [{"deployment_create_list": [{"type": "GREENFIELD", "description": "", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "d9310458-adb2-42d1-8fea-f787b888dce2", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__DE_Provision_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "cdd81a58-ebad-4da2-85c0-e590f71f2413"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "2d3b6ce8-96ca-40b3-ba9a-6005f071562e"}, {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "b8003c71-ad84-4c17-9bed-1f43152cb102"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "de443526-4e92-4920-8f84-f8c21e01bd23"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "6c86123c-ee41-47c0-afcc-44a9db3beb8c"}], "name": "SYS_GEN__Composite_DAG_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "de443526-4e92-4920-8f84-f8c21e01bd23"}, "edge_type": "inherent", "type": "", "uuid": "68133605-968a-4599-af65-144e062620be", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "6c86123c-ee41-47c0-afcc-44a9db3beb8c"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "b8003c71-ad84-4c17-9bed-1f43152cb102"}, "edge_type": "inherent", "type": "", "uuid": "e2278b8c-26e0-4131-99a0-5584df5c0c9c", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "de443526-4e92-4920-8f84-f8c21e01bd23"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Provision_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "cdd81a58-ebad-4da2-85c0-e590f71f2413"}, "edge_type": "inherent", "type": "", "uuid": "9e4c0759-7ffc-4128-af1c-df21d6b8e678", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "2d3b6ce8-96ca-40b3-ba9a-6005f071562e"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "2d3b6ce8-96ca-40b3-ba9a-6005f071562e"}, "edge_type": "inherent", "type": "", "uuid": "e6fbb8d7-65af-4940-901a-1dfa67927955", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "b8003c71-ad84-4c17-9bed-1f43152cb102"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "0d400081-7298-4f82-9899-6443e2241ab3"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Provision_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "CREATE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "cdd81a58-ebad-4da2-85c0-e590f71f2413"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "4a9b6626-f032-4681-ab6f-a2f9c08df388"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "2d3b6ce8-96ca-40b3-ba9a-6005f071562e"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "75bb13c3-4448-4d93-a787-325b3f441d57"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "b8003c71-ad84-4c17-9bed-1f43152cb102"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "f27196d1_runbook", "uuid": "b7e9afa4-74ce-dc1a-ce28-a1cddc717251"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "de443526-4e92-4920-8f84-f8c21e01bd23"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "29cb19fc_runbook", "uuid": "d15a5980-90d6-0cf6-344f-26de829ee17d"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "6c86123c-ee41-47c0-afcc-44a9db3beb8c"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "0d400081-7298-4f82-9899-6443e2241ab3"}, "message_list": [], "variable_list": [], "uuid": "74e3706b-9f48-4893-b2c7-39b72cc176f8"}, "message_list": [], "name": "action_create"}, {"description": "System action for starting an application", "type": "system", "uuid": "b4811c4f-892d-4ba4-aeae-ce78d0c08ab9", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "ba76693c-fef8-4bfe-b289-ff333ab5fe94"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "cb598dc6-e7f3-4464-af5f-66c8428a08f0"}], "name": "SYS_GEN__Composite_DAG_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "ba76693c-fef8-4bfe-b289-ff333ab5fe94"}, "edge_type": "inherent", "type": "", "uuid": "97e15ce2-d558-4c88-9b2c-81585398ff59", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "cb598dc6-e7f3-4464-af5f-66c8428a08f0"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "a5f21122-b06f-4c3e-9f12-75efbcc1bd8b"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "e5051830-7e01-489a-af05-c6694b1df486"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "ba76693c-fef8-4bfe-b289-ff333ab5fe94"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "29cb19fc_runbook", "uuid": "d15a5980-90d6-0cf6-344f-26de829ee17d"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "cb598dc6-e7f3-4464-af5f-66c8428a08f0"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "a5f21122-b06f-4c3e-9f12-75efbcc1bd8b"}, "message_list": [], "variable_list": [], "uuid": "874d08db-c5c4-4b1d-94c1-a541cd1b9d97"}, "message_list": [], "name": "action_start"}, {"description": "System action for restarting an application", "type": "system", "uuid": "182702a5-8da6-481b-b6a2-154db2a1abf6", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__restart_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "dd8b3097-79bc-47be-8047-4664281b390d"}, {"kind": "app_task", "name": "SYS_GEN__restart_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "9c85ab43-0917-4984-9079-331204288b75"}], "name": "SYS_GEN__Composite_DAG_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__restart_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "dd8b3097-79bc-47be-8047-4664281b390d"}, "edge_type": "inherent", "type": "", "uuid": "927e0106-2720-4c41-b374-862b0b6ae7c2", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__restart_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "9c85ab43-0917-4984-9079-331204288b75"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "d3761313-207c-4459-8225-eacd7ecbac14"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__restart_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "9d99a2fc-5f02-4667-b61b-85dfcb20bd83"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "dd8b3097-79bc-47be-8047-4664281b390d"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__restart_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "aa407fa1_runbook", "uuid": "55682b6d-a4b5-5f2a-1de5-9b00d802fe8c"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "9c85ab43-0917-4984-9079-331204288b75"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "d3761313-207c-4459-8225-eacd7ecbac14"}, "message_list": [], "variable_list": [], "uuid": "dd36bdfc-d4e3-4522-94fd-31be0e4da70f"}, "message_list": [], "name": "action_restart"}, {"description": "System action for stopping an application", "type": "system", "uuid": "dcdc8d8f-e6b1-4906-ade5-7876c21719dd", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "610510d5-de15-4b66-a61c-0d87ea3556fe"}, {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "efae3c2f-b767-420e-a9f5-68d9994652d0"}], "name": "SYS_GEN__Composite_DAG_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "610510d5-de15-4b66-a61c-0d87ea3556fe"}, "edge_type": "inherent", "type": "", "uuid": "5f79af1a-ffbe-4067-a667-9c52ca9977a8", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "efae3c2f-b767-420e-a9f5-68d9994652d0"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "00b30de5-4261-4e76-ab3a-8c90fe27051b"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "6118a0fb_runbook", "uuid": "97e985a8-41ec-00cc-0588-2f5803eb911f"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "610510d5-de15-4b66-a61c-0d87ea3556fe"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "2cb8d2f7-2163-49e3-a2f0-c62a7205628e"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "efae3c2f-b767-420e-a9f5-68d9994652d0"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "00b30de5-4261-4e76-ab3a-8c90fe27051b"}, "message_list": [], "variable_list": [], "uuid": "52a94f66-1496-47e2-9077-066adef02ee1"}, "message_list": [], "name": "action_stop"}, {"description": "System action for deleting an application. Deletes created VMs as well", "type": "system", "uuid": "d3cc9bc0-61bc-4c08-b0ba-49526d6a43d6", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "724264bb-0815-4a01-9eb7-693763015ccb"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "865358f9-731c-4c40-b28d-8fce1acfafe2"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "751ec493-a840-4103-9b2a-5a7ccc152f3c"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "ec50befa-2917-480a-a936-fc537caab7ed"}, {"kind": "app_task", "name": "SYS_GEN__DE_Delete_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "2546f3b5-8e2d-4aa8-a4b7-39712db53ccf"}], "name": "SYS_GEN__Composite_DAG_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "724264bb-0815-4a01-9eb7-693763015ccb"}, "edge_type": "inherent", "type": "", "uuid": "3c37dd04-3108-4ab8-9031-1a66106fb957", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "865358f9-731c-4c40-b28d-8fce1acfafe2"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "865358f9-731c-4c40-b28d-8fce1acfafe2"}, "edge_type": "inherent", "type": "", "uuid": "aea14e27-8505-44d4-b2ab-5f2cc8161181", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "751ec493-a840-4103-9b2a-5a7ccc152f3c"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "ec50befa-2917-480a-a936-fc537caab7ed"}, "edge_type": "inherent", "type": "", "uuid": "02575094-d581-4fbd-ba3f-84171ea64e3f", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Delete_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "2546f3b5-8e2d-4aa8-a4b7-39712db53ccf"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "751ec493-a840-4103-9b2a-5a7ccc152f3c"}, "edge_type": "inherent", "type": "", "uuid": "c13af143-39b5-40dc-86c8-12180f1d6f2d", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "ec50befa-2917-480a-a936-fc537caab7ed"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "d76cb7a9-00cb-4bf7-b198-b4309dc3d332"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "6118a0fb_runbook", "uuid": "97e985a8-41ec-00cc-0588-2f5803eb911f"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "724264bb-0815-4a01-9eb7-693763015ccb"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "600bbd68_runbook", "uuid": "c519ffa9-6a9f-b738-65c6-02c701d90214"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "865358f9-731c-4c40-b28d-8fce1acfafe2"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "9b75e2b4-261c-460b-995b-005300788e92"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "751ec493-a840-4103-9b2a-5a7ccc152f3c"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "e76a47cc-7fff-40b5-8af5-0ea24a49ba69"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "ec50befa-2917-480a-a936-fc537caab7ed"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Delete_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "2546f3b5-8e2d-4aa8-a4b7-39712db53ccf"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "d76cb7a9-00cb-4bf7-b198-b4309dc3d332"}, "message_list": [], "variable_list": [], "uuid": "440b1eb9-6a66-4ae6-9572-e60308b36a25"}, "message_list": [], "name": "action_delete"}, {"description": "System action for scaleout", "type": "system", "uuid": "e903106b-42b6-420d-969a-ecab95d3a7bb", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Deployment_Scaleout_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "449438e3-e5a1-4b49-96e7-bd5ab8acfce7"}], "name": "SYS_GEN__Composite_DAG_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "35d34eae-0bc2-4d7d-8651-189a785c372e"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Deployment_Scaleout_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "attrs": {"scaling_count": "@@{scaling_count}@@", "type": "", "scaling_type": "SCALEOUT"}, "timeout_secs": "0", "type": "SCALING", "variable_list": [], "uuid": "449438e3-e5a1-4b49-96e7-bd5ab8acfce7"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "35d34eae-0bc2-4d7d-8651-189a785c372e"}, "message_list": [], "variable_list": [{"val_type": "STRING", "description": "", "name": "scaling_count", "type": "LOCAL", "value": "0", "label": "", "state": "NOT_VALIDATED", "attrs": {}, "editables": {"value": true}, "message_list": [], "uuid": "dbf95364-7fb4-4a52-bf96-ed9c9bb55fab"}], "uuid": "73038878-7f09-4650-816d-f4ff06f32444"}, "message_list": [], "name": "action_scaleout"}, {"description": "System action for scalein", "type": "system", "uuid": "5cc9ce2b-27fc-4ff7-86db-5f592a279bc5", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Deployment_Scalein_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "732a3e0f-f1da-43c8-8a26-7eac3056c802"}], "name": "SYS_GEN__Composite_DAG_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "0bd6e05a-158a-4229-89fa-270dd4f1df37"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Deployment_Scalein_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "attrs": {"scaling_count": "@@{scaling_count}@@", "type": "", "scaling_type": "SCALEIN"}, "timeout_secs": "0", "type": "SCALING", "variable_list": [], "uuid": "732a3e0f-f1da-43c8-8a26-7eac3056c802"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "0bd6e05a-158a-4229-89fa-270dd4f1df37"}, "message_list": [], "variable_list": [{"val_type": "STRING", "description": "", "name": "scaling_count", "type": "LOCAL", "value": "0", "label": "", "state": "NOT_VALIDATED", "attrs": {}, "editables": {"value": true}, "message_list": [], "uuid": "2d197f84-8ebd-4b34-a303-9e58ecc3302b"}], "uuid": "c8e252de-35a9-4285-8352-e4f24b9ab220"}, "message_list": [], "name": "action_scalein"}, {"description": "System action for deleting an application. Does not delete created VMs", "type": "system", "uuid": "4bdf251f-03b3-4c4a-a62b-619333b1b67e", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "32f4de98-62c7-46f1-8800-5bae2d11bd3e"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "8736123b-f05f-422d-a871-bb819f587163"}, {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "33b29523-ca14-4268-8724-d91e768405fb"}, {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "1282e785-0cfb-4ab3-81df-ab9ec8f367fe"}], "name": "SYS_GEN__Composite_DAG_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "32f4de98-62c7-46f1-8800-5bae2d11bd3e"}, "edge_type": "inherent", "type": "", "uuid": "a5c87e90-16a4-4b11-9978-b8068c573681", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "8736123b-f05f-422d-a871-bb819f587163"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "8736123b-f05f-422d-a871-bb819f587163"}, "edge_type": "inherent", "type": "", "uuid": "3cd4e0d7-7e25-432d-926d-4c40708b71dc", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "33b29523-ca14-4268-8724-d91e768405fb"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "33b29523-ca14-4268-8724-d91e768405fb"}, "edge_type": "inherent", "type": "", "uuid": "babc8310-07f9-40e9-9fe5-99a5066ce174", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "1282e785-0cfb-4ab3-81df-ab9ec8f367fe"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "4bf0245b-ba7c-44b5-9952-880a956d9159"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "fa86b76d-db30-43ef-a151-17808ddf7364"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "32f4de98-62c7-46f1-8800-5bae2d11bd3e"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "8736123b-f05f-422d-a871-bb819f587163"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "581d6d7f-25fa-49bf-a095-06bad390a4dc"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "33b29523-ca14-4268-8724-d91e768405fb"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Soft_Delete_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "1282e785-0cfb-4ab3-81df-ab9ec8f367fe"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "4bf0245b-ba7c-44b5-9952-880a956d9159"}, "message_list": [], "variable_list": [], "uuid": "cf6d074e-bcac-4a43-9534-f8f6f338b88a"}, "message_list": [], "name": "action_soft_delete"}], "message_list": [], "editables": {}, "name": "7564f5df_deployment", "state": "ACTIVE", "max_replicas": "1", "package_local_reference_list": [{"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}], "substrate_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "min_replicas": "1", "variable_list": [], "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}], "description": "", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "c45a04aa-d303-4f38-8311-20389c14a505", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "AHV", "uuid": "2c3e8cbb-22b7-2679-1128-5faa3ebd47d2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__DE_Provision_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "0daacc7b-d82c-4da7-bd9b-c8352fa62a57"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "01fbfedf-b73f-4882-89a2-266c3bd8b6f1"}, {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "2f17253e-9bee-4598-a5a0-22616d42b5cc"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "428f110f-babc-48dc-afbd-8cafbc92ea52"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "7c7d5da5-8bc1-4b45-9b40-86cfb007fb88"}], "name": "SYS_GEN__Composite_DAG_Application_2c3e8cbb_22b7_2679_1128_5faa3ebd47d2", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "428f110f-babc-48dc-afbd-8cafbc92ea52"}, "edge_type": "inherent", "type": "", "uuid": "4937009d-87db-43fe-8d78-6b403614fdcb", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "7c7d5da5-8bc1-4b45-9b40-86cfb007fb88"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "2f17253e-9bee-4598-a5a0-22616d42b5cc"}, "edge_type": "inherent", "type": "", "uuid": "db88d17e-1db3-433e-a3d0-69088f74ba4f", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "428f110f-babc-48dc-afbd-8cafbc92ea52"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Provision_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "0daacc7b-d82c-4da7-bd9b-c8352fa62a57"}, "edge_type": "inherent", "type": "", "uuid": "bf0719e0-962c-4057-86ee-7b26bae1815c", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "01fbfedf-b73f-4882-89a2-266c3bd8b6f1"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "01fbfedf-b73f-4882-89a2-266c3bd8b6f1"}, "edge_type": "inherent", "type": "", "uuid": "1a4a17c9-69bf-40ef-bd8f-1c201e94c769", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "2f17253e-9bee-4598-a5a0-22616d42b5cc"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "f5c72eff-1560-4ba8-849c-1e0dc924dbbe"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Provision_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "CREATE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "0daacc7b-d82c-4da7-bd9b-c8352fa62a57"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "4a9b6626-f032-4681-ab6f-a2f9c08df388"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "01fbfedf-b73f-4882-89a2-266c3bd8b6f1"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "75bb13c3-4448-4d93-a787-325b3f441d57"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "2f17253e-9bee-4598-a5a0-22616d42b5cc"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "f27196d1_runbook", "uuid": "b7e9afa4-74ce-dc1a-ce28-a1cddc717251"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "428f110f-babc-48dc-afbd-8cafbc92ea52"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "29cb19fc_runbook", "uuid": "d15a5980-90d6-0cf6-344f-26de829ee17d"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "7c7d5da5-8bc1-4b45-9b40-86cfb007fb88"}], "description": "", "name": "SYS_GEN__Runbook_Application_2c3e8cbb_22b7_2679_1128_5faa3ebd47d2", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_2c3e8cbb_22b7_2679_1128_5faa3ebd47d2", "uuid": "f5c72eff-1560-4ba8-849c-1e0dc924dbbe"}, "message_list": [], "variable_list": [], "uuid": "79558fe0-1043-41cb-9b3e-1e60950cf4c3"}, "message_list": [], "name": "action_create"}, {"description": "System action for starting an application", "type": "system", "uuid": "943409c2-dc5f-4fed-9a6d-4abd5f43476e", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "AHV", "uuid": "2c3e8cbb-22b7-2679-1128-5faa3ebd47d2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "cd168adc-8996-455f-a6ea-b601b325f47d"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "99c6fb43-4bf0-4508-8b8a-47f2031cd92d"}], "name": "SYS_GEN__Composite_DAG_Application_2c3e8cbb_22b7_2679_1128_5faa3ebd47d2", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "cd168adc-8996-455f-a6ea-b601b325f47d"}, "edge_type": "inherent", "type": "", "uuid": "3416af60-1036-45b2-952c-23e10e44476a", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "99c6fb43-4bf0-4508-8b8a-47f2031cd92d"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "c8792862-35df-4fd1-b7dc-f5d8ffa43624"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "e5051830-7e01-489a-af05-c6694b1df486"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "cd168adc-8996-455f-a6ea-b601b325f47d"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "29cb19fc_runbook", "uuid": "d15a5980-90d6-0cf6-344f-26de829ee17d"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "99c6fb43-4bf0-4508-8b8a-47f2031cd92d"}], "description": "", "name": "SYS_GEN__Runbook_Application_2c3e8cbb_22b7_2679_1128_5faa3ebd47d2", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_2c3e8cbb_22b7_2679_1128_5faa3ebd47d2", "uuid": "c8792862-35df-4fd1-b7dc-f5d8ffa43624"}, "message_list": [], "variable_list": [], "uuid": "a88f24b9-02c0-4f68-805d-e756cd2d7efa"}, "message_list": [], "name": "action_start"}, {"description": "System action for restarting an application", "type": "system", "uuid": "e6ee0d4a-f471-4169-bd65-6b5e3037c24e", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "AHV", "uuid": "2c3e8cbb-22b7-2679-1128-5faa3ebd47d2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__restart_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "299986cb-f5e9-495b-863c-e00200232951"}, {"kind": "app_task", "name": "SYS_GEN__restart_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "7f525bba-4e27-480e-9d66-c5e50541ffbd"}], "name": "SYS_GEN__Composite_DAG_Application_2c3e8cbb_22b7_2679_1128_5faa3ebd47d2", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__restart_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "299986cb-f5e9-495b-863c-e00200232951"}, "edge_type": "inherent", "type": "", "uuid": "dc0e9dc5-76f3-478b-a332-9dcddea8614a", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__restart_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "7f525bba-4e27-480e-9d66-c5e50541ffbd"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "61a74ec8-bb99-4f96-a8cc-16f410b66251"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__restart_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "9d99a2fc-5f02-4667-b61b-85dfcb20bd83"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "299986cb-f5e9-495b-863c-e00200232951"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__restart_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "aa407fa1_runbook", "uuid": "55682b6d-a4b5-5f2a-1de5-9b00d802fe8c"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "7f525bba-4e27-480e-9d66-c5e50541ffbd"}], "description": "", "name": "SYS_GEN__Runbook_Application_2c3e8cbb_22b7_2679_1128_5faa3ebd47d2", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_2c3e8cbb_22b7_2679_1128_5faa3ebd47d2", "uuid": "61a74ec8-bb99-4f96-a8cc-16f410b66251"}, "message_list": [], "variable_list": [], "uuid": "25782c88-4017-446c-8435-8fa96ed3ba89"}, "message_list": [], "name": "action_restart"}, {"description": "System action for stopping an application", "type": "system", "uuid": "9c60af2b-1fb8-4827-a297-0c50a2742761", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "AHV", "uuid": "2c3e8cbb-22b7-2679-1128-5faa3ebd47d2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "9db123b1-7114-4c4f-a75e-795621f4e8ce"}, {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "232df6bc-bb31-4edf-8950-2987056dd2e1"}], "name": "SYS_GEN__Composite_DAG_Application_2c3e8cbb_22b7_2679_1128_5faa3ebd47d2", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "9db123b1-7114-4c4f-a75e-795621f4e8ce"}, "edge_type": "inherent", "type": "", "uuid": "ff2f79eb-4801-4bd0-8023-ea48c0c1fabe", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "232df6bc-bb31-4edf-8950-2987056dd2e1"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "7c30c868-224e-4dd8-99ba-975580bb21e4"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "6118a0fb_runbook", "uuid": "97e985a8-41ec-00cc-0588-2f5803eb911f"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "9db123b1-7114-4c4f-a75e-795621f4e8ce"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "2cb8d2f7-2163-49e3-a2f0-c62a7205628e"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "232df6bc-bb31-4edf-8950-2987056dd2e1"}], "description": "", "name": "SYS_GEN__Runbook_Application_2c3e8cbb_22b7_2679_1128_5faa3ebd47d2", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_2c3e8cbb_22b7_2679_1128_5faa3ebd47d2", "uuid": "7c30c868-224e-4dd8-99ba-975580bb21e4"}, "message_list": [], "variable_list": [], "uuid": "e2a0305a-157c-48c4-b746-11ac337e38f9"}, "message_list": [], "name": "action_stop"}, {"description": "System action for deleting an application. Deletes created VMs as well", "type": "system", "uuid": "f20f31ef-1858-496b-872e-c8dde1690bd7", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "AHV", "uuid": "2c3e8cbb-22b7-2679-1128-5faa3ebd47d2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "e4be7f18-a890-45aa-b1ee-40cb77e6d4e9"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "3cb2100f-e480-43af-9851-81625ac4b1ee"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "c54c59a0-a499-423f-a130-d599eab41dc9"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "c06f9214-2355-4e16-a80a-74e2c84a2e99"}, {"kind": "app_task", "name": "SYS_GEN__DE_Delete_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "adc0d6c1-cc64-4dd7-9e22-ef5f11b27efa"}], "name": "SYS_GEN__Composite_DAG_Application_2c3e8cbb_22b7_2679_1128_5faa3ebd47d2", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "e4be7f18-a890-45aa-b1ee-40cb77e6d4e9"}, "edge_type": "inherent", "type": "", "uuid": "e36b10e3-3de9-42be-8960-eff58eb0c292", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "3cb2100f-e480-43af-9851-81625ac4b1ee"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "3cb2100f-e480-43af-9851-81625ac4b1ee"}, "edge_type": "inherent", "type": "", "uuid": "c0782616-7940-4fc1-a123-dc00fcdcaffc", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "c54c59a0-a499-423f-a130-d599eab41dc9"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "c06f9214-2355-4e16-a80a-74e2c84a2e99"}, "edge_type": "inherent", "type": "", "uuid": "f5a066b0-0f08-4a34-ba0f-a40d84715356", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Delete_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "adc0d6c1-cc64-4dd7-9e22-ef5f11b27efa"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "c54c59a0-a499-423f-a130-d599eab41dc9"}, "edge_type": "inherent", "type": "", "uuid": "aabe89e1-607e-4a82-8f09-0ff5ed21839c", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "c06f9214-2355-4e16-a80a-74e2c84a2e99"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "4faa7949-f260-4fa4-8b97-5b5b0ba11a57"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "6118a0fb_runbook", "uuid": "97e985a8-41ec-00cc-0588-2f5803eb911f"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "e4be7f18-a890-45aa-b1ee-40cb77e6d4e9"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "600bbd68_runbook", "uuid": "c519ffa9-6a9f-b738-65c6-02c701d90214"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "3cb2100f-e480-43af-9851-81625ac4b1ee"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "9b75e2b4-261c-460b-995b-005300788e92"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "c54c59a0-a499-423f-a130-d599eab41dc9"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "e76a47cc-7fff-40b5-8af5-0ea24a49ba69"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "c06f9214-2355-4e16-a80a-74e2c84a2e99"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Delete_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "adc0d6c1-cc64-4dd7-9e22-ef5f11b27efa"}], "description": "", "name": "SYS_GEN__Runbook_Application_2c3e8cbb_22b7_2679_1128_5faa3ebd47d2", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_2c3e8cbb_22b7_2679_1128_5faa3ebd47d2", "uuid": "4faa7949-f260-4fa4-8b97-5b5b0ba11a57"}, "message_list": [], "variable_list": [], "uuid": "6a5f0043-9cf0-4c59-b8e9-696fb6217a5b"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete created VMs", "type": "system", "uuid": "25017f31-b9ae-4968-a1e5-39b27fcd371a", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "AHV", "uuid": "2c3e8cbb-22b7-2679-1128-5faa3ebd47d2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "cf0d7e25-cdf5-46ce-947c-3f615dc927aa"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "cb665c14-0833-46bc-9f03-6a10f7d332d9"}, {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "a22894b3-e723-4d8f-8eff-cfd848660e89"}, {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "d3010402-9ab8-4b03-a00f-b505d4304abf"}], "name": "SYS_GEN__Composite_DAG_Application_2c3e8cbb_22b7_2679_1128_5faa3ebd47d2", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "cf0d7e25-cdf5-46ce-947c-3f615dc927aa"}, "edge_type": "inherent", "type": "", "uuid": "eb01627d-93e0-4a84-a64e-84e0c94c0a8c", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "cb665c14-0833-46bc-9f03-6a10f7d332d9"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_fbf07608_9982_c0f1_1c94_43ef1a745681", "uuid": "cb665c14-0833-46bc-9f03-6a10f7d332d9"}, "edge_type": "inherent", "type": "", "uuid": "209d70d6-8759-44c5-92a4-f3b2f257ba6f", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "a22894b3-e723-4d8f-8eff-cfd848660e89"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "a22894b3-e723-4d8f-8eff-cfd848660e89"}, "edge_type": "inherent", "type": "", "uuid": "62de7f67-bce7-431a-8958-78ba139677dd", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_03c80b0d_cdbf_222d_1461_151831126cce", "uuid": "d3010402-9ab8-4b03-a00f-b505d4304abf"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "b942e3e7-36c1-48de-af5a-689b8ed9efaf"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_563bc890_54d1_4f35_8543_b1d583472e28", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_563bc890_54d1_4f35_8543_b1d583472e28", "uuid": "fa86b76d-db30-43ef-a151-17808ddf7364"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "cf0d7e25-cdf5-46ce-947c-3f615dc927aa"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto", "uuid": "fbf07608-9982-c0f1-1c94-43ef1a745681"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_fbf07608_9982_c0f1_1c94_43ef1a745681", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "cb665c14-0833-46bc-9f03-6a10f7d332d9"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM", "uuid": "67526218-cf56-bb5b-85c4-322638056caa"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_67526218_cf56_bb5b_85c4_322638056caa", "uuid": "581d6d7f-25fa-49bf-a095-06bad390a4dc"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "a22894b3-e723-4d8f-8eff-cfd848660e89"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7564f5df_deployment", "uuid": "03c80b0d-cdbf-222d-1461-151831126cce"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Soft_Delete_03c80b0d_cdbf_222d_1461_151831126cce", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "d3010402-9ab8-4b03-a00f-b505d4304abf"}], "description": "", "name": "SYS_GEN__Runbook_Application_2c3e8cbb_22b7_2679_1128_5faa3ebd47d2", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_2c3e8cbb_22b7_2679_1128_5faa3ebd47d2", "uuid": "b942e3e7-36c1-48de-af5a-689b8ed9efaf"}, "message_list": [], "variable_list": [], "uuid": "670a4be5-4382-4509-8b4d-5efebf0468ff"}, "message_list": [], "name": "action_soft_delete"}, {"description": "This action upgrades palo alto to given version", "type": "user", "uuid": "6b2f8a77-c7ba-520c-3696-693c35dc71ea", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "UpgradePANOS", "uuid": "dce79ec0-c641-5f99-f325-35410f21b46b"}], "name": "42daab86_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "5724802c-d0b2-e4d3-8284-690da3d26734"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto", "uuid": "563bc890-54d1-4f35-8543-b1d583472e28"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "UpgradePANOS", "state": "ACTIVE", "attrs": {"script": "def postrequest(api_url,payload):\n  r = urlreq(api_url, verb='POST',auth=\"BASIC\", params=payload, user='admin', passwd='admin', verify=False)\n  if 'success' in r.content:\n    return r.content\n  else:\n    print \"PAN API configuration failed\",r.content\n    exit(1)\n\ndef getrequest(api_url,payload):\n  r = urlreq(api_url, verb='GET',auth=\"BASIC\", params=payload, user='admin', passwd='admin', verify=False)\n  if 'success' in r.content:\n    return r.content\n  else:\n    print \"PAN API configuration failed\",r.content\n    exit(1)\n    \nurl1 = \"https://@@{address}@@/api\"\n\n#Get the auth key for making API requests\npayload = {'type': 'keygen', 'user': 'admin', 'password': 'admin'}\nkey_str = postrequest(api_url=url1,payload=payload)\nkey = key_str.split('<key>')[1].split('</key>')[0]\n\n#Download the required version\npayload = {'type': 'op', 'key':key, 'cmd': '<request><system><software><download><version>@@{PAN_VERSION}@@</version></download></software></system></request>'}\nresp = getrequest(api_url=url1,payload=payload)\nprint resp\n\n\n#Upgrade the PAN OS\npayload = {'type': 'op', 'key':key, 'cmd': '<request><system><software><install><version>@@{PAN_VERSION}@@</version></install></software></system></request>'}\nresp = getrequest(api_url=url1,payload=payload)\nprint resp\n\n\n#Reboot the firewall\n#payload = {'type': 'op', 'key':key, 'cmd': '<request><restart><system></system></restart></request>'}\n#resp = getrequest(api_url=url1,payload=payload)\n#print resp\n", "type": "", "command_line_args": "", "exit_status": [], "script_type": "static"}, "timeout_secs": "0", "type": "EXEC", "variable_list": [], "uuid": "dce79ec0-c641-5f99-f325-35410f21b46b"}], "description": "", "name": "5aadebbf_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "42daab86_dag", "uuid": "5724802c-d0b2-e4d3-8284-690da3d26734"}, "message_list": [], "variable_list": [{"val_type": "STRING", "description": "", "name": "PAN_VERSION", "type": "LOCAL", "value": "8.1.1", "label": "", "state": "NOT_VALIDATED", "attrs": {"type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "d76e3011-8f47-5f61-79b5-9320235b226c"}], "uuid": "c69bc2aa-0e9c-2834-59f2-1c9a74b97577"}, "message_list": [], "name": "Upgrade"}], "name": "AHV", "state": "ACTIVE", "message_list": [], "dependency_list": [], "variable_list": [], "uuid": "2c3e8cbb-22b7-2679-1128-5faa3ebd47d2"}], "default_credential_local_reference": {"kind": "app_credential", "name": "root", "uuid": "67a5ca33-9897-b58a-3a67-a54a174f1a59"}, "type": "USER"}, "name": "PaloAlto"}, "spec": {"description": "Paloalto BP to test things", "resources": {"service_definition_list": [{"singleton": false, "name": "PaloAlto", "action_list": [{"critical": false, "type": "system", "description": "System action for creating an application", "name": "action_create", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "name": "6db1fd2b_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "6db1fd2b_dag"}, "name": "f27196d1_runbook"}}, {"critical": false, "type": "system", "description": "System action for deleting an application. Deletes created VMs as well", "name": "action_delete", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "name": "c9590be7_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "c9590be7_dag"}, "name": "600bbd68_runbook"}}, {"critical": false, "type": "system", "description": "System action for starting an application", "name": "action_start", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "name": "f15b951f_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "f15b951f_dag"}, "name": "29cb19fc_runbook"}}, {"critical": false, "type": "system", "description": "System action for stopping an application", "name": "action_stop", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "name": "14145f2a_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "14145f2a_dag"}, "name": "6118a0fb_runbook"}}, {"critical": false, "type": "system", "description": "System action for restarting an application", "name": "action_restart", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "name": "1d512b0f_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "1d512b0f_dag"}, "name": "aa407fa1_runbook"}}], "description": "", "port_list": [], "tier": "", "variable_list": [], "depends_on_list": []}], "substrate_definition_list": [{"description": "", "action_list": [], "readiness_probe": {"connection_type": "SSH", "disable_readiness_probe": true, "timeout_secs": "300", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@", "connection_port": 22, "login_credential_local_reference": {"kind": "app_credential", "name": "root"}}, "editables": {"create_spec": {"resources": {"disk_list": {}}}}, "os_type": "Linux", "type": "AHV_VM", "create_spec": {"backup_policy": null, "type": "", "name": "PaloAlto", "resources": {"power_state": "ON", "guest_tools": null, "boot_config": {"boot_device": {"type": "", "disk_address": {"adapter_type": "SCSI", "device_index": 0, "type": ""}}, "type": "", "mac_address": ""}, "hardware_clock_timezone": "", "guest_customization": null, "type": "", "disk_list": []}, "availability_zone_reference": null}, "variable_list": [], "name": "PaloAltoVM"}], "credential_definition_list": [{"username": "root", "secret": {"attrs": {"is_secret_modified": false, "secret_reference": {}}}, "type": "PASSWORD", "description": "", "name": "root"}], "package_definition_list": [{"description": "", "action_list": [], "service_local_reference_list": [{"kind": "app_service", "name": "PaloAlto"}], "version": "", "type": "DEB", "options": {"install_runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto"}, "description": "", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "Configuration"}], "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "name": "35eb7067_dag"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"script_type": "static", "type": "", "command_line_args": "", "exit_status": [], "script": "sleep(600)\nprint \"Palo alto configuration\"\ndef postrequest(api_url,payload):\n  r = urlreq(api_url, verb='POST',auth=\"BASIC\", params=payload, user='admin', passwd='admin', verify=False)\n  if 'success' in r.content:\n    return r.content\n  else:\n    print \"PAN API configuration failed\",r.content\n    exit(1)\n\nsleep(60)\n\nurl1 = \"https://@@{address}@@/api\"\n#Get the auth key for making API requests\npayload = {'type': 'keygen', 'user': 'admin', 'password': 'admin'}\nkey_str = postrequest(api_url=url1,payload=payload)\nkey = key_str.split('<key>')[1].split('</key>')[0]\n\n#Print the config\npayload = {'type': 'config', 'action': 'show', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/deviceconfig/setting\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#Set automatic mac detection to yes\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/deviceconfig/setting\", 'element':\"<auto-mac-detect>yes</auto-mac-detect>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n\n#Enable and Configure the interfaces for lldp\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/network/interface/ethernet/entry[@name='ethernet1/1']\", 'element':\"<link-state>up</link-state><virtual-wire><lldp><enable>no</enable></lldp></virtual-wire>\"}\nprint postrequest(api_url=url1,payload=payload)\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/network/interface/ethernet/entry[@name='ethernet1/2']\", 'element':\"<link-state>up</link-state><virtual-wire><lldp><enable>no</enable></lldp></virtual-wire>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#create Virtual wire\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/network/virtual-wire/entry[@name='default-vwire']\", 'element':\"<tag-allowed>1233</tag-allowed><interface1>ethernet1/1</interface1><interface2>ethernet1/2</interface2>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#create trust zone\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/zone/entry[@name='trust']\", 'element':\"<network><virtual-wire><member>ethernet1/1</member></virtual-wire></network>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#create untrust zone\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/zone/entry[@name='untrust']\", 'element':\"<network><virtual-wire><member>ethernet1/2</member></virtual-wire></network>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#Create the tags\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/tag/entry[@name='TIER:WEB']\", 'element':\"<color>color2</color>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n\n\n#Create Dynamic Address groups and associate filters\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/address-group/entry[@name='WebServers']\", 'element':\"<dynamic><filter>'TIER:WEB'</filter></dynamic>\"}\nprint postrequest(api_url=url1,payload=payload)\n\n#Create Security Policy\npayload = {'type': 'config', 'action': 'set', 'key':key, 'xpath':\"/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/rulebase/security/rules/entry[@name='From_Tier_Web']\", 'element':\"<to><member>untrust</member></to><from><member>trust</member></from><source><member>WebServers</member></source><destination><member>any</member></destination><source-user><member>any</member></source-user><category><member>any</member></category><application><member>any</member></application><service><member>application-default</member></service><hip-profiles><member>any</member></hip-profiles><action>allow</action><log-start>yes</log-start>\"}\nprint postrequest(api_url=url1,payload=payload)\n\nsleep(10)\n\n#Commit the changes\npayload = {'type': 'commit', 'cmd': '<commit></commit>', 'key':key}\nprint postrequest(api_url=url1,payload=payload)\n"}, "timeout_secs": "0", "type": "EXEC", "variable_list": [], "name": "Configuration"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "35eb7067_dag"}, "name": "f09630d0_runbook"}, "type": "", "uninstall_runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigurePaloAlto"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "name": "05f0c3b5_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "05f0c3b5_dag"}, "name": "c5755bd7_runbook"}}, "variable_list": [], "name": "ConfigurePaloAlto"}], "app_profile_list": [{"deployment_create_list": [{"description": "", "action_list": [], "package_local_reference_list": [{"kind": "app_package", "name": "ConfigurePaloAlto"}], "min_replicas": "1", "max_replicas": "1", "substrate_local_reference": {"kind": "app_substrate", "name": "PaloAltoVM"}, "type": "GREENFIELD", "variable_list": [], "name": "7564f5df_deployment"}], "variable_list": [], "description": "", "action_list": [{"critical": false, "type": "user", "description": "This action upgrades palo alto to given version", "name": "Upgrade", "runbook": {"variable_list": [{"val_type": "STRING", "description": "", "value": "8.1.1", "label": "", "attrs": {"type": ""}, "editables": {"value": true}, "type": "LOCAL", "name": "PAN_VERSION"}], "task_definition_list": [{"description": "", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "UpgradePANOS"}], "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "name": "42daab86_dag"}, {"target_any_local_reference": {"kind": "app_service", "name": "PaloAlto"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"script_type": "static", "type": "", "command_line_args": "", "exit_status": [], "script": "def postrequest(api_url,payload):\n  r = urlreq(api_url, verb='POST',auth=\"BASIC\", params=payload, user='admin', passwd='admin', verify=False)\n  if 'success' in r.content:\n    return r.content\n  else:\n    print \"PAN API configuration failed\",r.content\n    exit(1)\n\ndef getrequest(api_url,payload):\n  r = urlreq(api_url, verb='GET',auth=\"BASIC\", params=payload, user='admin', passwd='admin', verify=False)\n  if 'success' in r.content:\n    return r.content\n  else:\n    print \"PAN API configuration failed\",r.content\n    exit(1)\n    \nurl1 = \"https://@@{address}@@/api\"\n\n#Get the auth key for making API requests\npayload = {'type': 'keygen', 'user': 'admin', 'password': 'admin'}\nkey_str = postrequest(api_url=url1,payload=payload)\nkey = key_str.split('<key>')[1].split('</key>')[0]\n\n#Download the required version\npayload = {'type': 'op', 'key':key, 'cmd': '<request><system><software><download><version>@@{PAN_VERSION}@@</version></download></software></system></request>'}\nresp = getrequest(api_url=url1,payload=payload)\nprint resp\n\n\n#Upgrade the PAN OS\npayload = {'type': 'op', 'key':key, 'cmd': '<request><system><software><install><version>@@{PAN_VERSION}@@</version></install></software></system></request>'}\nresp = getrequest(api_url=url1,payload=payload)\nprint resp\n\n\n#Reboot the firewall\n#payload = {'type': 'op', 'key':key, 'cmd': '<request><restart><system></system></restart></request>'}\n#resp = getrequest(api_url=url1,payload=payload)\n#print resp\n"}, "timeout_secs": "0", "type": "EXEC", "variable_list": [], "name": "UpgradePANOS"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "42daab86_dag"}, "name": "5aadebbf_runbook"}}], "name": "AHV"}], "default_credential_local_reference": {"kind": "app_credential", "name": "root"}, "type": "USER", "client_attrs": {"PaloAlto": {"y": 212, "x": 409.5}}}, "name": "PaloAlto"}, "api_version": "3.0", "metadata": {"last_update_time": "1524050690906367", "creation_time": "1523735294123913", "kind": "blueprint", "spec_version": 14, "name": "PaloAlto"}}