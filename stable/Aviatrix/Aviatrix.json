{"status": {"state": "ACTIVE", "message_list": [], "description": "* [Aviatrix](https://@@{Aviatrix.address}@@)", "resources": {"service_definition_list": [{"singleton": false, "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "e57345c3-1384-4098-9311-b6b989949aa3", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "69e2dfff_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "6436b105-c97a-410c-832c-4c37c2a358c7"}], "description": "", "name": "97a4f74a_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "69e2dfff_dag", "uuid": "6436b105-c97a-410c-832c-4c37c2a358c7"}, "message_list": [], "variable_list": [], "uuid": "9585fdd2-3c71-4132-a339-afca66afd0ea"}, "message_list": [], "name": "action_create"}, {"description": "System action for deleting an application. Deletes created VMs as well", "type": "system", "uuid": "62fe741f-f05d-4dcd-ae5a-f2ad29c3dd17", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "cd431a15_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "a65edd96-69a5-4284-95ef-cb2279dbdf7f"}], "description": "", "name": "4c4aaebc_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "cd431a15_dag", "uuid": "a65edd96-69a5-4284-95ef-cb2279dbdf7f"}, "message_list": [], "variable_list": [], "uuid": "2cd997ba-2ceb-4d2d-91ac-76bd1320659d"}, "message_list": [], "name": "action_delete"}, {"description": "System action for starting an application", "type": "system", "uuid": "bf2bde36-1a27-4054-8742-0842e679f2e4", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "aecd0ffb_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "f3f35d51-54d8-4123-92f9-5b6f0aaff6ed"}], "description": "", "name": "9e2d581b_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "aecd0ffb_dag", "uuid": "f3f35d51-54d8-4123-92f9-5b6f0aaff6ed"}, "message_list": [], "variable_list": [], "uuid": "e007d508-2894-4ebe-a883-da899348ef1d"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "edf95d0f-ec41-43ad-b58c-b1e689728525", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "de0d82da_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "76dea4dd-7a55-4673-9b0f-f10d46df198f"}], "description": "", "name": "dd1b7f6e_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "de0d82da_dag", "uuid": "76dea4dd-7a55-4673-9b0f-f10d46df198f"}, "message_list": [], "variable_list": [], "uuid": "9f99cb94-fe5e-49ea-b7c5-6320e77e0267"}, "message_list": [], "name": "action_stop"}, {"description": "System action for deleting an application. Does not delete created VMs", "type": "system", "uuid": "f8fffecf-cbb2-40f9-8a14-67ba1b3cdc88", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "ba47b1f0_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "0cb45847-0848-411c-af68-e2db9501a8c4"}], "description": "", "name": "b683dc16_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "ba47b1f0_dag", "uuid": "0cb45847-0848-411c-af68-e2db9501a8c4"}, "message_list": [], "variable_list": [], "uuid": "a0fd6d08-5b1a-42a2-be03-e15c0d4fc757"}, "message_list": [], "name": "action_soft_delete"}, {"description": "System action for restarting an application", "type": "system", "uuid": "65f339af-5c09-4a13-9762-3ae26becd311", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Service_Element_Restart_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "ee96b02c-a64e-4c9b-9756-62b4511e56df"}], "name": "SYS_GEN__DAG_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "9c0d9009-dcc4-486d-834e-cc7ad671bcfe"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Service_Element_Restart_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "SERVICE_ELEMENT_OPERATION"}, "timeout_secs": "0", "type": "SERVICE_ELEMENT_OPERATION", "variable_list": [], "uuid": "ee96b02c-a64e-4c9b-9756-62b4511e56df"}], "description": "", "name": "SYS_GEN__Runbook_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "9c0d9009-dcc4-486d-834e-cc7ad671bcfe"}, "message_list": [], "variable_list": [], "uuid": "632a99a4-0f48-44f3-8d6b-4b5adce1c6e2"}, "message_list": [], "name": "action_restart"}], "depends_on_list": [], "name": "Aviatrix", "state": "ACTIVE", "port_list": [], "editables": {}, "tier": "", "message_list": [], "variable_list": [], "description": ""}], "substrate_definition_list": [{"description": "", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "d9e7ce51-03f0-4425-9f5d-b319d465b389", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Provision_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "848ad74e-8111-4a77-9fa6-e4890e224774"}, {"kind": "app_task", "name": "SYS_GEN__check_login_for_Aviatrix_VM_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "fda8e86c-bd01-4508-9e28-c17725dd75db"}], "name": "SYS_GEN__DAG_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Nutanix_Provision_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "848ad74e-8111-4a77-9fa6-e4890e224774"}, "edge_type": "inherent", "type": "", "uuid": "0a4c552f-77cf-48b8-9959-f8d8a0291dc9", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__check_login_for_Aviatrix_VM_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "fda8e86c-bd01-4508-9e28-c17725dd75db"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "4ddcd0f4-e64d-4a6c-9253-e2d61f07e04c"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Provision_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"name": "Aviatrix_VM", "resources": {"nic_list": [{"nic_type": "NORMAL_NIC", "ip_endpoint_list": [{"ip": "@@{APPLIANCE_IP}@@", "type": "ASSIGNED"}], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": {"kind": "subnet", "type": "", "name": "", "uuid": "a5b8e6be-3175-416f-8a18-1cf3cb4233e8"}, "type": ""}, {"nic_type": "NORMAL_NIC", "ip_endpoint_list": [], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": {"kind": "subnet", "type": "", "name": "", "uuid": "a5b8e6be-3175-416f-8a18-1cf3cb4233e8"}, "type": ""}], "serial_port_list": [], "guest_tools": null, "num_vcpus_per_socket": 2, "num_sockets": 2, "gpu_list": [], "memory_size_mib": 8192, "parent_reference": null, "hardware_clock_timezone": "", "guest_customization": {"cloud_init": {"meta_data": "", "type": "", "user_data": "#cloud-config\nwrite_files:\n  - path: /etc/network/interfaces\n    content: |\n      auto lo\n      iface lo inet loopback\n      auto eth0\n      iface eth0 inet static\n      address @@{APPLIANCE_IP}@@\n      netmask @@{NETWORK_SUBNET_MASK}@@\n      gateway @@{DEFAULT_NETWORK_GATEWAY}@@\n      dns-nameservers 8.8.8.8 8.8.4.4"}, "type": "", "sysprep": null}, "power_state": "ON", "type": "", "boot_config": {"boot_device": {"type": "", "disk_address": {"type": "", "device_index": 1, "adapter_type": "SCSI"}}, "type": "", "mac_address": ""}, "disk_list": [{"data_source_reference": {"kind": "app_package", "type": "", "name": "AviatrixImage", "uuid": "03c8591c-5d68-45f0-90b2-02cc5dc6a298"}, "type": "", "disk_size_mib": 1, "device_properties": {"type": "", "disk_address": {"type": "", "device_index": 1, "adapter_type": "SCSI"}, "device_type": "DISK"}}]}, "availability_zone_reference": null, "backup_policy": null, "type": "", "cluster_reference": null, "categories": ""}, "timeout_secs": "0", "type": "PROVISION_NUTANIX", "variable_list": [], "uuid": "848ad74e-8111-4a77-9fa6-e4890e224774"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__check_login_for_Aviatrix_VM_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"type": "CHECK_LOGIN", "timeout": "60", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@"}, "timeout_secs": "0", "type": "CHECK_LOGIN", "variable_list": [], "uuid": "fda8e86c-bd01-4508-9e28-c17725dd75db"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "4ddcd0f4-e64d-4a6c-9253-e2d61f07e04c"}, "message_list": [], "variable_list": [], "uuid": "b0be1c75-c552-4543-88c5-10e484c1d52c"}, "message_list": [], "name": "action_create"}, {"description": "System action for powering on an application", "type": "system", "uuid": "bd9dffec-b0df-4046-8da0-285518666f76", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_PowerOn_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "c1c213ef-c45c-48db-9524-86d6ed0f0869"}, {"kind": "app_task", "name": "check_login_for_Aviatrix_VM_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "57fe4dc3-ae0a-4a6f-88ba-5dc5e84e1199"}], "name": "SYS_GEN__DAG_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_PowerOn_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "c1c213ef-c45c-48db-9524-86d6ed0f0869"}, "edge_type": "inherent", "type": "", "uuid": "6965d7d1-5bc5-4e30-9532-bc6390ed73d5", "to_task_reference": {"kind": "app_task", "name": "check_login_for_Aviatrix_VM_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "57fe4dc3-ae0a-4a6f-88ba-5dc5e84e1199"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "4c344398-b6f6-4fde-8461-9370387cb0bf"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Operation_PowerOn_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"type": "GENERIC_OPERATION"}, "timeout_secs": "0", "type": "VMOPERATION_NUTANIX", "variable_list": [], "uuid": "c1c213ef-c45c-48db-9524-86d6ed0f0869"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "check_login_for_Aviatrix_VM_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"type": "CHECK_LOGIN", "timeout": "60", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@"}, "timeout_secs": "0", "type": "CHECK_LOGIN", "variable_list": [], "uuid": "57fe4dc3-ae0a-4a6f-88ba-5dc5e84e1199"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "4c344398-b6f6-4fde-8461-9370387cb0bf"}, "message_list": [], "variable_list": [], "uuid": "baf551af-116a-4752-9630-201e2dd06b82"}, "message_list": [], "name": "action_poweron"}, {"description": "System action for restarting an application", "type": "system", "uuid": "f18fc9c8-1f1d-4b4f-80f9-76d0e8ea1fb4", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_Restart_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "b3fc0a8d-d619-4c99-8934-14507d5764a6"}, {"kind": "app_task", "name": "check_login_for_Aviatrix_VM_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "2dda12c9-fb7e-458f-a08a-c5d8a7a7c851"}], "name": "SYS_GEN__DAG_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_Restart_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "b3fc0a8d-d619-4c99-8934-14507d5764a6"}, "edge_type": "inherent", "type": "", "uuid": "0f4ca128-2a96-456e-b885-2a574210eac5", "to_task_reference": {"kind": "app_task", "name": "check_login_for_Aviatrix_VM_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "2dda12c9-fb7e-458f-a08a-c5d8a7a7c851"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "6f35886b-3ca1-4b38-b1b2-e3c290af4884"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Operation_Restart_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"type": "GENERIC_OPERATION"}, "timeout_secs": "0", "type": "VMOPERATION_NUTANIX", "variable_list": [], "uuid": "b3fc0a8d-d619-4c99-8934-14507d5764a6"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "check_login_for_Aviatrix_VM_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"type": "CHECK_LOGIN", "timeout": "60", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@"}, "timeout_secs": "0", "type": "CHECK_LOGIN", "variable_list": [], "uuid": "2dda12c9-fb7e-458f-a08a-c5d8a7a7c851"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "6f35886b-3ca1-4b38-b1b2-e3c290af4884"}, "message_list": [], "variable_list": [], "uuid": "b1427c50-97c6-41d9-bfa0-827713cefd92"}, "message_list": [], "name": "action_restart"}, {"description": "System action for suspending an application", "type": "system", "uuid": "fa933474-ac75-4534-83b5-b378646bb181", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DAG_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "283ac628-2b64-4c89-856a-daf8b8dca8fb"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "283ac628-2b64-4c89-856a-daf8b8dca8fb"}, "message_list": [], "variable_list": [], "uuid": "5fdf6c6f-faf5-4e71-ae5d-a34a838ff070"}, "message_list": [], "name": "action_suspend"}, {"description": "System action for modifying an application", "type": "system", "uuid": "64c7378b-79a0-41df-8767-4fd9644e0f69", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DAG_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "51efc8fe-4fed-4c70-b0a0-e762c42ca870"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "51efc8fe-4fed-4c70-b0a0-e762c42ca870"}, "message_list": [], "variable_list": [], "uuid": "b2af92a7-91f7-406f-8b67-cac6bba538fc"}, "message_list": [], "name": "action_modify"}, {"description": "System action for powering off an application", "type": "system", "uuid": "ca6ffbbc-39ea-4a50-b3a2-cd4c01615be9", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_PowerOff_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "c3ccddee-28ca-4f0e-8dfb-4fad54a98fc0"}], "name": "SYS_GEN__DAG_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "4bd00923-575c-42fe-bd26-44c8ff40726e"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Operation_PowerOff_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"type": "GENERIC_OPERATION"}, "timeout_secs": "0", "type": "VMOPERATION_NUTANIX", "variable_list": [], "uuid": "c3ccddee-28ca-4f0e-8dfb-4fad54a98fc0"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "4bd00923-575c-42fe-bd26-44c8ff40726e"}, "message_list": [], "variable_list": [], "uuid": "eda066bb-bf5b-4666-bbc9-a98ee8ff1852"}, "message_list": [], "name": "action_poweroff"}, {"description": "System action for deleting an application. Deletes created VMs as well", "type": "system", "uuid": "4e54458d-405e-482b-96aa-f6a5be41534a", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Delete_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "054a7802-1bc2-40e5-8c27-24bcec034a7a"}], "name": "SYS_GEN__DAG_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "45194cbd-79e2-4368-b2a5-d03ca84cb402"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Delete_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "DELETE_NUTANIX", "variable_list": [], "uuid": "054a7802-1bc2-40e5-8c27-24bcec034a7a"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "45194cbd-79e2-4368-b2a5-d03ca84cb402"}, "message_list": [], "variable_list": [], "uuid": "815abb11-9b14-4dea-9601-2a680bfc89e4"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete created VMs", "type": "system", "uuid": "7def78a2-b3a0-43a5-8fee-d7f2e7f64415", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Substrate_Element_Delete_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "f3819997-122c-4b63-9146-43835aacbdff"}], "name": "SYS_GEN__DAG_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "b6f388ef-4b67-430f-b30d-517b6bf0ac98"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Substrate_Element_Delete_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "f3819997-122c-4b63-9146-43835aacbdff"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "b6f388ef-4b67-430f-b30d-517b6bf0ac98"}, "message_list": [], "variable_list": [], "uuid": "9f048010-d05a-474d-8f71-bf9d0e1f4ccd"}, "message_list": [], "name": "action_soft_delete"}], "type": "AHV_VM", "name": "Aviatrix_VM", "state": "ACTIVE", "readiness_probe": {"connection_type": "SSH", "disable_readiness_probe": true, "timeout_secs": "60", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@", "connection_port": 22, "login_credential_local_reference": {"kind": "app_credential", "name": "admin", "uuid": "7b6ec838-da18-4d78-ad85-8d87a8bec41b"}}, "editables": {"readiness_probe": {"timeout_secs": null}, "create_spec": {"name": true, "resources": {"nic_list": {"1": {"subnet_reference": true}, "0": {"ip_endpoint_list": {"0": {"ip": true}}, "subnet_reference": true}}, "num_vcpus_per_socket": true, "num_sockets": true, "memory_size_mib": true, "disk_list": {}}}}, "os_type": "Linux", "message_list": [], "create_spec": {"name": "Aviatrix_VM", "resources": {"nic_list": [{"nic_type": "NORMAL_NIC", "ip_endpoint_list": [{"ip": "@@{APPLIANCE_IP}@@", "type": "ASSIGNED"}], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": {"kind": "subnet", "type": "", "name": "", "uuid": "a5b8e6be-3175-416f-8a18-1cf3cb4233e8"}, "type": ""}, {"nic_type": "NORMAL_NIC", "ip_endpoint_list": [], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": {"kind": "subnet", "type": "", "name": "", "uuid": "a5b8e6be-3175-416f-8a18-1cf3cb4233e8"}, "type": ""}], "serial_port_list": [], "guest_tools": null, "num_vcpus_per_socket": 2, "num_sockets": 2, "gpu_list": [], "memory_size_mib": 8192, "parent_reference": null, "hardware_clock_timezone": "", "guest_customization": {"cloud_init": {"meta_data": "", "type": "", "user_data": "#cloud-config\nwrite_files:\n  - path: /etc/network/interfaces\n    content: |\n      auto lo\n      iface lo inet loopback\n      auto eth0\n      iface eth0 inet static\n      address @@{APPLIANCE_IP}@@\n      netmask @@{NETWORK_SUBNET_MASK}@@\n      gateway @@{DEFAULT_NETWORK_GATEWAY}@@\n      dns-nameservers 8.8.8.8 8.8.4.4"}, "type": "", "sysprep": null}, "power_state": "ON", "type": "", "boot_config": {"boot_device": {"type": "", "disk_address": {"type": "", "device_index": 1, "adapter_type": "SCSI"}}, "type": "", "mac_address": ""}, "disk_list": [{"data_source_reference": {"kind": "app_package", "type": "", "name": "AviatrixImage", "uuid": "03c8591c-5d68-45f0-90b2-02cc5dc6a298"}, "type": "", "disk_size_mib": 1, "device_properties": {"type": "", "disk_address": {"type": "", "device_index": 1, "adapter_type": "SCSI"}, "device_type": "DISK"}}]}, "availability_zone_reference": null, "backup_policy": null, "type": "", "cluster_reference": null, "categories": ""}, "variable_list": [], "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}], "credential_definition_list": [{"username": "admin", "description": "", "secret": {"attrs": {"is_secret_modified": false, "secret_reference": {}}}, "name": "admin", "state": "ACTIVE", "editables": {}, "type": "PASSWORD", "uuid": "7b6ec838-da18-4d78-ad85-8d87a8bec41b"}], "package_definition_list": [{"description": "", "action_list": [{"description": "System action for installing an application", "type": "system", "uuid": "075e0ff5-4c31-4f76-b28c-de0ba64d2078", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Install_Crb_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "85968aed-7729-48c3-8864-b104ad6e662d"}], "name": "SYS_GEN__DAG_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "7d797dd6-b00c-4902-ad4c-01f82dd1e12c"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Install_Crb_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "attrs": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask", "uuid": "201c13ca-fc43-4170-afed-8ff8b0776ac0"}], "name": "4a096aba_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "f59423ce-7139-4a18-96dc-66db0711ba1b"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageInstallTask", "state": "ACTIVE", "attrs": {"script": "#script\n\nif \"@@{AVIATRIX_ADMIN_PASSWORD}@@\" == \"@@{CONFIRM_ADMIN_PASSWORD}@@\":\n  print \"Confirm passwords are same\"\nelse:\n  print \"Password and confirm password for admin are not same.\"\n  exit(1)\n\n\nsleep(300)\ncust_id = '@@{CUSTOMER_ID}@@'\nvpc_num = \"@@{VPC_NUMBER}@@\"\naccount_name = \"@@{CLOUD_ACCOUNT_NAME}@@\"\naccount_password = '@@{CLOUD_ACCOUNT_PASSWORD}@@'\naccount_email = '@@{CLOUD_ACCOUNT_EMAIL}@@'\naws_account_number = '@@{AWS_ACCOUNT_NUMBER}@@'\naws_access_key = '@@{AWS_ACCESS_KEY}@@'\naws_secret_key = '@@{AWS_SECRET_KEY}@@'\navaitrix_ip = \"@@{APPLIANCE_IP}@@\"\nnew_avaitrix_password = \"@@{AVIATRIX_ADMIN_PASSWORD}@@\"\n\napi_url = 'https://{0}/v1/api'.format(avaitrix_ip)\n#print api_url\n\n\n\ndef setconfig(api_url, payload):\n  r = urlreq(api_url, verb='POST', auth=\"BASIC\", user='admin', passwd='passwd', params=payload, verify=False)\n  resp = json.loads(r.content)\n  if resp['return']:\n    return resp\n  else:\n    print \"Post request failed\", r.content\n    exit(1)\n\nprint \"Get the session ID for making API operations\"\npayload = {'action': 'login', 'username': 'admin', 'password': avaitrix_ip}\napi_url1 = api_url + \"?action=login&username=admin&password=\"+ avaitrix_ip\ncid = setconfig(api_url=api_url1, payload=payload)\ncid = cid['CID']\n\n\nprint \"Configure email id\"\npayload = {'action': 'add_admin_email_addr', 'admin_email': account_email , 'CID': cid}\napi_url1 = api_url + \"?action=add_admin_email_addr&admin_email=\"+account_email+\"&CID=\"+ cid\nresp = setconfig(api_url=api_url1, payload=payload)\nprint resp\n\nprint \"Reset admin password\"\npayload = {'action': 'edit_account_user', 'account_name': 'admin', 'what': 'password', 'username': 'admin', 'old_password': avaitrix_ip,'new_password': new_avaitrix_password, 'CID': cid}\napi_url1 = api_url + \"?action=edit_account_user&account_name=admin&what=password&username=admin&old_password=\"+avaitrix_ip+\"&new_password=\"+new_avaitrix_password+\"&CID=\"+cid\nresp = setconfig(api_url=api_url1, payload=payload)\nprint resp\n\nprint \"Apply license\"\npayload = {'CID': cid, 'action': 'setup_customer_id', 'customer_id':cust_id}\napi_url1 = api_url + \"?action=setup_customer_id&CID=\"+cid+\"&customer_id=\"+cust_id\nresp = setconfig(api_url=api_url1, payload=payload)\nprint resp\n\nprint \"Setup max VPC count\"\npayload = {'CID': cid, 'action': 'setup_max_vpc_containers', 'vpc_num':vpc_num}\napi_url1 = api_url + \"?action=setup_max_vpc_containers&CID=\"+cid+\"&vpc_num=\"+vpc_num\nresp = setconfig(api_url=api_url1, payload=payload)\nprint resp\n\n\nprint \"Create AWS account\"\npayload = {'CID': cid,\n  'action': 'setup_account_profile',\n  'account_name': account_name,\n  'account_password': account_password,\n  'account_email': account_email,\n  'cloud_type': 1,\n  'aws_account_number': aws_account_number,\n  'aws_access_key': aws_access_key,\n  'aws_secret_key': aws_secret_key\n  }\n\nresp = setconfig(api_url=api_url, payload=payload)\nprint resp", "type": "", "command_line_args": "", "exit_status": [], "script_type": "static"}, "timeout_secs": "0", "type": "EXEC", "variable_list": [], "uuid": "201c13ca-fc43-4170-afed-8ff8b0776ac0"}], "description": "", "name": "8170a074_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "4a096aba_dag", "uuid": "f59423ce-7139-4a18-96dc-66db0711ba1b"}, "message_list": [], "variable_list": [], "uuid": "06b06fc9-d58e-4482-8eb8-c504938d474a"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageUninstallTask", "uuid": "ade21e8e-16a7-443e-ae07-fa39dee617f8"}], "name": "181976dd_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "ab81c192-e3af-4b40-b46c-aa64b75c6eaa"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageUninstallTask", "state": "ACTIVE", "attrs": {"script": "#script\n\nprint \"Please delete the created vpc from aviatrix manually\"\n", "type": "", "command_line_args": "", "exit_status": [], "script_type": "static"}, "timeout_secs": "0", "type": "EXEC", "variable_list": [], "uuid": "ade21e8e-16a7-443e-ae07-fa39dee617f8"}], "description": "", "name": "cc00c26d_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "181976dd_dag", "uuid": "ab81c192-e3af-4b40-b46c-aa64b75c6eaa"}, "message_list": [], "variable_list": [], "uuid": "288f09c1-a885-4953-b595-33e851aee288"}}, "timeout_secs": "0", "type": "CUSTOM_PACKAGE_INSTALL", "variable_list": [], "uuid": "85968aed-7729-48c3-8864-b104ad6e662d"}], "description": "", "name": "SYS_GEN__Runbook_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "7d797dd6-b00c-4902-ad4c-01f82dd1e12c"}, "message_list": [], "variable_list": [], "uuid": "5de15fd4-e0f9-49cb-86c7-69cd129a499d"}, "message_list": [], "name": "action_install"}, {"description": "System action for creating an application", "type": "system", "uuid": "d1cd7cf6-3336-4ef4-91fe-c84f1b20e3ed", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "1eb3095b-e073-4369-b033-16557b7b1638"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "4dc9b1a2-71df-4b7c-aefa-0977b5dcb19d"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "d82d1f12-611f-4a9f-9e7d-cba99bdeb1e4"}], "name": "SYS_GEN__Composite_DAG_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "4dc9b1a2-71df-4b7c-aefa-0977b5dcb19d"}, "edge_type": "inherent", "type": "", "uuid": "7b4bcf46-1695-46e3-be60-7b54a66418ad", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "d82d1f12-611f-4a9f-9e7d-cba99bdeb1e4"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "1eb3095b-e073-4369-b033-16557b7b1638"}, "edge_type": "inherent", "type": "", "uuid": "b0d01c58-462f-46af-84e3-ae659cb7495e", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "4dc9b1a2-71df-4b7c-aefa-0977b5dcb19d"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "ad6b9692-0fb6-4b98-b294-8b06da2700ea"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "5de15fd4-e0f9-49cb-86c7-69cd129a499d"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "1eb3095b-e073-4369-b033-16557b7b1638"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "97a4f74a_runbook", "uuid": "9585fdd2-3c71-4132-a339-afca66afd0ea"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "4dc9b1a2-71df-4b7c-aefa-0977b5dcb19d"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "9e2d581b_runbook", "uuid": "e007d508-2894-4ebe-a883-da899348ef1d"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "d82d1f12-611f-4a9f-9e7d-cba99bdeb1e4"}], "description": "", "name": "SYS_GEN__Runbook_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "ad6b9692-0fb6-4b98-b294-8b06da2700ea"}, "message_list": [], "variable_list": [], "uuid": "edb072fe-64cb-4968-834b-4123304f6734"}, "message_list": [], "name": "action_create"}, {"description": "System action for uninstalling an application", "type": "system", "uuid": "d48e9b81-e5cc-44c2-95cf-3d40e14f9824", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Uninstall_Crb_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "752868ab-f8de-46bc-9244-51ef5766c17d"}], "name": "SYS_GEN__DAG_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "f8d806ef-0472-4132-9cc4-6bb6814a5ad3"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Uninstall_Crb_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "attrs": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask", "uuid": "201c13ca-fc43-4170-afed-8ff8b0776ac0"}], "name": "4a096aba_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "f59423ce-7139-4a18-96dc-66db0711ba1b"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageInstallTask", "state": "ACTIVE", "attrs": {"script": "#script\n\nif \"@@{AVIATRIX_ADMIN_PASSWORD}@@\" == \"@@{CONFIRM_ADMIN_PASSWORD}@@\":\n  print \"Confirm passwords are same\"\nelse:\n  print \"Password and confirm password for admin are not same.\"\n  exit(1)\n\n\nsleep(300)\ncust_id = '@@{CUSTOMER_ID}@@'\nvpc_num = \"@@{VPC_NUMBER}@@\"\naccount_name = \"@@{CLOUD_ACCOUNT_NAME}@@\"\naccount_password = '@@{CLOUD_ACCOUNT_PASSWORD}@@'\naccount_email = '@@{CLOUD_ACCOUNT_EMAIL}@@'\naws_account_number = '@@{AWS_ACCOUNT_NUMBER}@@'\naws_access_key = '@@{AWS_ACCESS_KEY}@@'\naws_secret_key = '@@{AWS_SECRET_KEY}@@'\navaitrix_ip = \"@@{APPLIANCE_IP}@@\"\nnew_avaitrix_password = \"@@{AVIATRIX_ADMIN_PASSWORD}@@\"\n\napi_url = 'https://{0}/v1/api'.format(avaitrix_ip)\n#print api_url\n\n\n\ndef setconfig(api_url, payload):\n  r = urlreq(api_url, verb='POST', auth=\"BASIC\", user='admin', passwd='passwd', params=payload, verify=False)\n  resp = json.loads(r.content)\n  if resp['return']:\n    return resp\n  else:\n    print \"Post request failed\", r.content\n    exit(1)\n\nprint \"Get the session ID for making API operations\"\npayload = {'action': 'login', 'username': 'admin', 'password': avaitrix_ip}\napi_url1 = api_url + \"?action=login&username=admin&password=\"+ avaitrix_ip\ncid = setconfig(api_url=api_url1, payload=payload)\ncid = cid['CID']\n\n\nprint \"Configure email id\"\npayload = {'action': 'add_admin_email_addr', 'admin_email': account_email , 'CID': cid}\napi_url1 = api_url + \"?action=add_admin_email_addr&admin_email=\"+account_email+\"&CID=\"+ cid\nresp = setconfig(api_url=api_url1, payload=payload)\nprint resp\n\nprint \"Reset admin password\"\npayload = {'action': 'edit_account_user', 'account_name': 'admin', 'what': 'password', 'username': 'admin', 'old_password': avaitrix_ip,'new_password': new_avaitrix_password, 'CID': cid}\napi_url1 = api_url + \"?action=edit_account_user&account_name=admin&what=password&username=admin&old_password=\"+avaitrix_ip+\"&new_password=\"+new_avaitrix_password+\"&CID=\"+cid\nresp = setconfig(api_url=api_url1, payload=payload)\nprint resp\n\nprint \"Apply license\"\npayload = {'CID': cid, 'action': 'setup_customer_id', 'customer_id':cust_id}\napi_url1 = api_url + \"?action=setup_customer_id&CID=\"+cid+\"&customer_id=\"+cust_id\nresp = setconfig(api_url=api_url1, payload=payload)\nprint resp\n\nprint \"Setup max VPC count\"\npayload = {'CID': cid, 'action': 'setup_max_vpc_containers', 'vpc_num':vpc_num}\napi_url1 = api_url + \"?action=setup_max_vpc_containers&CID=\"+cid+\"&vpc_num=\"+vpc_num\nresp = setconfig(api_url=api_url1, payload=payload)\nprint resp\n\n\nprint \"Create AWS account\"\npayload = {'CID': cid,\n  'action': 'setup_account_profile',\n  'account_name': account_name,\n  'account_password': account_password,\n  'account_email': account_email,\n  'cloud_type': 1,\n  'aws_account_number': aws_account_number,\n  'aws_access_key': aws_access_key,\n  'aws_secret_key': aws_secret_key\n  }\n\nresp = setconfig(api_url=api_url, payload=payload)\nprint resp", "type": "", "command_line_args": "", "exit_status": [], "script_type": "static"}, "timeout_secs": "0", "type": "EXEC", "variable_list": [], "uuid": "201c13ca-fc43-4170-afed-8ff8b0776ac0"}], "description": "", "name": "8170a074_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "4a096aba_dag", "uuid": "f59423ce-7139-4a18-96dc-66db0711ba1b"}, "message_list": [], "variable_list": [], "uuid": "06b06fc9-d58e-4482-8eb8-c504938d474a"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageUninstallTask", "uuid": "ade21e8e-16a7-443e-ae07-fa39dee617f8"}], "name": "181976dd_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "ab81c192-e3af-4b40-b46c-aa64b75c6eaa"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageUninstallTask", "state": "ACTIVE", "attrs": {"script": "#script\n\nprint \"Please delete the created vpc from aviatrix manually\"\n", "type": "", "command_line_args": "", "exit_status": [], "script_type": "static"}, "timeout_secs": "0", "type": "EXEC", "variable_list": [], "uuid": "ade21e8e-16a7-443e-ae07-fa39dee617f8"}], "description": "", "name": "cc00c26d_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "181976dd_dag", "uuid": "ab81c192-e3af-4b40-b46c-aa64b75c6eaa"}, "message_list": [], "variable_list": [], "uuid": "288f09c1-a885-4953-b595-33e851aee288"}}, "timeout_secs": "0", "type": "CUSTOM_PACKAGE_UNINSTALL", "variable_list": [], "uuid": "752868ab-f8de-46bc-9244-51ef5766c17d"}], "description": "", "name": "SYS_GEN__Runbook_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "f8d806ef-0472-4132-9cc4-6bb6814a5ad3"}, "message_list": [], "variable_list": [], "uuid": "f0ae886b-f8e4-4c2b-82b4-1cfc7749c53b"}, "message_list": [], "name": "action_uninstall"}, {"description": "System action for deleting an application. Deletes created VMs as well", "type": "system", "uuid": "335caf1c-3553-446c-92d1-6b8e58da7eef", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "14f85546-ddfc-42d1-bf44-8ec165dac503"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "528cd49a-417c-4ef2-b686-1d98237ee40b"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "f9c9efca-61d8-47c0-9a69-ef753b57a47a"}], "name": "SYS_GEN__Composite_DAG_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "14f85546-ddfc-42d1-bf44-8ec165dac503"}, "edge_type": "inherent", "type": "", "uuid": "d1c8d75e-0a5a-4c18-94cc-2f78456773d5", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "528cd49a-417c-4ef2-b686-1d98237ee40b"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "528cd49a-417c-4ef2-b686-1d98237ee40b"}, "edge_type": "inherent", "type": "", "uuid": "2c163269-e019-42d5-b2c0-c53669ed35e7", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "f9c9efca-61d8-47c0-9a69-ef753b57a47a"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "dcfbeffd-8f1d-42c2-a74d-7226de810bdc"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "dd1b7f6e_runbook", "uuid": "9f99cb94-fe5e-49ea-b7c5-6320e77e0267"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "14f85546-ddfc-42d1-bf44-8ec165dac503"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4c4aaebc_runbook", "uuid": "2cd997ba-2ceb-4d2d-91ac-76bd1320659d"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "528cd49a-417c-4ef2-b686-1d98237ee40b"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "f0ae886b-f8e4-4c2b-82b4-1cfc7749c53b"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "f9c9efca-61d8-47c0-9a69-ef753b57a47a"}], "description": "", "name": "SYS_GEN__Runbook_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "dcfbeffd-8f1d-42c2-a74d-7226de810bdc"}, "message_list": [], "variable_list": [], "uuid": "772f0279-1e70-4db8-a8f7-30cd6b28f589"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete created VMs", "type": "system", "uuid": "838500ac-287b-4fd6-aa88-5f072eb3c316", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "fce7d85c-df23-4b8b-aca4-196d5b9155d9"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "5c86af38-3267-4894-b03a-e6df758d3078"}], "name": "SYS_GEN__Composite_DAG_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "fce7d85c-df23-4b8b-aca4-196d5b9155d9"}, "edge_type": "inherent", "type": "", "uuid": "b8769d4b-aa05-44a0-907e-a02243caf913", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "5c86af38-3267-4894-b03a-e6df758d3078"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "ccda5bce-1077-4fa3-9596-96d43204c2b4"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "b683dc16_runbook", "uuid": "a0fd6d08-5b1a-42a2-be03-e15c0d4fc757"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "fce7d85c-df23-4b8b-aca4-196d5b9155d9"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "5c86af38-3267-4894-b03a-e6df758d3078"}], "description": "", "name": "SYS_GEN__Runbook_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "ccda5bce-1077-4fa3-9596-96d43204c2b4"}, "message_list": [], "variable_list": [], "uuid": "96e4529c-fc5f-4345-b5bf-57dd0e8a776d"}, "message_list": [], "name": "action_soft_delete"}, {"description": "System action for starting an application", "type": "system", "uuid": "e6f5a48e-a09c-441e-8cab-914bc603ae08", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "fbf627d2-0de7-4624-8c3b-67ef4a54a7a0"}], "name": "SYS_GEN__Composite_DAG_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "775dbb18-863d-439b-9bc6-e0450bda6617"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "9e2d581b_runbook", "uuid": "e007d508-2894-4ebe-a883-da899348ef1d"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "fbf627d2-0de7-4624-8c3b-67ef4a54a7a0"}], "description": "", "name": "SYS_GEN__Runbook_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "775dbb18-863d-439b-9bc6-e0450bda6617"}, "message_list": [], "variable_list": [], "uuid": "15c74eee-1a6b-45b8-87bc-54eca3b79a8f"}, "message_list": [], "name": "action_start"}, {"description": "System action for restarting an application", "type": "system", "uuid": "04b6a08e-3298-4f6e-b08a-caf3b079bc9a", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__restart_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "17d9f326-431e-46af-93f3-1c8aa4e41c46"}], "name": "SYS_GEN__Composite_DAG_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "5c81bdb3-5a2e-42c3-a30c-9fac1578f6b2"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__restart_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "632a99a4-0f48-44f3-8d6b-4b5adce1c6e2"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "17d9f326-431e-46af-93f3-1c8aa4e41c46"}], "description": "", "name": "SYS_GEN__Runbook_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "5c81bdb3-5a2e-42c3-a30c-9fac1578f6b2"}, "message_list": [], "variable_list": [], "uuid": "ca095b81-53c2-4d86-bf84-8d3af773fcfc"}, "message_list": [], "name": "action_restart"}, {"description": "System action for stopping an application", "type": "system", "uuid": "26f2dfea-7f88-41e6-b055-84e91bebd86c", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "e600c0f8-59c1-4f0c-88f9-475403330d7d"}], "name": "SYS_GEN__Composite_DAG_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "788e5546-8852-468c-b864-4814e6076fd0"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "dd1b7f6e_runbook", "uuid": "9f99cb94-fe5e-49ea-b7c5-6320e77e0267"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "e600c0f8-59c1-4f0c-88f9-475403330d7d"}], "description": "", "name": "SYS_GEN__Runbook_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "788e5546-8852-468c-b864-4814e6076fd0"}, "message_list": [], "variable_list": [], "uuid": "689f965c-0be3-429e-9617-ebb4e135838d"}, "message_list": [], "name": "action_stop"}], "type": "DEB", "service_local_reference_list": [{"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}], "name": "ConfigureAviatrix", "state": "ACTIVE", "version": "", "editables": {}, "message_list": [], "options": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask", "uuid": "201c13ca-fc43-4170-afed-8ff8b0776ac0"}], "name": "4a096aba_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "f59423ce-7139-4a18-96dc-66db0711ba1b"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageInstallTask", "state": "ACTIVE", "attrs": {"script": "#script\n\nif \"@@{AVIATRIX_ADMIN_PASSWORD}@@\" == \"@@{CONFIRM_ADMIN_PASSWORD}@@\":\n  print \"Confirm passwords are same\"\nelse:\n  print \"Password and confirm password for admin are not same.\"\n  exit(1)\n\n\nsleep(300)\ncust_id = '@@{CUSTOMER_ID}@@'\nvpc_num = \"@@{VPC_NUMBER}@@\"\naccount_name = \"@@{CLOUD_ACCOUNT_NAME}@@\"\naccount_password = '@@{CLOUD_ACCOUNT_PASSWORD}@@'\naccount_email = '@@{CLOUD_ACCOUNT_EMAIL}@@'\naws_account_number = '@@{AWS_ACCOUNT_NUMBER}@@'\naws_access_key = '@@{AWS_ACCESS_KEY}@@'\naws_secret_key = '@@{AWS_SECRET_KEY}@@'\navaitrix_ip = \"@@{APPLIANCE_IP}@@\"\nnew_avaitrix_password = \"@@{AVIATRIX_ADMIN_PASSWORD}@@\"\n\napi_url = 'https://{0}/v1/api'.format(avaitrix_ip)\n#print api_url\n\n\n\ndef setconfig(api_url, payload):\n  r = urlreq(api_url, verb='POST', auth=\"BASIC\", user='admin', passwd='passwd', params=payload, verify=False)\n  resp = json.loads(r.content)\n  if resp['return']:\n    return resp\n  else:\n    print \"Post request failed\", r.content\n    exit(1)\n\nprint \"Get the session ID for making API operations\"\npayload = {'action': 'login', 'username': 'admin', 'password': avaitrix_ip}\napi_url1 = api_url + \"?action=login&username=admin&password=\"+ avaitrix_ip\ncid = setconfig(api_url=api_url1, payload=payload)\ncid = cid['CID']\n\n\nprint \"Configure email id\"\npayload = {'action': 'add_admin_email_addr', 'admin_email': account_email , 'CID': cid}\napi_url1 = api_url + \"?action=add_admin_email_addr&admin_email=\"+account_email+\"&CID=\"+ cid\nresp = setconfig(api_url=api_url1, payload=payload)\nprint resp\n\nprint \"Reset admin password\"\npayload = {'action': 'edit_account_user', 'account_name': 'admin', 'what': 'password', 'username': 'admin', 'old_password': avaitrix_ip,'new_password': new_avaitrix_password, 'CID': cid}\napi_url1 = api_url + \"?action=edit_account_user&account_name=admin&what=password&username=admin&old_password=\"+avaitrix_ip+\"&new_password=\"+new_avaitrix_password+\"&CID=\"+cid\nresp = setconfig(api_url=api_url1, payload=payload)\nprint resp\n\nprint \"Apply license\"\npayload = {'CID': cid, 'action': 'setup_customer_id', 'customer_id':cust_id}\napi_url1 = api_url + \"?action=setup_customer_id&CID=\"+cid+\"&customer_id=\"+cust_id\nresp = setconfig(api_url=api_url1, payload=payload)\nprint resp\n\nprint \"Setup max VPC count\"\npayload = {'CID': cid, 'action': 'setup_max_vpc_containers', 'vpc_num':vpc_num}\napi_url1 = api_url + \"?action=setup_max_vpc_containers&CID=\"+cid+\"&vpc_num=\"+vpc_num\nresp = setconfig(api_url=api_url1, payload=payload)\nprint resp\n\n\nprint \"Create AWS account\"\npayload = {'CID': cid,\n  'action': 'setup_account_profile',\n  'account_name': account_name,\n  'account_password': account_password,\n  'account_email': account_email,\n  'cloud_type': 1,\n  'aws_account_number': aws_account_number,\n  'aws_access_key': aws_access_key,\n  'aws_secret_key': aws_secret_key\n  }\n\nresp = setconfig(api_url=api_url, payload=payload)\nprint resp", "type": "", "command_line_args": "", "exit_status": [], "script_type": "static"}, "timeout_secs": "0", "type": "EXEC", "variable_list": [], "uuid": "201c13ca-fc43-4170-afed-8ff8b0776ac0"}], "description": "", "name": "8170a074_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "4a096aba_dag", "uuid": "f59423ce-7139-4a18-96dc-66db0711ba1b"}, "message_list": [], "variable_list": [], "uuid": "06b06fc9-d58e-4482-8eb8-c504938d474a"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageUninstallTask", "uuid": "ade21e8e-16a7-443e-ae07-fa39dee617f8"}], "name": "181976dd_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "ab81c192-e3af-4b40-b46c-aa64b75c6eaa"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageUninstallTask", "state": "ACTIVE", "attrs": {"script": "#script\n\nprint \"Please delete the created vpc from aviatrix manually\"\n", "type": "", "command_line_args": "", "exit_status": [], "script_type": "static"}, "timeout_secs": "0", "type": "EXEC", "variable_list": [], "uuid": "ade21e8e-16a7-443e-ae07-fa39dee617f8"}], "description": "", "name": "cc00c26d_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "181976dd_dag", "uuid": "ab81c192-e3af-4b40-b46c-aa64b75c6eaa"}, "message_list": [], "variable_list": [], "uuid": "288f09c1-a885-4953-b595-33e851aee288"}}, "variable_list": [], "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, {"description": "", "action_list": [{"description": "System action for installing an application", "type": "system", "uuid": "0dfa1c0a-d664-4991-905c-3ce467536ee7", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AviatrixImage", "uuid": "03c8591c-5d68-45f0-90b2-02cc5dc6a298"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "Image Fetch task for VM", "uuid": "0a6ec259-53a6-4e50-80fb-7b940f32f7f4"}], "name": "SYS_GEN__DAG_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "7b976402-aee7-429e-bf99-b9d87f228224"}, {"target_any_local_reference": {"kind": "app_package", "name": "AviatrixImage", "uuid": "03c8591c-5d68-45f0-90b2-02cc5dc6a298"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "Image Fetch task for VM", "state": "ACTIVE", "attrs": {"type": "", "name": "Aviatrix111517", "resources": {"image_type": "DISK_IMAGE", "checksum": {"checksum_algorithm": "", "type": "", "checksum_value": ""}, "source_uri": "http://download.nutanix.com/calm/Avaitrix/CloudN-kvm-111517.qcow2", "version": {"product_version": "", "type": "", "product_name": ""}, "architecture": "X86_64", "type": ""}, "description": ""}, "timeout_secs": "0", "type": "SUBSTRATE_IMAGE_FETCH", "variable_list": [], "uuid": "0a6ec259-53a6-4e50-80fb-7b940f32f7f4"}], "description": "", "name": "SYS_GEN__Runbook_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "uuid": "7b976402-aee7-429e-bf99-b9d87f228224"}, "message_list": [], "variable_list": [], "uuid": "63895c02-73c7-4275-9052-44e50d5262c5"}, "message_list": [], "name": "action_install"}, {"description": "System action for creating an application", "type": "system", "uuid": "1a94872e-ace1-419d-bb07-fa670e99aefb", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AviatrixImage", "uuid": "03c8591c-5d68-45f0-90b2-02cc5dc6a298"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "uuid": "7bf5e9af-a661-42b5-ac18-d15bf0f64a18"}], "name": "SYS_GEN__Composite_DAG_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "c623f9db-ac03-4c25-a4eb-9f536508be94"}, {"target_any_local_reference": {"kind": "app_package", "name": "AviatrixImage", "uuid": "03c8591c-5d68-45f0-90b2-02cc5dc6a298"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "uuid": "63895c02-73c7-4275-9052-44e50d5262c5"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "7bf5e9af-a661-42b5-ac18-d15bf0f64a18"}], "description": "", "name": "SYS_GEN__Runbook_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "uuid": "c623f9db-ac03-4c25-a4eb-9f536508be94"}, "message_list": [], "variable_list": [], "uuid": "851a464c-f014-430e-8772-ce56d7e9df8f"}, "message_list": [], "name": "action_create"}, {"description": "System action for starting an application", "type": "system", "uuid": "215fbf99-c4b0-4d82-8654-c459b7180b81", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AviatrixImage", "uuid": "03c8591c-5d68-45f0-90b2-02cc5dc6a298"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Composite_DAG_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "f18b23e9-dc86-416c-b974-6d7d428d05a5"}], "description": "", "name": "SYS_GEN__Runbook_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "uuid": "f18b23e9-dc86-416c-b974-6d7d428d05a5"}, "message_list": [], "variable_list": [], "uuid": "857ff9c3-9848-4af7-9273-6039346aafcd"}, "message_list": [], "name": "action_start"}, {"description": "System action for restarting an application", "type": "system", "uuid": "0ce52a0e-9fe6-499e-b5da-aae1ff9c13db", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AviatrixImage", "uuid": "03c8591c-5d68-45f0-90b2-02cc5dc6a298"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Composite_DAG_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "290d9343-7b32-4fc2-804e-9519e3616efb"}], "description": "", "name": "SYS_GEN__Runbook_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "uuid": "290d9343-7b32-4fc2-804e-9519e3616efb"}, "message_list": [], "variable_list": [], "uuid": "7633ed8c-7258-4846-af09-87d23d00ee28"}, "message_list": [], "name": "action_restart"}, {"description": "System action for stopping an application", "type": "system", "uuid": "c4263f67-3919-4e30-bd3c-b6c522beb52e", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AviatrixImage", "uuid": "03c8591c-5d68-45f0-90b2-02cc5dc6a298"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Composite_DAG_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "3986d316-5d7c-451a-a7fc-2e902c1955e8"}], "description": "", "name": "SYS_GEN__Runbook_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "uuid": "3986d316-5d7c-451a-a7fc-2e902c1955e8"}, "message_list": [], "variable_list": [], "uuid": "b83c7092-9b28-4725-b05f-d426a2ed81a4"}, "message_list": [], "name": "action_stop"}, {"description": "System action for deleting an application. Deletes created VMs as well", "type": "system", "uuid": "0f05bb70-eb1c-4a8c-8592-8a4c5bdcabbf", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AviatrixImage", "uuid": "03c8591c-5d68-45f0-90b2-02cc5dc6a298"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Composite_DAG_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "a6ceb3a8-9b69-4929-b332-ac314c202911"}], "description": "", "name": "SYS_GEN__Runbook_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "uuid": "a6ceb3a8-9b69-4929-b332-ac314c202911"}, "message_list": [], "variable_list": [], "uuid": "33c1e925-4bd1-48db-a098-0a3a730fc912"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete created VMs", "type": "system", "uuid": "ce844b4a-8771-4e25-94f7-cd3950750b92", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AviatrixImage", "uuid": "03c8591c-5d68-45f0-90b2-02cc5dc6a298"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Composite_DAG_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "ed552595-ef45-4345-bc70-75b3b0fba7f7"}], "description": "", "name": "SYS_GEN__Runbook_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "uuid": "ed552595-ef45-4345-bc70-75b3b0fba7f7"}, "message_list": [], "variable_list": [], "uuid": "48c47980-fc32-4cf1-b749-01d7f0e7795d"}, "message_list": [], "name": "action_soft_delete"}], "type": "SUBSTRATE_IMAGE", "service_local_reference_list": [], "name": "AviatrixImage", "state": "ACTIVE", "version": "", "editables": {}, "message_list": [], "options": {"type": "", "name": "Aviatrix111517", "resources": {"image_type": "DISK_IMAGE", "checksum": {"checksum_algorithm": "", "type": "", "checksum_value": ""}, "source_uri": "http://download.nutanix.com/calm/Avaitrix/CloudN-kvm-111517.qcow2", "version": {"product_version": "", "type": "", "product_name": ""}, "architecture": "X86_64", "type": ""}, "description": ""}, "variable_list": [], "uuid": "03c8591c-5d68-45f0-90b2-02cc5dc6a298"}], "app_profile_list": [{"deployment_create_list": [{"type": "GREENFIELD", "description": "", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "fa05a2e6-94b1-413e-9f1d-d151abea9268", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__DE_Provision_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "eb3a90f0-f6c3-4497-b8f6-29a021a5a7a6"}, {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "uuid": "cd93dd2a-3999-4626-8178-a50d2cf1edde"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "b89d459c-532a-476a-9dad-b61acd0622c9"}, {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "7fb3f393-411f-4525-8133-ce2d5288df29"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "205c06f8-164d-4b13-b725-a741c45819ee"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "ec9de583-b521-4d83-ba71-acbd870b5977"}], "name": "SYS_GEN__Composite_DAG_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "205c06f8-164d-4b13-b725-a741c45819ee"}, "edge_type": "inherent", "type": "", "uuid": "bfd6e480-ad51-4ad6-bcdb-27468fca046a", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "ec9de583-b521-4d83-ba71-acbd870b5977"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "7fb3f393-411f-4525-8133-ce2d5288df29"}, "edge_type": "inherent", "type": "", "uuid": "4107095b-dcf8-4092-80d4-0b43a5a7c77c", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "205c06f8-164d-4b13-b725-a741c45819ee"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Provision_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "eb3a90f0-f6c3-4497-b8f6-29a021a5a7a6"}, "edge_type": "inherent", "type": "", "uuid": "cf0b4cb9-aaa4-4b13-838d-a6f42b8831a4", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "b89d459c-532a-476a-9dad-b61acd0622c9"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "b89d459c-532a-476a-9dad-b61acd0622c9"}, "edge_type": "inherent", "type": "", "uuid": "0f2c3de6-d8da-4f77-851e-c8eb32bd9278", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "7fb3f393-411f-4525-8133-ce2d5288df29"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Provision_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "eb3a90f0-f6c3-4497-b8f6-29a021a5a7a6"}, "edge_type": "inherent", "type": "", "uuid": "be007503-e291-4260-931a-747da1605a09", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "uuid": "cd93dd2a-3999-4626-8178-a50d2cf1edde"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "uuid": "cd93dd2a-3999-4626-8178-a50d2cf1edde"}, "edge_type": "inherent", "type": "", "uuid": "80d36199-60a9-4baa-8c7b-2867a7ae1c6b", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "b89d459c-532a-476a-9dad-b61acd0622c9"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "f5fdaf22-3aef-4950-a02b-c12923d338fc"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Provision_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "CREATE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "eb3a90f0-f6c3-4497-b8f6-29a021a5a7a6"}, {"target_any_local_reference": {"kind": "app_package", "name": "AviatrixImage", "uuid": "03c8591c-5d68-45f0-90b2-02cc5dc6a298"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "uuid": "63895c02-73c7-4275-9052-44e50d5262c5"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "cd93dd2a-3999-4626-8178-a50d2cf1edde"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "b0be1c75-c552-4543-88c5-10e484c1d52c"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "b89d459c-532a-476a-9dad-b61acd0622c9"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "5de15fd4-e0f9-49cb-86c7-69cd129a499d"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "7fb3f393-411f-4525-8133-ce2d5288df29"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "97a4f74a_runbook", "uuid": "9585fdd2-3c71-4132-a339-afca66afd0ea"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "205c06f8-164d-4b13-b725-a741c45819ee"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "9e2d581b_runbook", "uuid": "e007d508-2894-4ebe-a883-da899348ef1d"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "ec9de583-b521-4d83-ba71-acbd870b5977"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "f5fdaf22-3aef-4950-a02b-c12923d338fc"}, "message_list": [], "variable_list": [], "uuid": "6ba51362-2b96-488e-b7a8-3c59b2079dcd"}, "message_list": [], "name": "action_create"}, {"description": "System action for starting an application", "type": "system", "uuid": "a0283f38-191a-4e9f-bd8e-56f05fa9bfdb", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "cb611c78-c396-431c-9c52-eef50bcac092"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "0750f767-5ac5-4309-9230-fcf6b6d74a8d"}], "name": "SYS_GEN__Composite_DAG_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "cb611c78-c396-431c-9c52-eef50bcac092"}, "edge_type": "inherent", "type": "", "uuid": "973e64fd-02b2-4df5-9984-43cad8607106", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "0750f767-5ac5-4309-9230-fcf6b6d74a8d"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "025cdf76-7a34-4d35-aee8-5b5d55d1af2c"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "baf551af-116a-4752-9630-201e2dd06b82"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "cb611c78-c396-431c-9c52-eef50bcac092"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "9e2d581b_runbook", "uuid": "e007d508-2894-4ebe-a883-da899348ef1d"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "0750f767-5ac5-4309-9230-fcf6b6d74a8d"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "025cdf76-7a34-4d35-aee8-5b5d55d1af2c"}, "message_list": [], "variable_list": [], "uuid": "d2e10b92-d734-4ad3-8a4e-d2b96c8215b1"}, "message_list": [], "name": "action_start"}, {"description": "System action for restarting an application", "type": "system", "uuid": "bb9e1a86-2a9f-4c6c-a0ef-d0378c49cf92", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__restart_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "b02bd974-2e5f-4d58-8329-9afac1d2c3a1"}, {"kind": "app_task", "name": "SYS_GEN__restart_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "0c40b0b3-3efe-4381-af5e-edc627d6bea9"}], "name": "SYS_GEN__Composite_DAG_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__restart_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "b02bd974-2e5f-4d58-8329-9afac1d2c3a1"}, "edge_type": "inherent", "type": "", "uuid": "a04c4e10-6b5e-4f8f-9713-9f8327a79a6f", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__restart_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "0c40b0b3-3efe-4381-af5e-edc627d6bea9"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "72873c3b-68bd-44d7-a5b2-eb45186dc9a5"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__restart_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "b1427c50-97c6-41d9-bfa0-827713cefd92"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "b02bd974-2e5f-4d58-8329-9afac1d2c3a1"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__restart_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "632a99a4-0f48-44f3-8d6b-4b5adce1c6e2"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "0c40b0b3-3efe-4381-af5e-edc627d6bea9"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "72873c3b-68bd-44d7-a5b2-eb45186dc9a5"}, "message_list": [], "variable_list": [], "uuid": "1374180f-6aa0-4937-9d1c-a07b493d39b8"}, "message_list": [], "name": "action_restart"}, {"description": "System action for stopping an application", "type": "system", "uuid": "06a56284-3ca0-4e16-89ba-9d27c04634d2", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "b153ee75-66ee-42ec-b96b-7162e6530db4"}, {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "83d3767a-aa14-4298-88b1-e869cb1697f3"}], "name": "SYS_GEN__Composite_DAG_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "b153ee75-66ee-42ec-b96b-7162e6530db4"}, "edge_type": "inherent", "type": "", "uuid": "91bb9d6a-149e-421a-a3eb-a12eecad057f", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "83d3767a-aa14-4298-88b1-e869cb1697f3"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "458f7d1e-998e-4c24-bb65-2bda55f4cceb"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "dd1b7f6e_runbook", "uuid": "9f99cb94-fe5e-49ea-b7c5-6320e77e0267"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "b153ee75-66ee-42ec-b96b-7162e6530db4"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "eda066bb-bf5b-4666-bbc9-a98ee8ff1852"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "83d3767a-aa14-4298-88b1-e869cb1697f3"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "458f7d1e-998e-4c24-bb65-2bda55f4cceb"}, "message_list": [], "variable_list": [], "uuid": "ca56007a-8925-437f-9992-171300f32950"}, "message_list": [], "name": "action_stop"}, {"description": "System action for deleting an application. Deletes created VMs as well", "type": "system", "uuid": "6f39790c-3b5b-493b-b075-ddba2f9fe289", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "9d6002a9-ec15-443e-8afd-e1a400f725bf"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "c7284a21-325c-4570-98b8-38ea0a30196d"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "6ccc5287-41f8-4f21-8173-19b2e36fe118"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "d93cc395-c930-4068-87d7-ac2d32e73674"}, {"kind": "app_task", "name": "SYS_GEN__DE_Delete_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "885cc6c3-3d8f-452e-9bea-ef38f8cf22fc"}], "name": "SYS_GEN__Composite_DAG_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "9d6002a9-ec15-443e-8afd-e1a400f725bf"}, "edge_type": "inherent", "type": "", "uuid": "9fc9ff2e-acbb-4b3d-9ed0-45c7736a4388", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "c7284a21-325c-4570-98b8-38ea0a30196d"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "c7284a21-325c-4570-98b8-38ea0a30196d"}, "edge_type": "inherent", "type": "", "uuid": "3c95df68-4d1e-4094-bd86-4ff4bf178436", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "6ccc5287-41f8-4f21-8173-19b2e36fe118"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "d93cc395-c930-4068-87d7-ac2d32e73674"}, "edge_type": "inherent", "type": "", "uuid": "219069f6-a933-4e52-b529-6e069ef84112", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Delete_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "885cc6c3-3d8f-452e-9bea-ef38f8cf22fc"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "6ccc5287-41f8-4f21-8173-19b2e36fe118"}, "edge_type": "inherent", "type": "", "uuid": "2896eada-3bf9-41cd-b20c-47115740dd84", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "d93cc395-c930-4068-87d7-ac2d32e73674"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "ac18d10c-c11c-4414-819e-20238c1efd92"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "dd1b7f6e_runbook", "uuid": "9f99cb94-fe5e-49ea-b7c5-6320e77e0267"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "9d6002a9-ec15-443e-8afd-e1a400f725bf"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4c4aaebc_runbook", "uuid": "2cd997ba-2ceb-4d2d-91ac-76bd1320659d"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "c7284a21-325c-4570-98b8-38ea0a30196d"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "f0ae886b-f8e4-4c2b-82b4-1cfc7749c53b"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "6ccc5287-41f8-4f21-8173-19b2e36fe118"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "815abb11-9b14-4dea-9601-2a680bfc89e4"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "d93cc395-c930-4068-87d7-ac2d32e73674"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Delete_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "885cc6c3-3d8f-452e-9bea-ef38f8cf22fc"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "ac18d10c-c11c-4414-819e-20238c1efd92"}, "message_list": [], "variable_list": [], "uuid": "d7e33e3c-f22f-4ed1-90da-9498ac1686bd"}, "message_list": [], "name": "action_delete"}, {"description": "System action for scaleout", "type": "system", "uuid": "8308c654-7057-41af-9810-2531c6237fa7", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Deployment_Scaleout_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "38351116-1d6b-40fd-a63f-13d6c16d4691"}], "name": "SYS_GEN__Composite_DAG_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "b3678740-98f4-44c5-9b9e-85115d0b8c67"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Deployment_Scaleout_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "attrs": {"scaling_count": "@@{scaling_count}@@", "type": "", "scaling_type": "SCALEOUT"}, "timeout_secs": "0", "type": "SCALING", "variable_list": [], "uuid": "38351116-1d6b-40fd-a63f-13d6c16d4691"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "b3678740-98f4-44c5-9b9e-85115d0b8c67"}, "message_list": [], "variable_list": [{"val_type": "STRING", "description": "", "name": "scaling_count", "type": "LOCAL", "value": "0", "label": "", "state": "NOT_VALIDATED", "attrs": {}, "editables": {"value": true}, "message_list": [], "uuid": "07d5f858-7001-4f8f-b42b-6e58ce3f571c"}], "uuid": "36a12acb-7031-48ea-8e25-ccf132b2cd4b"}, "message_list": [], "name": "action_scaleout"}, {"description": "System action for scalein", "type": "system", "uuid": "245031e8-ecd3-4df9-ba85-871adc174d78", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Deployment_Scalein_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "e68299aa-db6a-44a6-8ad8-a0d5324375ce"}], "name": "SYS_GEN__Composite_DAG_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "e648c284-3a58-417d-8010-26a678ac68dd"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Deployment_Scalein_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "attrs": {"scaling_count": "@@{scaling_count}@@", "type": "", "scaling_type": "SCALEIN"}, "timeout_secs": "0", "type": "SCALING", "variable_list": [], "uuid": "e68299aa-db6a-44a6-8ad8-a0d5324375ce"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "e648c284-3a58-417d-8010-26a678ac68dd"}, "message_list": [], "variable_list": [{"val_type": "STRING", "description": "", "name": "scaling_count", "type": "LOCAL", "value": "0", "label": "", "state": "NOT_VALIDATED", "attrs": {}, "editables": {"value": true}, "message_list": [], "uuid": "dd85345b-4521-4a37-9e6a-24988565759e"}], "uuid": "69f2fdf8-e478-4f33-a544-62980b7d41be"}, "message_list": [], "name": "action_scalein"}, {"description": "System action for deleting an application. Does not delete created VMs", "type": "system", "uuid": "15211cd1-d2c3-4770-918b-79e54de6bcf8", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "689d48db-37b4-44dc-b628-df05c4536433"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "ce185723-2d4a-4d2b-aae3-08207005d367"}, {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "92a2b528-6285-422d-9146-757f11fd21dd"}, {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "990a718e-4d73-4313-b336-e0f99af3930a"}], "name": "SYS_GEN__Composite_DAG_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "689d48db-37b4-44dc-b628-df05c4536433"}, "edge_type": "inherent", "type": "", "uuid": "f56c64b1-fcab-4cf3-a172-68cfc8b1c763", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "ce185723-2d4a-4d2b-aae3-08207005d367"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "92a2b528-6285-422d-9146-757f11fd21dd"}, "edge_type": "inherent", "type": "", "uuid": "c414dd71-70dd-43c6-bd64-5bc01ae811bb", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "990a718e-4d73-4313-b336-e0f99af3930a"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "ce185723-2d4a-4d2b-aae3-08207005d367"}, "edge_type": "inherent", "type": "", "uuid": "360ecf8e-e9a9-4ddc-b730-6bb975406216", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "92a2b528-6285-422d-9146-757f11fd21dd"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "53b9620d-9520-4439-baab-bc1bf3357cf3"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "b683dc16_runbook", "uuid": "a0fd6d08-5b1a-42a2-be03-e15c0d4fc757"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "689d48db-37b4-44dc-b628-df05c4536433"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "ce185723-2d4a-4d2b-aae3-08207005d367"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "9f048010-d05a-474d-8f71-bf9d0e1f4ccd"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "92a2b528-6285-422d-9146-757f11fd21dd"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Soft_Delete_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "990a718e-4d73-4313-b336-e0f99af3930a"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "53b9620d-9520-4439-baab-bc1bf3357cf3"}, "message_list": [], "variable_list": [], "uuid": "e80e962a-93cf-4d34-b292-adbe164f376a"}, "message_list": [], "name": "action_soft_delete"}], "message_list": [], "editables": {}, "name": "7fec1a8b_deployment", "state": "ACTIVE", "max_replicas": "1", "package_local_reference_list": [{"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}], "substrate_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "min_replicas": "1", "variable_list": [], "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}], "description": "", "action_list": [{"description": "Creates a ipsec tunnel to the virtual appliance (Aviatrix), so that on-premise VMs and servers can communicate with instances in created VPC with packet encryption and private ip addresses.", "type": "user", "uuid": "274fdbb9-56ea-44a2-a167-a137c5c7891e", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "CreateGateway", "uuid": "b6ff4e36-d889-49eb-9373-1793a0b34094"}], "name": "591ef307_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "2edb34e6-f6c5-4f20-a56d-5e1dc4b0b2cd"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "CreateGateway", "state": "ACTIVE", "attrs": {"script": "#script\n\naccount_name = \"@@{CLOUD_ACCOUNT_NAME}@@\"\navaitrix_ip = \"@@{APPLIANCE_IP}@@\"\nnew_avaitrix_password = \"@@{AVIATRIX_ADMIN_PASSWORD}@@\"\nvpc_name = \"Aviatrix\"\nvpc_reg = \"@@{VPC_REGION}@@\"\nvpc_size = \"@@{GATEWAY_SIZE}@@\"\nvpc_net = \"@@{VPC_CIDR}@@\"\n\napi_url = 'https://{0}/v1/api'.format(avaitrix_ip)\n#print api_url\n\n\ndef setconfig(api_url, payload):\n  r = urlreq(api_url, verb='POST', auth=\"BASIC\", user='admin', passwd='passwd', params=payload, verify=False)\n  resp = json.loads(r.content)\n  if resp['return']:\n    return resp\n  else:\n    print \"Post request failed\", r.content\n    exit(1)\n\nprint \"Get the session ID for making API operations\"\npayload = {'action': 'login', 'username': 'admin', 'password': new_avaitrix_password}\napi_url1 = api_url + \"?action=login&username=admin&password=\"+ new_avaitrix_password\ncid = setconfig(api_url=api_url1, payload=payload)\ncid = cid['CID']\nprint cid\n\n\nprint(\"Create VPC on AWS\")\npayload = {'CID': cid,\n  'action': 'create_container',\n  'account_name': account_name,\n  'cloud_type': 1,\n  'vpc_name': vpc_name,\n  'vpc_reg': vpc_reg,\n  'vpc_size': vpc_size,\n  'internet_access': \"yes\",\n  'public_subnet': \"yes\",\n  'vpc_net': vpc_net\n  }\n\nresp = setconfig(api_url=api_url,payload=payload)\n\nprint resp", "type": "", "command_line_args": "", "exit_status": [], "script_type": "static"}, "timeout_secs": "0", "type": "EXEC", "variable_list": [], "uuid": "b6ff4e36-d889-49eb-9373-1793a0b34094"}], "description": "", "name": "fa7fb9d8_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "591ef307_dag", "uuid": "2edb34e6-f6c5-4f20-a56d-5e1dc4b0b2cd"}, "message_list": [], "variable_list": [{"val_type": "STRING", "description": "", "name": "VPC_REGION", "type": "LOCAL", "value": "us-west-1", "label": "", "state": "NOT_VALIDATED", "attrs": {"type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "fbb24ea2-7892-4a67-835f-b22d8874718b"}, {"val_type": "STRING", "description": "", "name": "GATEWAY_SIZE", "type": "LOCAL", "value": "t2.micro", "label": "", "state": "NOT_VALIDATED", "attrs": {"type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "7c5e6156-1bb2-49e0-8a1c-faa8780c5a51"}, {"val_type": "STRING", "description": "", "name": "VPC_CIDR", "type": "LOCAL", "value": "10.5.224.128/26", "label": "", "state": "NOT_VALIDATED", "attrs": {"type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "c3975613-1ad1-484e-b4e0-a85ef721b921"}], "uuid": "088a4768-b9a5-46e0-98be-b3fce3c1770e"}, "message_list": [], "name": "DataCenterExtension"}, {"description": "System action for creating an application", "type": "system", "uuid": "75c29a9b-96b5-4256-a4f8-e428d6cbfa77", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "Nutanix", "uuid": "e6b32214-0ef0-45fe-96d6-c86da72ca621"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__DE_Provision_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "93f25081-75d8-4175-a25c-f1d91603edf6"}, {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "uuid": "5c4164e6-b3c3-47ae-99ab-d71c8b010285"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "e29e82e8-6eba-4f38-9704-6c1ba0225a9c"}, {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "142f9e1f-fb81-455d-96b6-8e5a4ddfd6d1"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "e66b1bdf-32c1-4bbb-8f1f-f56e6185a66c"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "43272e54-4af3-4e57-a504-0a83f442128d"}], "name": "SYS_GEN__Composite_DAG_Application_e6b32214_0ef0_45fe_96d6_c86da72ca621", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "e66b1bdf-32c1-4bbb-8f1f-f56e6185a66c"}, "edge_type": "inherent", "type": "", "uuid": "ae9331b1-5c6b-4b1b-920f-c51aa86b8136", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "43272e54-4af3-4e57-a504-0a83f442128d"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "142f9e1f-fb81-455d-96b6-8e5a4ddfd6d1"}, "edge_type": "inherent", "type": "", "uuid": "a11b589b-563d-4ad8-b6c6-9a476156580b", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "e66b1bdf-32c1-4bbb-8f1f-f56e6185a66c"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Provision_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "93f25081-75d8-4175-a25c-f1d91603edf6"}, "edge_type": "inherent", "type": "", "uuid": "33ce2044-55a4-4284-a2e3-1cf509ae8a9b", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "e29e82e8-6eba-4f38-9704-6c1ba0225a9c"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "e29e82e8-6eba-4f38-9704-6c1ba0225a9c"}, "edge_type": "inherent", "type": "", "uuid": "2a744d70-7f66-49ef-a551-59e997500edf", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "142f9e1f-fb81-455d-96b6-8e5a4ddfd6d1"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Provision_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "93f25081-75d8-4175-a25c-f1d91603edf6"}, "edge_type": "inherent", "type": "", "uuid": "8f0db6f2-0ce4-40d8-8510-fde1c6ecd8dc", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "uuid": "5c4164e6-b3c3-47ae-99ab-d71c8b010285"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "uuid": "5c4164e6-b3c3-47ae-99ab-d71c8b010285"}, "edge_type": "inherent", "type": "", "uuid": "68af6565-ede3-49bd-9560-6c4e4f744e71", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "e29e82e8-6eba-4f38-9704-6c1ba0225a9c"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "86422abc-9487-4abe-ae6f-b7fac6527fc9"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Provision_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "CREATE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "93f25081-75d8-4175-a25c-f1d91603edf6"}, {"target_any_local_reference": {"kind": "app_package", "name": "AviatrixImage", "uuid": "03c8591c-5d68-45f0-90b2-02cc5dc6a298"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_03c8591c_5d68_45f0_90b2_02cc5dc6a298", "uuid": "63895c02-73c7-4275-9052-44e50d5262c5"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "5c4164e6-b3c3-47ae-99ab-d71c8b010285"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "b0be1c75-c552-4543-88c5-10e484c1d52c"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "e29e82e8-6eba-4f38-9704-6c1ba0225a9c"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "5de15fd4-e0f9-49cb-86c7-69cd129a499d"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "142f9e1f-fb81-455d-96b6-8e5a4ddfd6d1"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "97a4f74a_runbook", "uuid": "9585fdd2-3c71-4132-a339-afca66afd0ea"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "e66b1bdf-32c1-4bbb-8f1f-f56e6185a66c"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "9e2d581b_runbook", "uuid": "e007d508-2894-4ebe-a883-da899348ef1d"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "43272e54-4af3-4e57-a504-0a83f442128d"}], "description": "", "name": "SYS_GEN__Runbook_Application_e6b32214_0ef0_45fe_96d6_c86da72ca621", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_e6b32214_0ef0_45fe_96d6_c86da72ca621", "uuid": "86422abc-9487-4abe-ae6f-b7fac6527fc9"}, "message_list": [], "variable_list": [], "uuid": "60bf01c4-1122-4da6-9e8b-3ae9f52eb04e"}, "message_list": [], "name": "action_create"}, {"description": "System action for starting an application", "type": "system", "uuid": "998f9fb4-2484-4663-b12c-06354d3dd9b2", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "Nutanix", "uuid": "e6b32214-0ef0-45fe-96d6-c86da72ca621"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "88577e9f-aebd-4342-a646-04d85aa5f99b"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "404c90c9-42e8-4aac-9488-3f39137010a2"}], "name": "SYS_GEN__Composite_DAG_Application_e6b32214_0ef0_45fe_96d6_c86da72ca621", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "88577e9f-aebd-4342-a646-04d85aa5f99b"}, "edge_type": "inherent", "type": "", "uuid": "2e2a637d-d77c-479b-a4fb-3dada12df1d7", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "404c90c9-42e8-4aac-9488-3f39137010a2"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "65bbd485-e047-4f0f-b354-6d7e226b8476"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "baf551af-116a-4752-9630-201e2dd06b82"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "88577e9f-aebd-4342-a646-04d85aa5f99b"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "9e2d581b_runbook", "uuid": "e007d508-2894-4ebe-a883-da899348ef1d"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "404c90c9-42e8-4aac-9488-3f39137010a2"}], "description": "", "name": "SYS_GEN__Runbook_Application_e6b32214_0ef0_45fe_96d6_c86da72ca621", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_e6b32214_0ef0_45fe_96d6_c86da72ca621", "uuid": "65bbd485-e047-4f0f-b354-6d7e226b8476"}, "message_list": [], "variable_list": [], "uuid": "789cbe0e-1f88-43ed-aa72-96bbc2312856"}, "message_list": [], "name": "action_start"}, {"description": "System action for restarting an application", "type": "system", "uuid": "ce9bc45b-099e-4a5b-8fe4-c5cc1ac98910", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "Nutanix", "uuid": "e6b32214-0ef0-45fe-96d6-c86da72ca621"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__restart_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "5d4ec9f1-f762-4bc9-b682-7ab08fa20590"}, {"kind": "app_task", "name": "SYS_GEN__restart_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "8b9c489e-4ee9-4bb0-b183-47ed6384804a"}], "name": "SYS_GEN__Composite_DAG_Application_e6b32214_0ef0_45fe_96d6_c86da72ca621", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__restart_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "5d4ec9f1-f762-4bc9-b682-7ab08fa20590"}, "edge_type": "inherent", "type": "", "uuid": "447eb523-9b69-40e2-9b57-20f8060019e9", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__restart_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "8b9c489e-4ee9-4bb0-b183-47ed6384804a"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "4aab855e-e44f-498c-9102-0a6c6f769460"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__restart_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "b1427c50-97c6-41d9-bfa0-827713cefd92"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "5d4ec9f1-f762-4bc9-b682-7ab08fa20590"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__restart_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "632a99a4-0f48-44f3-8d6b-4b5adce1c6e2"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "8b9c489e-4ee9-4bb0-b183-47ed6384804a"}], "description": "", "name": "SYS_GEN__Runbook_Application_e6b32214_0ef0_45fe_96d6_c86da72ca621", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_e6b32214_0ef0_45fe_96d6_c86da72ca621", "uuid": "4aab855e-e44f-498c-9102-0a6c6f769460"}, "message_list": [], "variable_list": [], "uuid": "6a8a9854-97b5-45ee-9ab2-7995fae0e30d"}, "message_list": [], "name": "action_restart"}, {"description": "System action for stopping an application", "type": "system", "uuid": "73c150f5-a380-4a97-9d02-ab21df2a9f41", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "Nutanix", "uuid": "e6b32214-0ef0-45fe-96d6-c86da72ca621"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "7b231117-0fc1-4103-a94f-96d06ea058fd"}, {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "1635a82b-70e7-45c2-a467-a7e491c53afb"}], "name": "SYS_GEN__Composite_DAG_Application_e6b32214_0ef0_45fe_96d6_c86da72ca621", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "7b231117-0fc1-4103-a94f-96d06ea058fd"}, "edge_type": "inherent", "type": "", "uuid": "5579cec1-1293-41f6-816f-9742735b35fc", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "1635a82b-70e7-45c2-a467-a7e491c53afb"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "7d273b14-dd66-47ab-af85-52f4f657f82c"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "dd1b7f6e_runbook", "uuid": "9f99cb94-fe5e-49ea-b7c5-6320e77e0267"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "7b231117-0fc1-4103-a94f-96d06ea058fd"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "eda066bb-bf5b-4666-bbc9-a98ee8ff1852"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "1635a82b-70e7-45c2-a467-a7e491c53afb"}], "description": "", "name": "SYS_GEN__Runbook_Application_e6b32214_0ef0_45fe_96d6_c86da72ca621", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_e6b32214_0ef0_45fe_96d6_c86da72ca621", "uuid": "7d273b14-dd66-47ab-af85-52f4f657f82c"}, "message_list": [], "variable_list": [], "uuid": "0e4dd6ae-36d2-49e7-8ddc-5fecc669b737"}, "message_list": [], "name": "action_stop"}, {"description": "System action for deleting an application. Deletes created VMs as well", "type": "system", "uuid": "92699ba6-e8f2-4377-8296-afbe47b8cdcc", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "Nutanix", "uuid": "e6b32214-0ef0-45fe-96d6-c86da72ca621"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "7f79094b-507b-4c50-b96a-2c44ba5c253b"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "0a68f320-db14-4d39-86bb-62226997c86d"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "bf9f8f3d-6b17-4556-a3be-426314a9cbfa"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "dc9e4764-12a9-405d-b5bc-0e99e3b90264"}, {"kind": "app_task", "name": "SYS_GEN__DE_Delete_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "b261f074-09a4-4ea5-a749-7e832581a8b9"}], "name": "SYS_GEN__Composite_DAG_Application_e6b32214_0ef0_45fe_96d6_c86da72ca621", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "7f79094b-507b-4c50-b96a-2c44ba5c253b"}, "edge_type": "inherent", "type": "", "uuid": "5831fa7a-36dc-4c61-99d6-f822bccd5199", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "0a68f320-db14-4d39-86bb-62226997c86d"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "0a68f320-db14-4d39-86bb-62226997c86d"}, "edge_type": "inherent", "type": "", "uuid": "1994c535-20c8-4cb6-9ec0-8d4321c88e5a", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "bf9f8f3d-6b17-4556-a3be-426314a9cbfa"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "dc9e4764-12a9-405d-b5bc-0e99e3b90264"}, "edge_type": "inherent", "type": "", "uuid": "16a82149-282b-48aa-868a-95a80fc92aa4", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Delete_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "b261f074-09a4-4ea5-a749-7e832581a8b9"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "bf9f8f3d-6b17-4556-a3be-426314a9cbfa"}, "edge_type": "inherent", "type": "", "uuid": "86e79f94-5d1b-446f-a6dc-adbf15f6cd20", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "dc9e4764-12a9-405d-b5bc-0e99e3b90264"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "d315c0e2-0048-42af-bf91-bc029bd39998"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "dd1b7f6e_runbook", "uuid": "9f99cb94-fe5e-49ea-b7c5-6320e77e0267"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "7f79094b-507b-4c50-b96a-2c44ba5c253b"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4c4aaebc_runbook", "uuid": "2cd997ba-2ceb-4d2d-91ac-76bd1320659d"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "0a68f320-db14-4d39-86bb-62226997c86d"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "f0ae886b-f8e4-4c2b-82b4-1cfc7749c53b"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "bf9f8f3d-6b17-4556-a3be-426314a9cbfa"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "815abb11-9b14-4dea-9601-2a680bfc89e4"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "dc9e4764-12a9-405d-b5bc-0e99e3b90264"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Delete_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "b261f074-09a4-4ea5-a749-7e832581a8b9"}], "description": "", "name": "SYS_GEN__Runbook_Application_e6b32214_0ef0_45fe_96d6_c86da72ca621", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_e6b32214_0ef0_45fe_96d6_c86da72ca621", "uuid": "d315c0e2-0048-42af-bf91-bc029bd39998"}, "message_list": [], "variable_list": [], "uuid": "ad32d24e-7164-4c9c-bec5-8ade89ee2439"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete created VMs", "type": "system", "uuid": "640e8397-28a4-46ac-958a-972f36c6c508", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "Nutanix", "uuid": "e6b32214-0ef0-45fe-96d6-c86da72ca621"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "b6bbb6cb-5184-406f-aed0-827df8852525"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "35ecd6b9-98d6-44c8-9ae7-ce889bd971af"}, {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "a08189d2-c2cb-4301-8740-314ebde41d49"}, {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "63310ee3-cb92-4b3b-ad15-f92ac9838219"}], "name": "SYS_GEN__Composite_DAG_Application_e6b32214_0ef0_45fe_96d6_c86da72ca621", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "uuid": "b6bbb6cb-5184-406f-aed0-827df8852525"}, "edge_type": "inherent", "type": "", "uuid": "cc225338-b081-4f0d-9b70-416b8fe1f2d3", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "35ecd6b9-98d6-44c8-9ae7-ce889bd971af"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "a08189d2-c2cb-4301-8740-314ebde41d49"}, "edge_type": "inherent", "type": "", "uuid": "6fe3f904-0640-4a7a-ae86-dc3ea97dbb3d", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_310650db_3022_4403_8442_d1ada9b1b579", "uuid": "63310ee3-cb92-4b3b-ad15-f92ac9838219"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "uuid": "35ecd6b9-98d6-44c8-9ae7-ce889bd971af"}, "edge_type": "inherent", "type": "", "uuid": "01c0af81-d112-421a-a19d-f868fd4cb645", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "a08189d2-c2cb-4301-8740-314ebde41d49"}}], "type": "DAG"}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "uuid": "99bda68e-4209-4df6-be0b-150b13960a14"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix", "uuid": "1f296fb3-0992-4489-a3dd-9304c184a1c2"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_1f296fb3_0992_4489_a3dd_9304c184a1c2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "b683dc16_runbook", "uuid": "a0fd6d08-5b1a-42a2-be03-e15c0d4fc757"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "b6bbb6cb-5184-406f-aed0-827df8852525"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix", "uuid": "11cb07b4-ea22-4d32-a54a-4ff6fcafac97"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_11cb07b4_ea22_4d32_a54a_4ff6fcafac97", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "35ecd6b9-98d6-44c8-9ae7-ce889bd971af"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM", "uuid": "888cd418-b30d-462f-9c98-639d999e11bd"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_888cd418_b30d_462f_9c98_639d999e11bd", "uuid": "9f048010-d05a-474d-8f71-bf9d0e1f4ccd"}}, "timeout_secs": "0", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "a08189d2-c2cb-4301-8740-314ebde41d49"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "7fec1a8b_deployment", "uuid": "310650db-3022-4403-8442-d1ada9b1b579"}, "retries": "0", "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Soft_Delete_310650db_3022_4403_8442_d1ada9b1b579", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "0", "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "63310ee3-cb92-4b3b-ad15-f92ac9838219"}], "description": "", "name": "SYS_GEN__Runbook_Application_e6b32214_0ef0_45fe_96d6_c86da72ca621", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_e6b32214_0ef0_45fe_96d6_c86da72ca621", "uuid": "99bda68e-4209-4df6-be0b-150b13960a14"}, "message_list": [], "variable_list": [], "uuid": "1ce81b56-e089-4734-a406-cf0ab3fb20fe"}, "message_list": [], "name": "action_soft_delete"}], "name": "Nutanix", "state": "ACTIVE", "message_list": [], "dependency_list": [], "variable_list": [{"val_type": "STRING", "description": "", "name": "CUSTOMER_ID", "type": "SECRET", "value": "", "label": "", "state": "ACTIVE", "attrs": {"is_secret_modified": false, "secret_reference": {"uuid": "4d1ad8db-75ff-4d46-9671-0f603be831c5"}, "type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "d33bc8b3-30da-42ed-b00f-e87c8bf67248"}, {"val_type": "STRING", "description": "", "name": "CLOUD_ACCOUNT_NAME", "type": "LOCAL", "value": "nutanix", "label": "", "state": "ACTIVE", "attrs": {"type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "58b1d407-a9b1-4ed7-ad2c-4527b078d3ce"}, {"val_type": "STRING", "description": "", "name": "CLOUD_ACCOUNT_PASSWORD", "type": "SECRET", "value": "", "label": "", "state": "ACTIVE", "attrs": {"is_secret_modified": false, "secret_reference": {"uuid": "9ad4f654-e8f6-4412-903f-40203195dda0"}, "type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "96705294-349e-4859-ac5a-f90a1bf71eba"}, {"val_type": "STRING", "description": "", "name": "CLOUD_ACCOUNT_EMAIL", "type": "LOCAL", "value": "support@nutanix.com", "label": "", "state": "ACTIVE", "attrs": {"type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "a6d23197-07f7-4815-9d3b-b825f4c00ca7"}, {"val_type": "STRING", "description": "", "name": "AWS_ACCOUNT_NUMBER", "type": "LOCAL", "value": "711043102609", "label": "", "state": "ACTIVE", "attrs": {"type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "03a7400c-f0be-406e-9d37-48bb09131441"}, {"val_type": "STRING", "description": "", "name": "AWS_ACCESS_KEY", "type": "LOCAL", "value": "AKIAIYDGHUUZCE5VUXAQ", "label": "", "state": "ACTIVE", "attrs": {"type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "c3e4a771-887f-431d-8ec7-9818a0d8fe96"}, {"val_type": "STRING", "description": "", "name": "AWS_SECRET_KEY", "type": "SECRET", "value": "", "label": "", "state": "ACTIVE", "attrs": {"is_secret_modified": false, "secret_reference": {"uuid": "3245b243-4f18-40c3-a2f4-b1b46a3c0876"}, "type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "0c3861a1-d850-4c1b-bfcc-d75e833a7cfe"}, {"val_type": "STRING", "description": "", "name": "VPC_NUMBER", "type": "LOCAL", "value": "2", "label": "", "state": "ACTIVE", "attrs": {"type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "d01e8f67-ae22-49bf-afde-f62c3ef909b0"}, {"val_type": "STRING", "description": "", "name": "APPLIANCE_IP", "type": "LOCAL", "value": "10.15.193.21", "label": "", "state": "ACTIVE", "attrs": {"type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "fd70f4fc-1d46-4747-85d3-04161f729c0e"}, {"val_type": "STRING", "description": "", "name": "NETWORK_SUBNET_MASK", "type": "LOCAL", "value": "255.255.255.0", "label": "", "state": "ACTIVE", "attrs": {"type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "630d52da-e674-4d86-aff3-e7e6342f1956"}, {"val_type": "STRING", "description": "", "name": "DEFAULT_NETWORK_GATEWAY", "type": "LOCAL", "value": "10.15.193.1", "label": "", "state": "ACTIVE", "attrs": {"type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "12602034-ad61-4337-aed1-134351dc1618"}, {"val_type": "STRING", "description": "", "name": "AVIATRIX_ADMIN_PASSWORD", "type": "SECRET", "value": "", "label": "", "state": "ACTIVE", "attrs": {"is_secret_modified": false, "secret_reference": {"uuid": "0b4af6a5-f373-4763-b005-bba24fbf2fdb"}, "type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "5aa7235d-ab7f-4b3e-a906-4963ec79ce48"}, {"val_type": "STRING", "description": "", "name": "CONFIRM_ADMIN_PASSWORD", "type": "SECRET", "value": "", "label": "", "state": "ACTIVE", "attrs": {"is_secret_modified": false, "secret_reference": {"uuid": "4f34c6a6-62c6-4ade-b6eb-eb5b60441052"}, "type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "95435a23-98ae-458c-9d19-7d425bbc1bc5"}], "uuid": "e6b32214-0ef0-45fe-96d6-c86da72ca621"}], "default_credential_local_reference": {"kind": "app_credential", "name": "admin", "uuid": "7b6ec838-da18-4d78-ad85-8d87a8bec41b"}, "type": "USER"}, "name": "Aviatrix"}, "spec": {"description": "* [Aviatrix](https://@@{Aviatrix.address}@@)", "resources": {"service_definition_list": [{"singleton": false, "name": "Aviatrix", "action_list": [{"critical": false, "type": "system", "description": "System action for creating an application", "name": "action_create", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix"}, "retries": "0", "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "name": "69e2dfff_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "69e2dfff_dag"}, "name": "97a4f74a_runbook"}}, {"critical": false, "type": "system", "description": "System action for deleting an application. Deletes created VMs as well", "name": "action_delete", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix"}, "retries": "0", "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "name": "cd431a15_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "cd431a15_dag"}, "name": "4c4aaebc_runbook"}}, {"critical": false, "type": "system", "description": "System action for starting an application", "name": "action_start", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix"}, "retries": "0", "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "name": "aecd0ffb_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "aecd0ffb_dag"}, "name": "9e2d581b_runbook"}}, {"critical": false, "type": "system", "description": "System action for stopping an application", "name": "action_stop", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix"}, "retries": "0", "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "name": "de0d82da_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "de0d82da_dag"}, "name": "dd1b7f6e_runbook"}}, {"critical": false, "type": "system", "description": "System action for deleting an application. Does not delete created VMs", "name": "action_soft_delete", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix"}, "retries": "0", "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "name": "ba47b1f0_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "ba47b1f0_dag"}, "name": "b683dc16_runbook"}}], "description": "", "port_list": [], "tier": "", "variable_list": [], "depends_on_list": []}], "substrate_definition_list": [{"description": "", "action_list": [], "readiness_probe": {"connection_type": "SSH", "disable_readiness_probe": true, "timeout_secs": "60", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@", "connection_port": 22, "login_credential_local_reference": {"kind": "app_credential", "name": "admin"}}, "editables": {"readiness_probe": {"timeout_secs": null}, "create_spec": {"name": true, "resources": {"nic_list": {"1": {"subnet_reference": true}, "0": {"ip_endpoint_list": {"0": {"ip": true}}, "subnet_reference": true}}, "num_vcpus_per_socket": true, "num_sockets": true, "memory_size_mib": true, "disk_list": {}}}}, "os_type": "Linux", "type": "AHV_VM", "create_spec": {"name": "Aviatrix_VM", "categories": "", "availability_zone_reference": null, "backup_policy": null, "type": "", "cluster_reference": null, "resources": {"nic_list": [{"nic_type": "NORMAL_NIC", "ip_endpoint_list": [{"ip": "@@{APPLIANCE_IP}@@", "type": "ASSIGNED"}], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": {"kind": "subnet", "type": "", "name": "", "uuid": "a5b8e6be-3175-416f-8a18-1cf3cb4233e8"}, "type": ""}, {"nic_type": "NORMAL_NIC", "ip_endpoint_list": [], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": {"kind": "subnet", "type": "", "name": "", "uuid": "a5b8e6be-3175-416f-8a18-1cf3cb4233e8"}, "type": ""}], "serial_port_list": [], "guest_tools": null, "num_vcpus_per_socket": 2, "num_sockets": 2, "gpu_list": [], "memory_size_mib": 8192, "parent_reference": null, "hardware_clock_timezone": "", "guest_customization": {"cloud_init": {"meta_data": "", "type": "", "user_data": "#cloud-config\nwrite_files:\n  - path: /etc/network/interfaces\n    content: |\n      auto lo\n      iface lo inet loopback\n      auto eth0\n      iface eth0 inet static\n      address @@{APPLIANCE_IP}@@\n      netmask @@{NETWORK_SUBNET_MASK}@@\n      gateway @@{DEFAULT_NETWORK_GATEWAY}@@\n      dns-nameservers 8.8.8.8 8.8.4.4"}, "type": "", "sysprep": null}, "power_state": "ON", "type": "", "boot_config": {"boot_device": {"type": "", "disk_address": {"adapter_type": "SCSI", "device_index": 1, "type": ""}}, "type": "", "mac_address": ""}, "disk_list": [{"data_source_reference": {"kind": "app_package", "type": "", "name": "AviatrixImage", "uuid": "03c8591c-5d68-45f0-90b2-02cc5dc6a298"}, "type": "", "disk_size_mib": 1, "device_properties": {"type": "", "device_type": "DISK", "disk_address": {"adapter_type": "SCSI", "device_index": 1, "type": ""}}}]}}, "variable_list": [], "name": "Aviatrix_VM"}], "credential_definition_list": [{"username": "admin", "secret": {"attrs": {"is_secret_modified": false, "secret_reference": {}}}, "type": "PASSWORD", "description": "", "name": "admin"}], "package_definition_list": [{"description": "", "action_list": [], "service_local_reference_list": [{"kind": "app_service", "name": "Aviatrix"}], "version": "", "type": "DEB", "options": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix"}, "retries": "0", "description": "", "type": "DAG", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask"}], "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "message_list": [], "variable_list": [], "name": "4a096aba_dag"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix"}, "retries": "0", "description": "", "type": "EXEC", "child_tasks_local_reference_list": [], "state": "ACTIVE", "attrs": {"script_type": "static", "type": "", "command_line_args": "", "exit_status": [], "script": "#script\n\nif \"@@{AVIATRIX_ADMIN_PASSWORD}@@\" == \"@@{CONFIRM_ADMIN_PASSWORD}@@\":\n  print \"Confirm passwords are same\"\nelse:\n  print \"Password and confirm password for admin are not same.\"\n  exit(1)\n\n\nsleep(300)\ncust_id = '@@{CUSTOMER_ID}@@'\nvpc_num = \"@@{VPC_NUMBER}@@\"\naccount_name = \"@@{CLOUD_ACCOUNT_NAME}@@\"\naccount_password = '@@{CLOUD_ACCOUNT_PASSWORD}@@'\naccount_email = '@@{CLOUD_ACCOUNT_EMAIL}@@'\naws_account_number = '@@{AWS_ACCOUNT_NUMBER}@@'\naws_access_key = '@@{AWS_ACCESS_KEY}@@'\naws_secret_key = '@@{AWS_SECRET_KEY}@@'\navaitrix_ip = \"@@{APPLIANCE_IP}@@\"\nnew_avaitrix_password = \"@@{AVIATRIX_ADMIN_PASSWORD}@@\"\n\napi_url = 'https://{0}/v1/api'.format(avaitrix_ip)\n#print api_url\n\n\n\ndef setconfig(api_url, payload):\n  r = urlreq(api_url, verb='POST', auth=\"BASIC\", user='admin', passwd='passwd', params=payload, verify=False)\n  resp = json.loads(r.content)\n  if resp['return']:\n    return resp\n  else:\n    print \"Post request failed\", r.content\n    exit(1)\n\nprint \"Get the session ID for making API operations\"\npayload = {'action': 'login', 'username': 'admin', 'password': avaitrix_ip}\napi_url1 = api_url + \"?action=login&username=admin&password=\"+ avaitrix_ip\ncid = setconfig(api_url=api_url1, payload=payload)\ncid = cid['CID']\n\n\nprint \"Configure email id\"\npayload = {'action': 'add_admin_email_addr', 'admin_email': account_email , 'CID': cid}\napi_url1 = api_url + \"?action=add_admin_email_addr&admin_email=\"+account_email+\"&CID=\"+ cid\nresp = setconfig(api_url=api_url1, payload=payload)\nprint resp\n\nprint \"Reset admin password\"\npayload = {'action': 'edit_account_user', 'account_name': 'admin', 'what': 'password', 'username': 'admin', 'old_password': avaitrix_ip,'new_password': new_avaitrix_password, 'CID': cid}\napi_url1 = api_url + \"?action=edit_account_user&account_name=admin&what=password&username=admin&old_password=\"+avaitrix_ip+\"&new_password=\"+new_avaitrix_password+\"&CID=\"+cid\nresp = setconfig(api_url=api_url1, payload=payload)\nprint resp\n\nprint \"Apply license\"\npayload = {'CID': cid, 'action': 'setup_customer_id', 'customer_id':cust_id}\napi_url1 = api_url + \"?action=setup_customer_id&CID=\"+cid+\"&customer_id=\"+cust_id\nresp = setconfig(api_url=api_url1, payload=payload)\nprint resp\n\nprint \"Setup max VPC count\"\npayload = {'CID': cid, 'action': 'setup_max_vpc_containers', 'vpc_num':vpc_num}\napi_url1 = api_url + \"?action=setup_max_vpc_containers&CID=\"+cid+\"&vpc_num=\"+vpc_num\nresp = setconfig(api_url=api_url1, payload=payload)\nprint resp\n\n\nprint \"Create AWS account\"\npayload = {'CID': cid,\n  'action': 'setup_account_profile',\n  'account_name': account_name,\n  'account_password': account_password,\n  'account_email': account_email,\n  'cloud_type': 1,\n  'aws_account_number': aws_account_number,\n  'aws_access_key': aws_access_key,\n  'aws_secret_key': aws_secret_key\n  }\n\nresp = setconfig(api_url=api_url, payload=payload)\nprint resp"}, "timeout_secs": "0", "message_list": [], "variable_list": [], "name": "PackageInstallTask"}], "description": "", "state": "ACTIVE", "variable_list": [], "message_list": [], "main_task_local_reference": {"kind": "app_task", "name": "4a096aba_dag"}, "name": "8170a074_runbook"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix"}, "retries": "0", "description": "", "type": "DAG", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageUninstallTask"}], "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "message_list": [], "variable_list": [], "name": "181976dd_dag"}, {"target_any_local_reference": {"kind": "app_package", "name": "ConfigureAviatrix"}, "retries": "0", "description": "", "type": "EXEC", "child_tasks_local_reference_list": [], "state": "ACTIVE", "attrs": {"script_type": "static", "type": "", "command_line_args": "", "exit_status": [], "script": "#script\n\nprint \"Please delete the created vpc from aviatrix manually\"\n"}, "timeout_secs": "0", "message_list": [], "variable_list": [], "name": "PackageUninstallTask"}], "description": "", "state": "ACTIVE", "variable_list": [], "message_list": [], "main_task_local_reference": {"kind": "app_task", "name": "181976dd_dag"}, "name": "cc00c26d_runbook"}}, "variable_list": [], "name": "ConfigureAviatrix"}, {"description": "", "action_list": [], "service_local_reference_list": [], "version": "", "type": "SUBSTRATE_IMAGE", "options": {"type": "", "name": "Aviatrix111517", "resources": {"image_type": "DISK_IMAGE", "checksum": {"checksum_algorithm": "", "type": "", "checksum_value": ""}, "source_uri": "http://download.nutanix.com/calm/Avaitrix/CloudN-kvm-111517.qcow2", "version": {"product_version": "", "type": "", "product_name": ""}, "architecture": "X86_64", "type": ""}, "description": ""}, "variable_list": [], "name": "AviatrixImage"}], "app_profile_list": [{"deployment_create_list": [{"description": "", "action_list": [], "package_local_reference_list": [{"kind": "app_package", "name": "ConfigureAviatrix"}], "min_replicas": "1", "max_replicas": "1", "substrate_local_reference": {"kind": "app_substrate", "name": "Aviatrix_VM"}, "type": "GREENFIELD", "variable_list": [], "name": "7fec1a8b_deployment"}], "variable_list": [{"val_type": "STRING", "description": "", "value": "", "label": "", "attrs": {"is_secret_modified": false, "secret_reference": {}, "type": ""}, "editables": {"value": true}, "type": "SECRET", "name": "CUSTOMER_ID"}, {"val_type": "STRING", "description": "", "value": "nutanix", "label": "", "attrs": {"type": ""}, "editables": {"value": true}, "type": "LOCAL", "name": "CLOUD_ACCOUNT_NAME"}, {"val_type": "STRING", "description": "", "value": "", "label": "", "attrs": {"is_secret_modified": false, "secret_reference": {}, "type": ""}, "editables": {"value": true}, "type": "SECRET", "name": "CLOUD_ACCOUNT_PASSWORD"}, {"val_type": "STRING", "description": "", "value": "support@nutanix.com", "label": "", "attrs": {"type": ""}, "editables": {"value": true}, "type": "LOCAL", "name": "CLOUD_ACCOUNT_EMAIL"}, {"val_type": "STRING", "description": "", "value": "711043102609", "label": "", "attrs": {"type": ""}, "editables": {"value": true}, "type": "LOCAL", "name": "AWS_ACCOUNT_NUMBER"}, {"val_type": "STRING", "description": "", "value": "AKIAIYDGHUUZCE5VUXAQ", "label": "", "attrs": {"type": ""}, "editables": {"value": true}, "type": "LOCAL", "name": "AWS_ACCESS_KEY"}, {"val_type": "STRING", "description": "", "value": "", "label": "", "attrs": {"is_secret_modified": false, "secret_reference": {}, "type": ""}, "editables": {"value": true}, "type": "SECRET", "name": "AWS_SECRET_KEY"}, {"val_type": "STRING", "description": "", "value": "2", "label": "", "attrs": {"type": ""}, "editables": {"value": true}, "type": "LOCAL", "name": "VPC_NUMBER"}, {"val_type": "STRING", "description": "", "value": "10.15.193.21", "label": "", "attrs": {"type": ""}, "editables": {"value": true}, "type": "LOCAL", "name": "APPLIANCE_IP"}, {"val_type": "STRING", "description": "", "value": "255.255.255.0", "label": "", "attrs": {"type": ""}, "editables": {"value": true}, "type": "LOCAL", "name": "NETWORK_SUBNET_MASK"}, {"val_type": "STRING", "description": "", "value": "10.15.193.1", "label": "", "attrs": {"type": ""}, "editables": {"value": true}, "type": "LOCAL", "name": "DEFAULT_NETWORK_GATEWAY"}, {"val_type": "STRING", "description": "", "value": "", "label": "", "attrs": {"is_secret_modified": false, "secret_reference": {}, "type": ""}, "editables": {"value": true}, "type": "SECRET", "name": "AVIATRIX_ADMIN_PASSWORD"}, {"val_type": "STRING", "description": "", "value": "", "label": "", "attrs": {"is_secret_modified": false, "secret_reference": {}, "type": ""}, "editables": {"value": true}, "type": "SECRET", "name": "CONFIRM_ADMIN_PASSWORD"}], "description": "", "action_list": [{"critical": false, "type": "user", "description": "Creates a ipsec tunnel to the virtual appliance (Aviatrix), so that on-premise VMs and servers can communicate with instances in created VPC with packet encryption and private ip addresses.", "name": "DataCenterExtension", "runbook": {"variable_list": [{"val_type": "STRING", "description": "", "value": "us-west-1", "label": "", "attrs": {"type": ""}, "editables": {"value": true}, "type": "LOCAL", "name": "VPC_REGION"}, {"val_type": "STRING", "description": "", "value": "t2.micro", "label": "", "attrs": {"type": ""}, "editables": {"value": true}, "type": "LOCAL", "name": "GATEWAY_SIZE"}, {"val_type": "STRING", "description": "", "value": "10.5.224.128/26", "label": "", "attrs": {"type": ""}, "editables": {"value": true}, "type": "LOCAL", "name": "VPC_CIDR"}], "task_definition_list": [{"retries": "0", "description": "", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "CreateGateway"}], "attrs": {"edges": [], "type": ""}, "timeout_secs": "0", "type": "DAG", "variable_list": [], "name": "591ef307_dag"}, {"target_any_local_reference": {"kind": "app_service", "name": "Aviatrix"}, "retries": "0", "description": "", "child_tasks_local_reference_list": [], "attrs": {"script_type": "static", "type": "", "command_line_args": "", "exit_status": [], "script": "#script\n\naccount_name = \"@@{CLOUD_ACCOUNT_NAME}@@\"\navaitrix_ip = \"@@{APPLIANCE_IP}@@\"\nnew_avaitrix_password = \"@@{AVIATRIX_ADMIN_PASSWORD}@@\"\nvpc_name = \"Aviatrix\"\nvpc_reg = \"@@{VPC_REGION}@@\"\nvpc_size = \"@@{GATEWAY_SIZE}@@\"\nvpc_net = \"@@{VPC_CIDR}@@\"\n\napi_url = 'https://{0}/v1/api'.format(avaitrix_ip)\n#print api_url\n\n\ndef setconfig(api_url, payload):\n  r = urlreq(api_url, verb='POST', auth=\"BASIC\", user='admin', passwd='passwd', params=payload, verify=False)\n  resp = json.loads(r.content)\n  if resp['return']:\n    return resp\n  else:\n    print \"Post request failed\", r.content\n    exit(1)\n\nprint \"Get the session ID for making API operations\"\npayload = {'action': 'login', 'username': 'admin', 'password': new_avaitrix_password}\napi_url1 = api_url + \"?action=login&username=admin&password=\"+ new_avaitrix_password\ncid = setconfig(api_url=api_url1, payload=payload)\ncid = cid['CID']\nprint cid\n\n\nprint(\"Create VPC on AWS\")\npayload = {'CID': cid,\n  'action': 'create_container',\n  'account_name': account_name,\n  'cloud_type': 1,\n  'vpc_name': vpc_name,\n  'vpc_reg': vpc_reg,\n  'vpc_size': vpc_size,\n  'internet_access': \"yes\",\n  'public_subnet': \"yes\",\n  'vpc_net': vpc_net\n  }\n\nresp = setconfig(api_url=api_url,payload=payload)\n\nprint resp"}, "timeout_secs": "0", "type": "EXEC", "variable_list": [], "name": "CreateGateway"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "591ef307_dag"}, "name": "fa7fb9d8_runbook"}}], "name": "Nutanix"}], "default_credential_local_reference": {"kind": "app_credential", "name": "admin"}, "type": "USER", "client_attrs": {"Aviatrix": {"y": 222, "x": 422.5}}}, "name": "Aviatrix"}, "api_version": "3.0", "metadata": {"last_update_time": "1528184321571745", "creation_time": "1528184141504322", "kind": "blueprint", "spec_version": 3, "name": "Aviatrix"}}