{
    "status": {
        "description": "",
        "state": "ACTIVE",
        "message_list": [],
        "resources": {
            "service_definition_list": [
                {
                    "port_list": [],
                    "description": "",
                    "action_list": [
                        {
                            "description": "System action for creating an application",
                            "message_list": [],
                            "uuid": "25f5d050-c5c4-4885-a124-ef1a89c162c5",
                            "name": "action_create",
                            "state": "ACTIVE",
                            "critical": false,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "6178a039-5e78-480c-b912-3099f208b205",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [],
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "e8ae6024_dag"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "939388ca-d0f9-431b-8a79-18cf8af1b6c1",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "e8ae6024_dag",
                                    "uuid": "6178a039-5e78-480c-b912-3099f208b205"
                                },
                                "name": "170603f6_runbook"
                            }
                        },
                        {
                            "description": "System action for deleting an application. Deletes created VMs as well",
                            "message_list": [],
                            "uuid": "92a2d6ba-1722-43f5-b170-84e3f8d008db",
                            "name": "action_delete",
                            "state": "ACTIVE",
                            "critical": false,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "68ba4d79-37fe-4f8a-a636-2a7daf743c77",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [],
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "f25e9ca6_dag"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "566d27c5-d188-4d52-88aa-459d14013ac2",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "f25e9ca6_dag",
                                    "uuid": "68ba4d79-37fe-4f8a-a636-2a7daf743c77"
                                },
                                "name": "017e6fe9_runbook"
                            }
                        },
                        {
                            "description": "System action for starting an application",
                            "message_list": [],
                            "uuid": "0ed9f4b3-9689-4fa2-85da-341cb17c04e1",
                            "name": "action_start",
                            "state": "ACTIVE",
                            "critical": false,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "bd5e4256-aa43-471b-80c9-d90a4ad720c2",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [],
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "7cd4b387_dag"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "b0d05836-65ef-4427-a537-e25f0ba14e80",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "7cd4b387_dag",
                                    "uuid": "bd5e4256-aa43-471b-80c9-d90a4ad720c2"
                                },
                                "name": "73434119_runbook"
                            }
                        },
                        {
                            "description": "System action for stopping an application",
                            "message_list": [],
                            "uuid": "737586fc-bad3-4cc3-ba28-243eda568c0e",
                            "name": "action_stop",
                            "state": "ACTIVE",
                            "critical": false,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "19328fad-f2cd-4050-857a-9ca279416078",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [],
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "83f2a218_dag"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "10f31899-ce24-4f1c-a3b7-cbb5c440ce2e",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "83f2a218_dag",
                                    "uuid": "19328fad-f2cd-4050-857a-9ca279416078"
                                },
                                "name": "35799808_runbook"
                            }
                        },
                        {
                            "description": "System action for restarting an application",
                            "message_list": [],
                            "uuid": "7e97d6f2-5930-4d2a-a717-5a7aca2dfc5c",
                            "name": "action_restart",
                            "state": "ACTIVE",
                            "critical": false,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "b4588eef-5467-4624-b046-ee9f57d83cd9",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [],
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "7078cac1_dag"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "776d6a68-4177-44ee-a65e-1d2d5f5a766c",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "7078cac1_dag",
                                    "uuid": "b4588eef-5467-4624-b046-ee9f57d83cd9"
                                },
                                "name": "0d16f818_runbook"
                            }
                        },
                        {
                            "description": "System action for deleting an application. Does not delete created VMs",
                            "message_list": [],
                            "uuid": "b8c7aa0d-2a4e-4c02-8c01-b71f399ae80a",
                            "name": "action_soft_delete",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "e1badbe2-e593-4b56-9a07-2ace55b46ec0",
                                        "child_tasks_local_reference_list": [
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__Service_Element_Delete_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                "uuid": "1dc56e23-0b25-4cb1-93bf-94df265f5fea"
                                            }
                                        ],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__DAG_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "SOFT_DELETE_ELEMENT",
                                        "uuid": "1dc56e23-0b25-4cb1-93bf-94df265f5fea",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Service_Element_Delete_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "ea2950b1-d2ea-4a3b-911b-258182528239",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__DAG_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                    "uuid": "e1badbe2-e593-4b56-9a07-2ace55b46ec0"
                                },
                                "name": "SYS_GEN__Runbook_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                            }
                        }
                    ],
                    "message_list": [],
                    "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d",
                    "state": "ACTIVE",
                    "depends_on_list": [],
                    "editables": {},
                    "tier": "",
                    "singleton": false,
                    "variable_list": [],
                    "name": "AD_DNS_DHCP_SERVICES"
                }
            ],
            "substrate_definition_list": [
                {
                    "description": "",
                    "action_list": [
                        {
                            "description": "",
                            "message_list": [],
                            "uuid": "21eab01f-9c19-4ff0-9037-4b2e5753c359",
                            "name": "pre_action_create",
                            "state": "ACTIVE",
                            "critical": false,
                            "attrs": {},
                            "type": "fragment",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "157d8a23-9484-4e1a-a073-5d8849ceb09a",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [],
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "c439f5e7_dag"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "aa5e8be5-360d-40c9-90f9-008730c85187",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "c439f5e7_dag",
                                    "uuid": "157d8a23-9484-4e1a-a073-5d8849ceb09a"
                                },
                                "name": "d1d02e7c_runbook"
                            }
                        },
                        {
                            "description": "",
                            "message_list": [],
                            "uuid": "40421bb0-3686-4b13-bcd6-238021a85174",
                            "name": "post_action_delete",
                            "state": "ACTIVE",
                            "critical": false,
                            "attrs": {},
                            "type": "fragment",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "0e235da4-7d35-40ae-a0bb-55e1452f6f1d",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [],
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "23aa1f39_dag"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "ee15b4ec-3295-4a2f-8f54-3f1e26f4551b",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "23aa1f39_dag",
                                    "uuid": "0e235da4-7d35-40ae-a0bb-55e1452f6f1d"
                                },
                                "name": "3169354b_runbook"
                            }
                        },
                        {
                            "description": "System action for creating an application",
                            "message_list": [],
                            "uuid": "fc1d4176-94b2-4f05-bb97-2fec91e2d0b9",
                            "name": "action_create",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "24d2e61d-211a-48cc-b56f-a688e6ac3e97",
                                        "child_tasks_local_reference_list": [
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__Nutanix_Provision_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "84bf22ed-2dc1-49f4-bc70-53ee17bc89bd"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__check_login_for_AD_DNS_DHCP_SERVER_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "e8283f6f-a1d6-4f82-958a-9092ca73622e"
                                            }
                                        ],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__Nutanix_Provision_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "84bf22ed-2dc1-49f4-bc70-53ee17bc89bd"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "3b073506-d4b1-4e7f-8d2a-deeb508a1376",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__check_login_for_AD_DNS_DHCP_SERVER_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "e8283f6f-a1d6-4f82-958a-9092ca73622e"
                                                    }
                                                }
                                            ],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__DAG_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "PROVISION_NUTANIX",
                                        "uuid": "84bf22ed-2dc1-49f4-bc70-53ee17bc89bd",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "name": "AD-DNS-DHCP_SERVER@@{calm_random}@@",
                                            "categories": "",
                                            "availability_zone_reference": null,
                                            "backup_policy": null,
                                            "type": "",
                                            "cluster_reference": null,
                                            "resources": {
                                                "nic_list": [
                                                    {
                                                        "nic_type": "NORMAL_NIC",
                                                        "ip_endpoint_list": [],
                                                        "network_function_chain_reference": null,
                                                        "network_function_nic_type": "INGRESS",
                                                        "mac_address": "",
                                                        "subnet_reference": {
                                                            "kind": "subnet",
                                                            "type": "",
                                                            "name": "",
                                                            "uuid": "770f3a15-a38f-48e0-ba03-23b544da9f2e"
                                                        },
                                                        "type": ""
                                                    }
                                                ],
                                                "parent_reference": null,
                                                "guest_tools": null,
                                                "num_vcpus_per_socket": 1,
                                                "num_sockets": 2,
                                                "serial_port_list": [],
                                                "gpu_list": [],
                                                "memory_size_mib": 4096,
                                                "power_state": "ON",
                                                "hardware_clock_timezone": "",
                                                "guest_customization": {
                                                    "cloud_init": null,
                                                    "type": "",
                                                    "sysprep": {
                                                        "is_domain": false,
                                                        "install_type": "PREPARED",
                                                        "domain_credential_reference": null,
                                                        "domain": "",
                                                        "dns_ip": "",
                                                        "dns_search_path": "",
                                                        "unattend_xml": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <ComputerName>@@{VMNAME}@@</ComputerName>\n         <RegisteredOrganization>Nutanix</RegisteredOrganization>\n         <RegisteredOwner>Acropolis</RegisteredOwner>\n         <TimeZone>EST</TimeZone>\n      </component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false</fDenyTSConnections>\n      </component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0</UserAuthentication>\n      </component>\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true</Active>\n               <Profile>all</Profile>\n               <Group>@FirewallAPI.dll,-28752</Group>\n            </FirewallGroup>\n         </FirewallGroups>\n      </component>\n   </settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>nutanix/4u</Value>\n               <PlainText>true</PlainText>\n            </AdministratorPassword>\n         </UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>nutanix/4u</Value>\n               <PlainText>true</PlainText>\n            </Password>\n            <Enabled>true</Enabled>\n            <Username>administrator</Username>\n         </AutoLogon>\n         <FirstLogonCommands>\n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe /c netsh firewall add portopening TCP 5985 \"Port 5985\"</CommandLine>\n               <Description>Win RM port open</Description>\n               <Order>1</Order>\n               <RequiresUserInput>true</RequiresUserInput>\n            </SynchronousCommand>\n\t\t\t<SynchronousCommand wcm:action=\"add\">\n               <CommandLine>powershell -Command \"Enable-PSRemoting -SkipNetworkProfileCheck -Force\"</CommandLine>\n               <Description>Enable PS-Remoting</Description>\n               <Order>2</Order>\n               <RequiresUserInput>true</RequiresUserInput>\n            </SynchronousCommand>\n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>powershell -Command \"Set-ExecutionPolicy -ExecutionPolicy RemoteSigned\"</CommandLine>\n               <Description>Enable Remote-Signing</Description>\n               <Order>3</Order>\n               <RequiresUserInput>false</RequiresUserInput>\n            </SynchronousCommand>\n         </FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true</HideEULAPage>\n            <SkipMachineOOBE>true</SkipMachineOOBE>\n         </OOBE>\n      </component>\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>en-US</InputLocale>\n         <SystemLocale>en-US</SystemLocale>\n         <UILanguageFallback>en-us</UILanguageFallback>\n         <UILanguage>en-US</UILanguage>\n         <UserLocale>en-US</UserLocale>\n      </component>\n   </settings>\n</unattend>",
                                                        "type": ""
                                                    }
                                                },
                                                "type": "",
                                                "account_uuid": "32f41150-970c-4a92-9fec-0f144eb42fdd",
                                                "boot_config": {
                                                    "boot_device": {
                                                        "type": "",
                                                        "disk_address": {
                                                            "adapter_type": "SCSI",
                                                            "device_index": 0,
                                                            "type": ""
                                                        }
                                                    },
                                                    "type": "",
                                                    "boot_type": "",
                                                    "mac_address": ""
                                                },
                                                "disk_list": [
                                                    {
                                                        "data_source_reference": {
                                                            "kind": "image",
                                                            "type": "",
                                                            "name": "WindowsServer2016-Base.qcow2",
                                                            "uuid": "eb9fd9f8-ffc2-4f42-a4fd-47b4365fb32b"
                                                        },
                                                        "type": "",
                                                        "disk_size_mib": 0,
                                                        "volume_group_reference": null,
                                                        "device_properties": {
                                                            "type": "",
                                                            "device_type": "DISK",
                                                            "disk_address": {
                                                                "adapter_type": "SCSI",
                                                                "device_index": 0,
                                                                "type": ""
                                                            }
                                                        }
                                                    }
                                                ]
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Nutanix_Provision_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CHECK_LOGIN",
                                        "uuid": "e8283f6f-a1d6-4f82-958a-9092ca73622e",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "retries": "5",
                                            "dial_timeout": "",
                                            "timeout": "60",
                                            "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
                                            "type": "CHECK_LOGIN",
                                            "sleep_time": ""
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__check_login_for_AD_DNS_DHCP_SERVER_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "7bb91b2f-63ec-4ee4-a487-afcb00d834a1",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__DAG_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                    "uuid": "24d2e61d-211a-48cc-b56f-a688e6ac3e97"
                                },
                                "name": "SYS_GEN__Runbook_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                            }
                        },
                        {
                            "description": "System action for powering on an application",
                            "message_list": [],
                            "uuid": "e07e8915-7063-4319-ac5a-f6b366c5abb1",
                            "name": "action_poweron",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "cad56f22-f71b-4bc6-a386-1092f1480882",
                                        "child_tasks_local_reference_list": [
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__Nutanix_Operation_PowerOn_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "a744e741-7ade-4554-8e4f-a674eda606d5"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__check_login_for_AD_DNS_DHCP_SERVER_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "1b7c8c87-fa42-416b-97d9-ee4beb98d70a"
                                            }
                                        ],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__Nutanix_Operation_PowerOn_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "a744e741-7ade-4554-8e4f-a674eda606d5"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "dc0596bd-066e-4c81-9055-c53d789babc3",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__check_login_for_AD_DNS_DHCP_SERVER_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "1b7c8c87-fa42-416b-97d9-ee4beb98d70a"
                                                    }
                                                }
                                            ],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__DAG_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "VMOPERATION_NUTANIX",
                                        "uuid": "a744e741-7ade-4554-8e4f-a674eda606d5",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "type": "GENERIC_OPERATION"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Nutanix_Operation_PowerOn_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CHECK_LOGIN",
                                        "uuid": "1b7c8c87-fa42-416b-97d9-ee4beb98d70a",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "retries": "5",
                                            "dial_timeout": "",
                                            "timeout": "60",
                                            "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
                                            "type": "CHECK_LOGIN",
                                            "sleep_time": ""
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__check_login_for_AD_DNS_DHCP_SERVER_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "53769b06-878d-4ad7-8aa5-70574f583f7f",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__DAG_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                    "uuid": "cad56f22-f71b-4bc6-a386-1092f1480882"
                                },
                                "name": "SYS_GEN__Runbook_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                            }
                        },
                        {
                            "description": "System action for restarting an application",
                            "message_list": [],
                            "uuid": "88fe4c64-268c-438c-a45a-245f14e14725",
                            "name": "action_restart",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "0234fe9c-f048-42b7-9b11-e305a534a8bf",
                                        "child_tasks_local_reference_list": [
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__Nutanix_Operation_Restart_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "a45f6f01-606d-4f68-adc3-1f14dce2aa43"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__check_login_for_AD_DNS_DHCP_SERVER_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "8cd00918-3ed1-4f6a-9613-985f06400420"
                                            }
                                        ],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__Nutanix_Operation_Restart_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "a45f6f01-606d-4f68-adc3-1f14dce2aa43"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "0006462d-ed6c-429b-809d-6b0309ca4d1a",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__check_login_for_AD_DNS_DHCP_SERVER_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "8cd00918-3ed1-4f6a-9613-985f06400420"
                                                    }
                                                }
                                            ],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__DAG_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "VMOPERATION_NUTANIX",
                                        "uuid": "a45f6f01-606d-4f68-adc3-1f14dce2aa43",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "type": "GENERIC_OPERATION"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Nutanix_Operation_Restart_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CHECK_LOGIN",
                                        "uuid": "8cd00918-3ed1-4f6a-9613-985f06400420",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "retries": "5",
                                            "dial_timeout": "",
                                            "timeout": "60",
                                            "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
                                            "type": "CHECK_LOGIN",
                                            "sleep_time": ""
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__check_login_for_AD_DNS_DHCP_SERVER_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "c69c1971-46f5-4457-b7a4-63db3c69682c",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__DAG_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                    "uuid": "0234fe9c-f048-42b7-9b11-e305a534a8bf"
                                },
                                "name": "SYS_GEN__Runbook_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                            }
                        },
                        {
                            "description": "System action for suspending an application",
                            "message_list": [],
                            "uuid": "2017deb3-3ccd-480e-9f40-34d28101e2a1",
                            "name": "action_suspend",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "733e7b13-3516-4518-ae56-f8f1db335fe2",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__DAG_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "0754395d-1566-4902-9c41-0d730720a38a",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__DAG_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                    "uuid": "733e7b13-3516-4518-ae56-f8f1db335fe2"
                                },
                                "name": "SYS_GEN__Runbook_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                            }
                        },
                        {
                            "description": "System action for modifying an application",
                            "message_list": [],
                            "uuid": "d542a638-656c-4834-98a2-1c89de1a2bd3",
                            "name": "action_modify",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "e493c354-eda5-43f3-afb8-658c40820b7d",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__DAG_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "e7e07301-900e-4c36-b4f9-52efbe0f4bd4",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__DAG_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                    "uuid": "e493c354-eda5-43f3-afb8-658c40820b7d"
                                },
                                "name": "SYS_GEN__Runbook_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                            }
                        },
                        {
                            "description": "System action for powering off an application",
                            "message_list": [],
                            "uuid": "a206596d-f63e-44b7-80f4-f48e6af508a7",
                            "name": "action_poweroff",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "e4fb2629-87f3-4a36-800d-75d111062a51",
                                        "child_tasks_local_reference_list": [
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__Nutanix_Operation_PowerOff_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "8ef4c5b8-75a5-45d5-aa5e-87519db98ef1"
                                            }
                                        ],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__DAG_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "VMOPERATION_NUTANIX",
                                        "uuid": "8ef4c5b8-75a5-45d5-aa5e-87519db98ef1",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "type": "GENERIC_OPERATION"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Nutanix_Operation_PowerOff_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "2e6c66c3-3dd5-407d-a6ca-7c53066114a4",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__DAG_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                    "uuid": "e4fb2629-87f3-4a36-800d-75d111062a51"
                                },
                                "name": "SYS_GEN__Runbook_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                            }
                        },
                        {
                            "description": "System action for deleting an application. Deletes created VMs as well",
                            "message_list": [],
                            "uuid": "cedcf525-6724-49b2-a3b9-83ca374a7fa7",
                            "name": "action_delete",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "5fa39763-7c1b-46c7-ae2c-9e825cc990f5",
                                        "child_tasks_local_reference_list": [
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__Nutanix_Delete_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "28d52eb4-f60f-4ef8-bf38-0a2526b2bc0e"
                                            }
                                        ],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__DAG_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DELETE_NUTANIX",
                                        "uuid": "28d52eb4-f60f-4ef8-bf38-0a2526b2bc0e",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Nutanix_Delete_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "2a28dd62-87ce-4b89-a36e-612ab8b34ea6",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__DAG_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                    "uuid": "5fa39763-7c1b-46c7-ae2c-9e825cc990f5"
                                },
                                "name": "SYS_GEN__Runbook_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                            }
                        },
                        {
                            "description": "System action for deleting an application. Does not delete created VMs",
                            "message_list": [],
                            "uuid": "9c143f33-841c-4f24-9c8e-998b882c0d5c",
                            "name": "action_soft_delete",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "e7f9a541-ab21-4db2-8f1b-f1e933e6c0f7",
                                        "child_tasks_local_reference_list": [
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__Nutanix_Soft_Delete_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "95b4cb5b-98a0-4e1d-88c3-ab997de295fc"
                                            }
                                        ],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__DAG_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "SOFT_DELETE_NUTANIX",
                                        "uuid": "95b4cb5b-98a0-4e1d-88c3-ab997de295fc",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Nutanix_Soft_Delete_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "7a08fda4-e9fa-4ba5-b962-91567c2b1fef",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__DAG_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                    "uuid": "e7f9a541-ab21-4db2-8f1b-f1e933e6c0f7"
                                },
                                "name": "SYS_GEN__Runbook_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                            }
                        }
                    ],
                    "message_list": [],
                    "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2",
                    "state": "ACTIVE",
                    "readiness_probe": {
                        "connection_type": "POWERSHELL",
                        "retries": "5",
                        "connection_protocol": "",
                        "disable_readiness_probe": false,
                        "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
                        "delay_secs": "180",
                        "connection_port": 5985,
                        "login_credential_local_reference": {
                            "kind": "app_credential",
                            "name": "LOCAL",
                            "uuid": "afb06fdf-3ede-4786-803b-420954ec117f"
                        }
                    },
                    "editables": {
                        "readiness_probe": {
                            "connection_type": true,
                            "delay_secs": true,
                            "connection_port": true,
                            "timeout_secs": true
                        },
                        "create_spec": {
                            "name": true,
                            "resources": {
                                "nic_list": {},
                                "serial_port_list": {},
                                "num_vcpus_per_socket": true,
                                "num_sockets": true,
                                "memory_size_mib": true,
                                "boot_config": true,
                                "guest_customization": true,
                                "disk_list": {}
                            }
                        }
                    },
                    "os_type": "Windows",
                    "type": "AHV_VM",
                    "create_spec": {
                        "name": "AD-DNS-DHCP_SERVER@@{calm_random}@@",
                        "categories": "",
                        "availability_zone_reference": null,
                        "backup_policy": null,
                        "type": "",
                        "cluster_reference": null,
                        "resources": {
                            "nic_list": [
                                {
                                    "nic_type": "NORMAL_NIC",
                                    "ip_endpoint_list": [],
                                    "network_function_chain_reference": null,
                                    "network_function_nic_type": "INGRESS",
                                    "mac_address": "",
                                    "subnet_reference": {
                                        "kind": "subnet",
                                        "type": "",
                                        "name": "",
                                        "uuid": "770f3a15-a38f-48e0-ba03-23b544da9f2e"
                                    },
                                    "type": ""
                                }
                            ],
                            "parent_reference": null,
                            "guest_tools": null,
                            "num_vcpus_per_socket": 1,
                            "num_sockets": 2,
                            "serial_port_list": [],
                            "gpu_list": [],
                            "memory_size_mib": 4096,
                            "power_state": "ON",
                            "hardware_clock_timezone": "",
                            "guest_customization": {
                                "cloud_init": null,
                                "type": "",
                                "sysprep": {
                                    "is_domain": false,
                                    "install_type": "PREPARED",
                                    "domain_credential_reference": null,
                                    "domain": "",
                                    "dns_ip": "",
                                    "dns_search_path": "",
                                    "unattend_xml": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <ComputerName>@@{VMNAME}@@</ComputerName>\n         <RegisteredOrganization>Nutanix</RegisteredOrganization>\n         <RegisteredOwner>Acropolis</RegisteredOwner>\n         <TimeZone>EST</TimeZone>\n      </component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false</fDenyTSConnections>\n      </component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0</UserAuthentication>\n      </component>\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true</Active>\n               <Profile>all</Profile>\n               <Group>@FirewallAPI.dll,-28752</Group>\n            </FirewallGroup>\n         </FirewallGroups>\n      </component>\n   </settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>nutanix/4u</Value>\n               <PlainText>true</PlainText>\n            </AdministratorPassword>\n         </UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>nutanix/4u</Value>\n               <PlainText>true</PlainText>\n            </Password>\n            <Enabled>true</Enabled>\n            <Username>administrator</Username>\n         </AutoLogon>\n         <FirstLogonCommands>\n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe /c netsh firewall add portopening TCP 5985 \"Port 5985\"</CommandLine>\n               <Description>Win RM port open</Description>\n               <Order>1</Order>\n               <RequiresUserInput>true</RequiresUserInput>\n            </SynchronousCommand>\n\t\t\t<SynchronousCommand wcm:action=\"add\">\n               <CommandLine>powershell -Command \"Enable-PSRemoting -SkipNetworkProfileCheck -Force\"</CommandLine>\n               <Description>Enable PS-Remoting</Description>\n               <Order>2</Order>\n               <RequiresUserInput>true</RequiresUserInput>\n            </SynchronousCommand>\n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>powershell -Command \"Set-ExecutionPolicy -ExecutionPolicy RemoteSigned\"</CommandLine>\n               <Description>Enable Remote-Signing</Description>\n               <Order>3</Order>\n               <RequiresUserInput>false</RequiresUserInput>\n            </SynchronousCommand>\n         </FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true</HideEULAPage>\n            <SkipMachineOOBE>true</SkipMachineOOBE>\n         </OOBE>\n      </component>\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>en-US</InputLocale>\n         <SystemLocale>en-US</SystemLocale>\n         <UILanguageFallback>en-us</UILanguageFallback>\n         <UILanguage>en-US</UILanguage>\n         <UserLocale>en-US</UserLocale>\n      </component>\n   </settings>\n</unattend>",
                                    "type": ""
                                }
                            },
                            "type": "",
                            "account_uuid": "32f41150-970c-4a92-9fec-0f144eb42fdd",
                            "boot_config": {
                                "boot_device": {
                                    "type": "",
                                    "disk_address": {
                                        "adapter_type": "SCSI",
                                        "device_index": 0,
                                        "type": ""
                                    }
                                },
                                "type": "",
                                "boot_type": "",
                                "mac_address": ""
                            },
                            "disk_list": [
                                {
                                    "data_source_reference": {
                                        "kind": "image",
                                        "type": "",
                                        "name": "WindowsServer2016-Base.qcow2",
                                        "uuid": "eb9fd9f8-ffc2-4f42-a4fd-47b4365fb32b"
                                    },
                                    "type": "",
                                    "disk_size_mib": 0,
                                    "volume_group_reference": null,
                                    "device_properties": {
                                        "type": "",
                                        "device_type": "DISK",
                                        "disk_address": {
                                            "adapter_type": "SCSI",
                                            "device_index": 0,
                                            "type": ""
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "variable_list": [],
                    "name": "AD_DNS_DHCP_SERVER"
                }
            ],
            "credential_definition_list": [
                {
                    "username": "administrator",
                    "description": "",
                    "state": "ACTIVE",
                    "uuid": "afb06fdf-3ede-4786-803b-420954ec117f",
                    "secret": {
                        "attrs": {
                            "is_secret_modified": false,
                            "secret_reference": {}
                        }
                    },
                    "editables": {
                        "username": true,
                        "secret": true
                    },
                    "type": "PASSWORD",
                    "name": "LOCAL"
                },
                {
                    "username": "administrator@contoso.com",
                    "description": "",
                    "state": "ACTIVE",
                    "uuid": "9834ce78-e1a7-4a55-9715-efea4136b462",
                    "secret": {
                        "attrs": {
                            "is_secret_modified": false,
                            "secret_reference": {}
                        }
                    },
                    "editables": {
                        "username": true,
                        "secret": true
                    },
                    "type": "PASSWORD",
                    "name": "DOMAIN_CRED"
                }
            ],
            "type": "USER",
            "app_profile_list": [
                {
                    "deployment_create_list": [
                        {
                            "description": "",
                            "action_list": [
                                {
                                    "description": "System action for creating an application",
                                    "message_list": [],
                                    "uuid": "935c99c7-9793-4fe0-8960-76b5802687da",
                                    "name": "action_create",
                                    "state": "ACTIVE",
                                    "critical": true,
                                    "attrs": {},
                                    "type": "system",
                                    "runbook": {
                                        "task_definition_list": [
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_blueprint_deployment",
                                                    "name": "1bd2d70a_deployment",
                                                    "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "DAG",
                                                "uuid": "71092578-15b1-4628-9c26-3fa088a5baee",
                                                "child_tasks_local_reference_list": [
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__DE_Provision_813faa99_426a_4e23_995b_32a8cf6132ac",
                                                        "uuid": "d9614d81-ec13-4740-b0b8-4bb2adda0555"
                                                    },
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__pre_create_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "ebc52077-aaa4-4874-9567-6cb401951eef"
                                                    },
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__create_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "5f0c1fd0-0364-424f-a6f3-5c3759fd5ec0"
                                                    },
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__install_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                        "uuid": "13de243f-6972-4f68-967a-25eae6a43e28"
                                                    },
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__create_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "9a84dc9a-11b1-4962-9b8c-4982e96f8ad7"
                                                    },
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__start_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "46127c24-ae95-4c70-ad7f-1ca7519c1c06"
                                                    }
                                                ],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "edges": [
                                                        {
                                                            "from_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__pre_create_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                                "uuid": "ebc52077-aaa4-4874-9567-6cb401951eef"
                                                            },
                                                            "edge_type": "inherent",
                                                            "type": "",
                                                            "uuid": "17c412c8-bfb0-42ac-9fc5-2bbfc55bede3",
                                                            "to_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__create_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                                "uuid": "5f0c1fd0-0364-424f-a6f3-5c3759fd5ec0"
                                                            }
                                                        },
                                                        {
                                                            "from_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__create_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                                "uuid": "9a84dc9a-11b1-4962-9b8c-4982e96f8ad7"
                                                            },
                                                            "edge_type": "inherent",
                                                            "type": "",
                                                            "uuid": "60f89287-5757-4466-9281-09ce25db35a6",
                                                            "to_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__start_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                                "uuid": "46127c24-ae95-4c70-ad7f-1ca7519c1c06"
                                                            }
                                                        },
                                                        {
                                                            "from_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__install_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                                "uuid": "13de243f-6972-4f68-967a-25eae6a43e28"
                                                            },
                                                            "edge_type": "inherent",
                                                            "type": "",
                                                            "uuid": "371d0fd8-56f8-442f-9292-7f8ce69835e6",
                                                            "to_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__create_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                                "uuid": "9a84dc9a-11b1-4962-9b8c-4982e96f8ad7"
                                                            }
                                                        },
                                                        {
                                                            "from_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__DE_Provision_813faa99_426a_4e23_995b_32a8cf6132ac",
                                                                "uuid": "d9614d81-ec13-4740-b0b8-4bb2adda0555"
                                                            },
                                                            "edge_type": "inherent",
                                                            "type": "",
                                                            "uuid": "ff290eee-db95-4975-b5c3-9776dab81758",
                                                            "to_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__pre_create_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                                "uuid": "ebc52077-aaa4-4874-9567-6cb401951eef"
                                                            }
                                                        },
                                                        {
                                                            "from_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__create_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                                "uuid": "5f0c1fd0-0364-424f-a6f3-5c3759fd5ec0"
                                                            },
                                                            "edge_type": "inherent",
                                                            "type": "",
                                                            "uuid": "6219384d-ce80-41cd-9e8b-68188766486c",
                                                            "to_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__install_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                                "uuid": "13de243f-6972-4f68-967a-25eae6a43e28"
                                                            }
                                                        }
                                                    ],
                                                    "type": "DAG"
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__Composite_DAG_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_blueprint_deployment",
                                                    "name": "1bd2d70a_deployment",
                                                    "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "CREATE_DEPLOYMENT_ELEMENT",
                                                "uuid": "d9614d81-ec13-4740-b0b8-4bb2adda0555",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "type": ""
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__DE_Provision_813faa99_426a_4e23_995b_32a8cf6132ac"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_substrate",
                                                    "name": "AD_DNS_DHCP_SERVER",
                                                    "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "CALL_RUNBOOK",
                                                "uuid": "ebc52077-aaa4-4874-9567-6cb401951eef",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "inarg_list": [],
                                                    "deployment_reference": {
                                                        "kind": "app_blueprint_deployment",
                                                        "name": "1bd2d70a_deployment",
                                                        "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                    },
                                                    "type": "CALL_RUNBOOK",
                                                    "runbook_reference": {
                                                        "kind": "app_runbook",
                                                        "name": "d1d02e7c_runbook",
                                                        "uuid": "aa5e8be5-360d-40c9-90f9-008730c85187"
                                                    }
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__pre_create_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_substrate",
                                                    "name": "AD_DNS_DHCP_SERVER",
                                                    "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "CALL_RUNBOOK",
                                                "uuid": "5f0c1fd0-0364-424f-a6f3-5c3759fd5ec0",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "inarg_list": [],
                                                    "deployment_reference": {
                                                        "kind": "app_blueprint_deployment",
                                                        "name": "1bd2d70a_deployment",
                                                        "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                    },
                                                    "type": "CALL_RUNBOOK",
                                                    "runbook_reference": {
                                                        "kind": "app_runbook",
                                                        "name": "SYS_GEN__Runbook_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "7bb91b2f-63ec-4ee4-a487-afcb00d834a1"
                                                    }
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__create_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_package",
                                                    "name": "Active_Directory_Package",
                                                    "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "CALL_RUNBOOK",
                                                "uuid": "13de243f-6972-4f68-967a-25eae6a43e28",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "inarg_list": [],
                                                    "deployment_reference": {
                                                        "kind": "app_blueprint_deployment",
                                                        "name": "1bd2d70a_deployment",
                                                        "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                    },
                                                    "type": "CALL_RUNBOOK",
                                                    "runbook_reference": {
                                                        "kind": "app_runbook",
                                                        "name": "SYS_GEN__Runbook_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                        "uuid": "c4cb5d30-8c86-48fc-8e77-da8eac5b7259"
                                                    }
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__install_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_service",
                                                    "name": "AD_DNS_DHCP_SERVICES",
                                                    "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "CALL_RUNBOOK",
                                                "uuid": "9a84dc9a-11b1-4962-9b8c-4982e96f8ad7",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "inarg_list": [],
                                                    "deployment_reference": {
                                                        "kind": "app_blueprint_deployment",
                                                        "name": "1bd2d70a_deployment",
                                                        "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                    },
                                                    "type": "CALL_RUNBOOK",
                                                    "runbook_reference": {
                                                        "kind": "app_runbook",
                                                        "name": "170603f6_runbook",
                                                        "uuid": "939388ca-d0f9-431b-8a79-18cf8af1b6c1"
                                                    }
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__create_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_service",
                                                    "name": "AD_DNS_DHCP_SERVICES",
                                                    "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "CALL_RUNBOOK",
                                                "uuid": "46127c24-ae95-4c70-ad7f-1ca7519c1c06",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "inarg_list": [],
                                                    "deployment_reference": {
                                                        "kind": "app_blueprint_deployment",
                                                        "name": "1bd2d70a_deployment",
                                                        "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                    },
                                                    "type": "CALL_RUNBOOK",
                                                    "runbook_reference": {
                                                        "kind": "app_runbook",
                                                        "name": "73434119_runbook",
                                                        "uuid": "b0d05836-65ef-4427-a537-e25f0ba14e80"
                                                    }
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__start_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                            }
                                        ],
                                        "description": "",
                                        "message_list": [],
                                        "uuid": "0deac354-7aa8-4e48-8822-ad8799c21217",
                                        "state": "ACTIVE",
                                        "variable_list": [],
                                        "main_task_local_reference": {
                                            "kind": "app_task",
                                            "name": "SYS_GEN__Composite_DAG_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac",
                                            "uuid": "71092578-15b1-4628-9c26-3fa088a5baee"
                                        },
                                        "name": "SYS_GEN__Runbook_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac"
                                    }
                                },
                                {
                                    "description": "System action for starting an application",
                                    "message_list": [],
                                    "uuid": "169586bf-78a7-4ae2-a979-b69daa1deb55",
                                    "name": "action_start",
                                    "state": "ACTIVE",
                                    "critical": true,
                                    "attrs": {},
                                    "type": "system",
                                    "runbook": {
                                        "task_definition_list": [
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_blueprint_deployment",
                                                    "name": "1bd2d70a_deployment",
                                                    "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "DAG",
                                                "uuid": "381f7a07-eec9-4413-8e80-1726540a3be3",
                                                "child_tasks_local_reference_list": [
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__start_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "dd2f5121-57b1-46b9-bd3a-707bb9c63729"
                                                    },
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__start_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "8138420a-4afb-4394-880b-3864f70886c7"
                                                    }
                                                ],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "edges": [
                                                        {
                                                            "from_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__start_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                                "uuid": "dd2f5121-57b1-46b9-bd3a-707bb9c63729"
                                                            },
                                                            "edge_type": "inherent",
                                                            "type": "",
                                                            "uuid": "b6220947-9779-41c3-ad15-fb72a42c29ce",
                                                            "to_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__start_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                                "uuid": "8138420a-4afb-4394-880b-3864f70886c7"
                                                            }
                                                        }
                                                    ],
                                                    "type": "DAG"
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__Composite_DAG_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_substrate",
                                                    "name": "AD_DNS_DHCP_SERVER",
                                                    "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "CALL_RUNBOOK",
                                                "uuid": "dd2f5121-57b1-46b9-bd3a-707bb9c63729",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "inarg_list": [],
                                                    "deployment_reference": {
                                                        "kind": "app_blueprint_deployment",
                                                        "name": "1bd2d70a_deployment",
                                                        "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                    },
                                                    "type": "CALL_RUNBOOK",
                                                    "runbook_reference": {
                                                        "kind": "app_runbook",
                                                        "name": "SYS_GEN__Runbook_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "53769b06-878d-4ad7-8aa5-70574f583f7f"
                                                    }
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__start_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_service",
                                                    "name": "AD_DNS_DHCP_SERVICES",
                                                    "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "CALL_RUNBOOK",
                                                "uuid": "8138420a-4afb-4394-880b-3864f70886c7",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "inarg_list": [],
                                                    "deployment_reference": {
                                                        "kind": "app_blueprint_deployment",
                                                        "name": "1bd2d70a_deployment",
                                                        "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                    },
                                                    "type": "CALL_RUNBOOK",
                                                    "runbook_reference": {
                                                        "kind": "app_runbook",
                                                        "name": "73434119_runbook",
                                                        "uuid": "b0d05836-65ef-4427-a537-e25f0ba14e80"
                                                    }
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__start_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                            }
                                        ],
                                        "description": "",
                                        "message_list": [],
                                        "uuid": "868de44e-81c7-4dc3-a7ae-cedfce8e245b",
                                        "state": "ACTIVE",
                                        "variable_list": [],
                                        "main_task_local_reference": {
                                            "kind": "app_task",
                                            "name": "SYS_GEN__Composite_DAG_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac",
                                            "uuid": "381f7a07-eec9-4413-8e80-1726540a3be3"
                                        },
                                        "name": "SYS_GEN__Runbook_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac"
                                    }
                                },
                                {
                                    "description": "System action for restarting an application",
                                    "message_list": [],
                                    "uuid": "56e099ab-fb2b-4d44-b358-4fedb15db3ba",
                                    "name": "action_restart",
                                    "state": "ACTIVE",
                                    "critical": true,
                                    "attrs": {},
                                    "type": "system",
                                    "runbook": {
                                        "task_definition_list": [
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_blueprint_deployment",
                                                    "name": "1bd2d70a_deployment",
                                                    "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "DAG",
                                                "uuid": "98142f85-d2bb-4fc2-a609-3eae37f44edd",
                                                "child_tasks_local_reference_list": [
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__restart_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "e490a01a-95bd-49f7-b5b7-b6bc3aa798f2"
                                                    },
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__restart_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "cab0b66c-d97f-4810-b301-0b15d5e463c4"
                                                    }
                                                ],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "edges": [
                                                        {
                                                            "from_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__restart_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                                "uuid": "e490a01a-95bd-49f7-b5b7-b6bc3aa798f2"
                                                            },
                                                            "edge_type": "inherent",
                                                            "type": "",
                                                            "uuid": "3760589f-f3c4-4d65-a72c-49524cd0f7c5",
                                                            "to_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__restart_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                                "uuid": "cab0b66c-d97f-4810-b301-0b15d5e463c4"
                                                            }
                                                        }
                                                    ],
                                                    "type": "DAG"
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__Composite_DAG_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_substrate",
                                                    "name": "AD_DNS_DHCP_SERVER",
                                                    "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "CALL_RUNBOOK",
                                                "uuid": "e490a01a-95bd-49f7-b5b7-b6bc3aa798f2",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "inarg_list": [],
                                                    "deployment_reference": {
                                                        "kind": "app_blueprint_deployment",
                                                        "name": "1bd2d70a_deployment",
                                                        "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                    },
                                                    "type": "CALL_RUNBOOK",
                                                    "runbook_reference": {
                                                        "kind": "app_runbook",
                                                        "name": "SYS_GEN__Runbook_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "c69c1971-46f5-4457-b7a4-63db3c69682c"
                                                    }
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__restart_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_service",
                                                    "name": "AD_DNS_DHCP_SERVICES",
                                                    "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "CALL_RUNBOOK",
                                                "uuid": "cab0b66c-d97f-4810-b301-0b15d5e463c4",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "inarg_list": [],
                                                    "deployment_reference": {
                                                        "kind": "app_blueprint_deployment",
                                                        "name": "1bd2d70a_deployment",
                                                        "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                    },
                                                    "type": "CALL_RUNBOOK",
                                                    "runbook_reference": {
                                                        "kind": "app_runbook",
                                                        "name": "0d16f818_runbook",
                                                        "uuid": "776d6a68-4177-44ee-a65e-1d2d5f5a766c"
                                                    }
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__restart_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                            }
                                        ],
                                        "description": "",
                                        "message_list": [],
                                        "uuid": "4d06e3ec-3228-412a-b14b-158d8f1c58e4",
                                        "state": "ACTIVE",
                                        "variable_list": [],
                                        "main_task_local_reference": {
                                            "kind": "app_task",
                                            "name": "SYS_GEN__Composite_DAG_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac",
                                            "uuid": "98142f85-d2bb-4fc2-a609-3eae37f44edd"
                                        },
                                        "name": "SYS_GEN__Runbook_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac"
                                    }
                                },
                                {
                                    "description": "System action for stopping an application",
                                    "message_list": [],
                                    "uuid": "3412ffd9-0606-468f-91d0-43cde16cba75",
                                    "name": "action_stop",
                                    "state": "ACTIVE",
                                    "critical": true,
                                    "attrs": {},
                                    "type": "system",
                                    "runbook": {
                                        "task_definition_list": [
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_blueprint_deployment",
                                                    "name": "1bd2d70a_deployment",
                                                    "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "DAG",
                                                "uuid": "4842a62f-58db-41b6-9da8-e982e634fe44",
                                                "child_tasks_local_reference_list": [
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__stop_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "92270832-1ee3-4e33-84e7-b285172b9c14"
                                                    },
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__stop_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "53e67a2d-208b-4176-aa46-df60e1243651"
                                                    }
                                                ],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "edges": [
                                                        {
                                                            "from_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__stop_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                                "uuid": "92270832-1ee3-4e33-84e7-b285172b9c14"
                                                            },
                                                            "edge_type": "inherent",
                                                            "type": "",
                                                            "uuid": "06b9fc6a-cd00-4948-bde4-aeec7e26697d",
                                                            "to_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__stop_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                                "uuid": "53e67a2d-208b-4176-aa46-df60e1243651"
                                                            }
                                                        }
                                                    ],
                                                    "type": "DAG"
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__Composite_DAG_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_service",
                                                    "name": "AD_DNS_DHCP_SERVICES",
                                                    "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "CALL_RUNBOOK",
                                                "uuid": "92270832-1ee3-4e33-84e7-b285172b9c14",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "inarg_list": [],
                                                    "deployment_reference": {
                                                        "kind": "app_blueprint_deployment",
                                                        "name": "1bd2d70a_deployment",
                                                        "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                    },
                                                    "type": "CALL_RUNBOOK",
                                                    "runbook_reference": {
                                                        "kind": "app_runbook",
                                                        "name": "35799808_runbook",
                                                        "uuid": "10f31899-ce24-4f1c-a3b7-cbb5c440ce2e"
                                                    }
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__stop_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_substrate",
                                                    "name": "AD_DNS_DHCP_SERVER",
                                                    "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "CALL_RUNBOOK",
                                                "uuid": "53e67a2d-208b-4176-aa46-df60e1243651",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "inarg_list": [],
                                                    "deployment_reference": {
                                                        "kind": "app_blueprint_deployment",
                                                        "name": "1bd2d70a_deployment",
                                                        "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                    },
                                                    "type": "CALL_RUNBOOK",
                                                    "runbook_reference": {
                                                        "kind": "app_runbook",
                                                        "name": "SYS_GEN__Runbook_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "2e6c66c3-3dd5-407d-a6ca-7c53066114a4"
                                                    }
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__stop_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                            }
                                        ],
                                        "description": "",
                                        "message_list": [],
                                        "uuid": "1c271424-ceb1-4fc4-9527-5ced8a9efdcf",
                                        "state": "ACTIVE",
                                        "variable_list": [],
                                        "main_task_local_reference": {
                                            "kind": "app_task",
                                            "name": "SYS_GEN__Composite_DAG_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac",
                                            "uuid": "4842a62f-58db-41b6-9da8-e982e634fe44"
                                        },
                                        "name": "SYS_GEN__Runbook_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac"
                                    }
                                },
                                {
                                    "description": "System action for deleting an application. Deletes created VMs as well",
                                    "message_list": [],
                                    "uuid": "d122a710-13c0-4f9a-abef-ffa21a358862",
                                    "name": "action_delete",
                                    "state": "ACTIVE",
                                    "critical": true,
                                    "attrs": {},
                                    "type": "system",
                                    "runbook": {
                                        "task_definition_list": [
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_blueprint_deployment",
                                                    "name": "1bd2d70a_deployment",
                                                    "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "DAG",
                                                "uuid": "1883bcb4-58a0-4ef0-8df5-8efb59543dab",
                                                "child_tasks_local_reference_list": [
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__stop_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "80c538ed-4e77-46c9-86cc-c42341d2f239"
                                                    },
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__delete_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "4c132c56-e7d1-428b-9294-aee6b5e288f4"
                                                    },
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__uninstall_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                        "uuid": "bc7cf38b-a589-4957-b155-ed219323d1f2"
                                                    },
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "c694021d-1be7-44c8-9e09-cf391fca81ce"
                                                    },
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__post_delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "d63cfa11-db85-4516-be26-04d0edf5953b"
                                                    },
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__DE_Delete_813faa99_426a_4e23_995b_32a8cf6132ac",
                                                        "uuid": "2cb8bdca-1cd3-467c-b5f9-abbe0d48214a"
                                                    }
                                                ],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "edges": [
                                                        {
                                                            "from_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                                "uuid": "c694021d-1be7-44c8-9e09-cf391fca81ce"
                                                            },
                                                            "edge_type": "inherent",
                                                            "type": "",
                                                            "uuid": "3368eefb-540d-44b6-89e4-15c982e53b37",
                                                            "to_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__post_delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                                "uuid": "d63cfa11-db85-4516-be26-04d0edf5953b"
                                                            }
                                                        },
                                                        {
                                                            "from_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__stop_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                                "uuid": "80c538ed-4e77-46c9-86cc-c42341d2f239"
                                                            },
                                                            "edge_type": "inherent",
                                                            "type": "",
                                                            "uuid": "797e4f0f-c926-4ff9-837c-9e9aca9f87aa",
                                                            "to_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__delete_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                                "uuid": "4c132c56-e7d1-428b-9294-aee6b5e288f4"
                                                            }
                                                        },
                                                        {
                                                            "from_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__delete_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                                "uuid": "4c132c56-e7d1-428b-9294-aee6b5e288f4"
                                                            },
                                                            "edge_type": "inherent",
                                                            "type": "",
                                                            "uuid": "084a73be-292b-4bd4-a855-979c9e1dc913",
                                                            "to_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__uninstall_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                                "uuid": "bc7cf38b-a589-4957-b155-ed219323d1f2"
                                                            }
                                                        },
                                                        {
                                                            "from_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__post_delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                                "uuid": "d63cfa11-db85-4516-be26-04d0edf5953b"
                                                            },
                                                            "edge_type": "inherent",
                                                            "type": "",
                                                            "uuid": "024bb6c6-0adb-4551-a97e-5c337bc1bd49",
                                                            "to_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__DE_Delete_813faa99_426a_4e23_995b_32a8cf6132ac",
                                                                "uuid": "2cb8bdca-1cd3-467c-b5f9-abbe0d48214a"
                                                            }
                                                        },
                                                        {
                                                            "from_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__uninstall_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                                "uuid": "bc7cf38b-a589-4957-b155-ed219323d1f2"
                                                            },
                                                            "edge_type": "inherent",
                                                            "type": "",
                                                            "uuid": "1fd4a4bd-c5bc-446f-9735-a8cde61dc9d2",
                                                            "to_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                                "uuid": "c694021d-1be7-44c8-9e09-cf391fca81ce"
                                                            }
                                                        }
                                                    ],
                                                    "type": "DAG"
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__Composite_DAG_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_service",
                                                    "name": "AD_DNS_DHCP_SERVICES",
                                                    "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "CALL_RUNBOOK",
                                                "uuid": "80c538ed-4e77-46c9-86cc-c42341d2f239",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "inarg_list": [],
                                                    "deployment_reference": {
                                                        "kind": "app_blueprint_deployment",
                                                        "name": "1bd2d70a_deployment",
                                                        "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                    },
                                                    "type": "CALL_RUNBOOK",
                                                    "runbook_reference": {
                                                        "kind": "app_runbook",
                                                        "name": "35799808_runbook",
                                                        "uuid": "10f31899-ce24-4f1c-a3b7-cbb5c440ce2e"
                                                    }
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__stop_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_service",
                                                    "name": "AD_DNS_DHCP_SERVICES",
                                                    "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "CALL_RUNBOOK",
                                                "uuid": "4c132c56-e7d1-428b-9294-aee6b5e288f4",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "inarg_list": [],
                                                    "deployment_reference": {
                                                        "kind": "app_blueprint_deployment",
                                                        "name": "1bd2d70a_deployment",
                                                        "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                    },
                                                    "type": "CALL_RUNBOOK",
                                                    "runbook_reference": {
                                                        "kind": "app_runbook",
                                                        "name": "017e6fe9_runbook",
                                                        "uuid": "566d27c5-d188-4d52-88aa-459d14013ac2"
                                                    }
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__delete_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_package",
                                                    "name": "Active_Directory_Package",
                                                    "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "CALL_RUNBOOK",
                                                "uuid": "bc7cf38b-a589-4957-b155-ed219323d1f2",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "inarg_list": [],
                                                    "deployment_reference": {
                                                        "kind": "app_blueprint_deployment",
                                                        "name": "1bd2d70a_deployment",
                                                        "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                    },
                                                    "type": "CALL_RUNBOOK",
                                                    "runbook_reference": {
                                                        "kind": "app_runbook",
                                                        "name": "SYS_GEN__Runbook_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                        "uuid": "0389816c-5383-4ae2-b69b-8323d444f62c"
                                                    }
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__uninstall_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_substrate",
                                                    "name": "AD_DNS_DHCP_SERVER",
                                                    "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "CALL_RUNBOOK",
                                                "uuid": "c694021d-1be7-44c8-9e09-cf391fca81ce",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "inarg_list": [],
                                                    "deployment_reference": {
                                                        "kind": "app_blueprint_deployment",
                                                        "name": "1bd2d70a_deployment",
                                                        "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                    },
                                                    "type": "CALL_RUNBOOK",
                                                    "runbook_reference": {
                                                        "kind": "app_runbook",
                                                        "name": "SYS_GEN__Runbook_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "2a28dd62-87ce-4b89-a36e-612ab8b34ea6"
                                                    }
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_substrate",
                                                    "name": "AD_DNS_DHCP_SERVER",
                                                    "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "CALL_RUNBOOK",
                                                "uuid": "d63cfa11-db85-4516-be26-04d0edf5953b",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "inarg_list": [],
                                                    "deployment_reference": {
                                                        "kind": "app_blueprint_deployment",
                                                        "name": "1bd2d70a_deployment",
                                                        "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                    },
                                                    "type": "CALL_RUNBOOK",
                                                    "runbook_reference": {
                                                        "kind": "app_runbook",
                                                        "name": "3169354b_runbook",
                                                        "uuid": "ee15b4ec-3295-4a2f-8f54-3f1e26f4551b"
                                                    }
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__post_delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_blueprint_deployment",
                                                    "name": "1bd2d70a_deployment",
                                                    "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "DELETE_DEPLOYMENT_ELEMENT",
                                                "uuid": "2cb8bdca-1cd3-467c-b5f9-abbe0d48214a",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "type": ""
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__DE_Delete_813faa99_426a_4e23_995b_32a8cf6132ac"
                                            }
                                        ],
                                        "description": "",
                                        "message_list": [],
                                        "uuid": "06a55e59-0c30-402c-896a-d8248749a54d",
                                        "state": "ACTIVE",
                                        "variable_list": [],
                                        "main_task_local_reference": {
                                            "kind": "app_task",
                                            "name": "SYS_GEN__Composite_DAG_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac",
                                            "uuid": "1883bcb4-58a0-4ef0-8df5-8efb59543dab"
                                        },
                                        "name": "SYS_GEN__Runbook_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac"
                                    }
                                },
                                {
                                    "description": "System action for scaleout",
                                    "message_list": [],
                                    "uuid": "2b8c399f-4965-475a-8796-9eca1a1c4171",
                                    "name": "action_scaleout",
                                    "state": "ACTIVE",
                                    "critical": true,
                                    "attrs": {},
                                    "type": "system",
                                    "runbook": {
                                        "task_definition_list": [
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_blueprint_deployment",
                                                    "name": "1bd2d70a_deployment",
                                                    "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "DAG",
                                                "uuid": "5db5e019-dcbb-43b3-a7b9-48c900a7816f",
                                                "child_tasks_local_reference_list": [
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__Deployment_Scaleout_813faa99_426a_4e23_995b_32a8cf6132ac",
                                                        "uuid": "3e4d25b0-5d34-486e-a901-f1bf7745ab94"
                                                    }
                                                ],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "edges": [],
                                                    "type": "DAG"
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__Composite_DAG_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_blueprint_deployment",
                                                    "name": "1bd2d70a_deployment",
                                                    "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "SCALING",
                                                "uuid": "3e4d25b0-5d34-486e-a901-f1bf7745ab94",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "scaling_count": "@@{scaling_count}@@",
                                                    "type": "",
                                                    "scaling_type": "SCALEOUT"
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__Deployment_Scaleout_813faa99_426a_4e23_995b_32a8cf6132ac"
                                            }
                                        ],
                                        "description": "",
                                        "message_list": [],
                                        "uuid": "f6ffd571-2390-4d9f-9070-fe5bf25f9e14",
                                        "state": "ACTIVE",
                                        "variable_list": [
                                            {
                                                "regex": {},
                                                "val_type": "STRING",
                                                "is_mandatory": false,
                                                "description": "",
                                                "data_type": "BASE",
                                                "message_list": [],
                                                "uuid": "40062e9d-3580-485f-aebb-b12c674b9a6d",
                                                "value": "0",
                                                "label": "",
                                                "state": "NOT_VALIDATED",
                                                "attrs": {},
                                                "editables": {
                                                    "value": true
                                                },
                                                "is_hidden": false,
                                                "type": "LOCAL",
                                                "options": {},
                                                "name": "scaling_count"
                                            }
                                        ],
                                        "main_task_local_reference": {
                                            "kind": "app_task",
                                            "name": "SYS_GEN__Composite_DAG_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac",
                                            "uuid": "5db5e019-dcbb-43b3-a7b9-48c900a7816f"
                                        },
                                        "name": "SYS_GEN__Runbook_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac"
                                    }
                                },
                                {
                                    "description": "System action for scalein",
                                    "message_list": [],
                                    "uuid": "276d01b0-3e17-4ec6-818c-c72a5ec4dba1",
                                    "name": "action_scalein",
                                    "state": "ACTIVE",
                                    "critical": true,
                                    "attrs": {},
                                    "type": "system",
                                    "runbook": {
                                        "task_definition_list": [
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_blueprint_deployment",
                                                    "name": "1bd2d70a_deployment",
                                                    "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "DAG",
                                                "uuid": "5c59353a-544a-468c-b4db-db42dcce3804",
                                                "child_tasks_local_reference_list": [
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__Deployment_Scalein_813faa99_426a_4e23_995b_32a8cf6132ac",
                                                        "uuid": "c9b2205e-3c4b-409b-a112-3e3c28f673e5"
                                                    }
                                                ],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "edges": [],
                                                    "type": "DAG"
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__Composite_DAG_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_blueprint_deployment",
                                                    "name": "1bd2d70a_deployment",
                                                    "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "SCALING",
                                                "uuid": "c9b2205e-3c4b-409b-a112-3e3c28f673e5",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "scaling_count": "@@{scaling_count}@@",
                                                    "type": "",
                                                    "scaling_type": "SCALEIN"
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__Deployment_Scalein_813faa99_426a_4e23_995b_32a8cf6132ac"
                                            }
                                        ],
                                        "description": "",
                                        "message_list": [],
                                        "uuid": "5f9053b4-b83d-48d0-b2bf-b8281b8f6d6d",
                                        "state": "ACTIVE",
                                        "variable_list": [
                                            {
                                                "regex": {},
                                                "val_type": "STRING",
                                                "is_mandatory": false,
                                                "description": "",
                                                "data_type": "BASE",
                                                "message_list": [],
                                                "uuid": "05390841-68d5-458a-8f28-57d438015da0",
                                                "value": "0",
                                                "label": "",
                                                "state": "NOT_VALIDATED",
                                                "attrs": {},
                                                "editables": {
                                                    "value": true
                                                },
                                                "is_hidden": false,
                                                "type": "LOCAL",
                                                "options": {},
                                                "name": "scaling_count"
                                            }
                                        ],
                                        "main_task_local_reference": {
                                            "kind": "app_task",
                                            "name": "SYS_GEN__Composite_DAG_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac",
                                            "uuid": "5c59353a-544a-468c-b4db-db42dcce3804"
                                        },
                                        "name": "SYS_GEN__Runbook_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac"
                                    }
                                },
                                {
                                    "description": "System action for deleting an application. Does not delete created VMs",
                                    "message_list": [],
                                    "uuid": "a112c832-a41c-45f8-8698-c7ab95680ea5",
                                    "name": "action_soft_delete",
                                    "state": "ACTIVE",
                                    "critical": true,
                                    "attrs": {},
                                    "type": "system",
                                    "runbook": {
                                        "task_definition_list": [
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_blueprint_deployment",
                                                    "name": "1bd2d70a_deployment",
                                                    "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "DAG",
                                                "uuid": "736027f3-0784-40bb-97a9-0a2be4852d9d",
                                                "child_tasks_local_reference_list": [
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__soft_delete_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "24bcd79c-dbff-46ab-a588-327df62071b8"
                                                    },
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__Package_Element_Delete_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                        "uuid": "ffd0dca4-c3ab-419a-81cd-8c4d1c372b25"
                                                    },
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__soft_delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "c58a08ec-5471-4957-b6bf-7c8dd9513e7b"
                                                    },
                                                    {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__DE_Soft_Delete_813faa99_426a_4e23_995b_32a8cf6132ac",
                                                        "uuid": "4228d087-70d6-4ad9-9493-e89c0d48bce4"
                                                    }
                                                ],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "edges": [
                                                        {
                                                            "from_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__soft_delete_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                                "uuid": "24bcd79c-dbff-46ab-a588-327df62071b8"
                                                            },
                                                            "edge_type": "inherent",
                                                            "type": "",
                                                            "uuid": "5abd4932-e76a-49c1-a0bf-4c480e065093",
                                                            "to_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__Package_Element_Delete_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                                "uuid": "ffd0dca4-c3ab-419a-81cd-8c4d1c372b25"
                                                            }
                                                        },
                                                        {
                                                            "from_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__Package_Element_Delete_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                                "uuid": "ffd0dca4-c3ab-419a-81cd-8c4d1c372b25"
                                                            },
                                                            "edge_type": "inherent",
                                                            "type": "",
                                                            "uuid": "83dec3ea-241e-4015-a393-513553418dd6",
                                                            "to_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__soft_delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                                "uuid": "c58a08ec-5471-4957-b6bf-7c8dd9513e7b"
                                                            }
                                                        },
                                                        {
                                                            "from_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__soft_delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                                "uuid": "c58a08ec-5471-4957-b6bf-7c8dd9513e7b"
                                                            },
                                                            "edge_type": "inherent",
                                                            "type": "",
                                                            "uuid": "fcf06df6-2de8-4f71-88b6-be9e9307ddac",
                                                            "to_task_reference": {
                                                                "kind": "app_task",
                                                                "name": "SYS_GEN__DE_Soft_Delete_813faa99_426a_4e23_995b_32a8cf6132ac",
                                                                "uuid": "4228d087-70d6-4ad9-9493-e89c0d48bce4"
                                                            }
                                                        }
                                                    ],
                                                    "type": "DAG"
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__Composite_DAG_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_service",
                                                    "name": "AD_DNS_DHCP_SERVICES",
                                                    "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "CALL_RUNBOOK",
                                                "uuid": "24bcd79c-dbff-46ab-a588-327df62071b8",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "inarg_list": [],
                                                    "deployment_reference": {
                                                        "kind": "app_blueprint_deployment",
                                                        "name": "1bd2d70a_deployment",
                                                        "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                    },
                                                    "type": "CALL_RUNBOOK",
                                                    "runbook_reference": {
                                                        "kind": "app_runbook",
                                                        "name": "SYS_GEN__Runbook_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "ea2950b1-d2ea-4a3b-911b-258182528239"
                                                    }
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__soft_delete_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_package",
                                                    "name": "Active_Directory_Package",
                                                    "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "SOFT_DELETE_ELEMENT",
                                                "uuid": "ffd0dca4-c3ab-419a-81cd-8c4d1c372b25",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "type": ""
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__Package_Element_Delete_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_substrate",
                                                    "name": "AD_DNS_DHCP_SERVER",
                                                    "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "CALL_RUNBOOK",
                                                "uuid": "c58a08ec-5471-4957-b6bf-7c8dd9513e7b",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "inarg_list": [],
                                                    "deployment_reference": {
                                                        "kind": "app_blueprint_deployment",
                                                        "name": "1bd2d70a_deployment",
                                                        "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                    },
                                                    "type": "CALL_RUNBOOK",
                                                    "runbook_reference": {
                                                        "kind": "app_runbook",
                                                        "name": "SYS_GEN__Runbook_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "7a08fda4-e9fa-4ba5-b962-91567c2b1fef"
                                                    }
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__soft_delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                            },
                                            {
                                                "target_any_local_reference": {
                                                    "kind": "app_blueprint_deployment",
                                                    "name": "1bd2d70a_deployment",
                                                    "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                                },
                                                "retries": "0",
                                                "description": "",
                                                "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT",
                                                "uuid": "4228d087-70d6-4ad9-9493-e89c0d48bce4",
                                                "child_tasks_local_reference_list": [],
                                                "state": "ACTIVE",
                                                "attrs": {
                                                    "type": ""
                                                },
                                                "timeout_secs": "0",
                                                "message_list": [],
                                                "variable_list": [],
                                                "name": "SYS_GEN__DE_Soft_Delete_813faa99_426a_4e23_995b_32a8cf6132ac"
                                            }
                                        ],
                                        "description": "",
                                        "message_list": [],
                                        "uuid": "57d2a91e-f2cc-4116-bdb4-95c5883d5810",
                                        "state": "ACTIVE",
                                        "variable_list": [],
                                        "main_task_local_reference": {
                                            "kind": "app_task",
                                            "name": "SYS_GEN__Composite_DAG_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac",
                                            "uuid": "736027f3-0784-40bb-97a9-0a2be4852d9d"
                                        },
                                        "name": "SYS_GEN__Runbook_Deployment_813faa99_426a_4e23_995b_32a8cf6132ac"
                                    }
                                }
                            ],
                            "message_list": [],
                            "published_service_local_reference_list": [],
                            "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac",
                            "default_replicas": "1",
                            "min_replicas": "1",
                            "state": "ACTIVE",
                            "max_replicas": "1",
                            "depends_on_list": [],
                            "editables": {},
                            "package_local_reference_list": [
                                {
                                    "kind": "app_package",
                                    "name": "Active_Directory_Package",
                                    "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                }
                            ],
                            "substrate_local_reference": {
                                "kind": "app_substrate",
                                "name": "AD_DNS_DHCP_SERVER",
                                "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                            },
                            "type": "GREENFIELD",
                            "options": {},
                            "variable_list": [],
                            "name": "1bd2d70a_deployment"
                        }
                    ],
                    "description": "",
                    "action_list": [
                        {
                            "description": "System action for creating an application",
                            "message_list": [],
                            "uuid": "bdc4f74e-e481-4dc3-8777-041a3e23fb7e",
                            "name": "action_create",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_profile",
                                            "name": "Nutanix",
                                            "uuid": "63bb084f-c330-4973-ac37-21bf98c0743b"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "ecaf0388-9bc0-4051-b42f-33ae77b873c7",
                                        "child_tasks_local_reference_list": [
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__DE_Provision_813faa99_426a_4e23_995b_32a8cf6132ac",
                                                "uuid": "dcd2aaf0-8860-4668-8f20-b4fcf9434d02"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__pre_create_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "b274d8ec-6065-4a5a-8e7f-54b8720f4899"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__create_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "39204aa2-6167-4519-a145-2dbe0818c7ad"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__install_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                "uuid": "406bd5a4-e9de-4f2d-b636-9e433ae77048"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__create_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                "uuid": "b31b93fd-0498-4a54-b6e9-17cbae25efd9"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__start_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                "uuid": "90f3a391-2754-48eb-802f-49e3f19707fa"
                                            }
                                        ],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__pre_create_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "b274d8ec-6065-4a5a-8e7f-54b8720f4899"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "38d8a713-5c61-4939-96da-57f27aa0c507",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__create_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "39204aa2-6167-4519-a145-2dbe0818c7ad"
                                                    }
                                                },
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__create_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "b31b93fd-0498-4a54-b6e9-17cbae25efd9"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "61a5333c-627f-4844-93f6-08bd8216519c",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__start_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "90f3a391-2754-48eb-802f-49e3f19707fa"
                                                    }
                                                },
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__install_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                        "uuid": "406bd5a4-e9de-4f2d-b636-9e433ae77048"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "3fb336d7-edf8-48d1-a561-a50430b3c3e0",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__create_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "b31b93fd-0498-4a54-b6e9-17cbae25efd9"
                                                    }
                                                },
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__DE_Provision_813faa99_426a_4e23_995b_32a8cf6132ac",
                                                        "uuid": "dcd2aaf0-8860-4668-8f20-b4fcf9434d02"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "f4d1b3b2-d48c-40b1-ab24-39f24f8d8430",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__pre_create_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "b274d8ec-6065-4a5a-8e7f-54b8720f4899"
                                                    }
                                                },
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__create_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "39204aa2-6167-4519-a145-2dbe0818c7ad"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "407e5df1-a823-4087-aea6-192992905bec",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__install_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                        "uuid": "406bd5a4-e9de-4f2d-b636-9e433ae77048"
                                                    }
                                                }
                                            ],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Composite_DAG_Application_63bb084f_c330_4973_ac37_21bf98c0743b"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_blueprint_deployment",
                                            "name": "1bd2d70a_deployment",
                                            "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CREATE_DEPLOYMENT_ELEMENT",
                                        "uuid": "dcd2aaf0-8860-4668-8f20-b4fcf9434d02",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__DE_Provision_813faa99_426a_4e23_995b_32a8cf6132ac"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "b274d8ec-6065-4a5a-8e7f-54b8720f4899",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "deployment_reference": {
                                                "kind": "app_blueprint_deployment",
                                                "name": "1bd2d70a_deployment",
                                                "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                            },
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "d1d02e7c_runbook",
                                                "uuid": "aa5e8be5-360d-40c9-90f9-008730c85187"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__pre_create_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "39204aa2-6167-4519-a145-2dbe0818c7ad",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "deployment_reference": {
                                                "kind": "app_blueprint_deployment",
                                                "name": "1bd2d70a_deployment",
                                                "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                            },
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "SYS_GEN__Runbook_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "7bb91b2f-63ec-4ee4-a487-afcb00d834a1"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__create_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_package",
                                            "name": "Active_Directory_Package",
                                            "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "406bd5a4-e9de-4f2d-b636-9e433ae77048",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "deployment_reference": {
                                                "kind": "app_blueprint_deployment",
                                                "name": "1bd2d70a_deployment",
                                                "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                            },
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "SYS_GEN__Runbook_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                "uuid": "c4cb5d30-8c86-48fc-8e77-da8eac5b7259"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__install_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "b31b93fd-0498-4a54-b6e9-17cbae25efd9",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "deployment_reference": {
                                                "kind": "app_blueprint_deployment",
                                                "name": "1bd2d70a_deployment",
                                                "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                            },
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "170603f6_runbook",
                                                "uuid": "939388ca-d0f9-431b-8a79-18cf8af1b6c1"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__create_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "90f3a391-2754-48eb-802f-49e3f19707fa",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "deployment_reference": {
                                                "kind": "app_blueprint_deployment",
                                                "name": "1bd2d70a_deployment",
                                                "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                            },
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "73434119_runbook",
                                                "uuid": "b0d05836-65ef-4427-a537-e25f0ba14e80"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__start_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "c1c1dbf4-94c8-4b7f-a809-795016c2b6e9",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__Composite_DAG_Application_63bb084f_c330_4973_ac37_21bf98c0743b",
                                    "uuid": "ecaf0388-9bc0-4051-b42f-33ae77b873c7"
                                },
                                "name": "SYS_GEN__Runbook_Application_63bb084f_c330_4973_ac37_21bf98c0743b"
                            }
                        },
                        {
                            "description": "System action for starting an application",
                            "message_list": [],
                            "uuid": "f343efce-3f00-4415-9d72-af770d0ba812",
                            "name": "action_start",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_profile",
                                            "name": "Nutanix",
                                            "uuid": "63bb084f-c330-4973-ac37-21bf98c0743b"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "b65e6289-9728-4ebb-bd2a-e6f7091a47f5",
                                        "child_tasks_local_reference_list": [
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__start_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "d5ba3700-8b24-4f78-8291-e4635a3ed653"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__start_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                "uuid": "77115d41-08f6-43d2-9263-87bdb60600c0"
                                            }
                                        ],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__start_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "d5ba3700-8b24-4f78-8291-e4635a3ed653"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "1a650009-74db-49bf-a759-afedc0b051af",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__start_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "77115d41-08f6-43d2-9263-87bdb60600c0"
                                                    }
                                                }
                                            ],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Composite_DAG_Application_63bb084f_c330_4973_ac37_21bf98c0743b"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "d5ba3700-8b24-4f78-8291-e4635a3ed653",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "deployment_reference": {
                                                "kind": "app_blueprint_deployment",
                                                "name": "1bd2d70a_deployment",
                                                "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                            },
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "SYS_GEN__Runbook_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "53769b06-878d-4ad7-8aa5-70574f583f7f"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__start_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "77115d41-08f6-43d2-9263-87bdb60600c0",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "deployment_reference": {
                                                "kind": "app_blueprint_deployment",
                                                "name": "1bd2d70a_deployment",
                                                "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                            },
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "73434119_runbook",
                                                "uuid": "b0d05836-65ef-4427-a537-e25f0ba14e80"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__start_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "999fe0b6-555c-4e80-9892-af3a04fd4e22",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__Composite_DAG_Application_63bb084f_c330_4973_ac37_21bf98c0743b",
                                    "uuid": "b65e6289-9728-4ebb-bd2a-e6f7091a47f5"
                                },
                                "name": "SYS_GEN__Runbook_Application_63bb084f_c330_4973_ac37_21bf98c0743b"
                            }
                        },
                        {
                            "description": "System action for restarting an application",
                            "message_list": [],
                            "uuid": "ecd40568-ee0d-465d-b447-661db7806a93",
                            "name": "action_restart",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_profile",
                                            "name": "Nutanix",
                                            "uuid": "63bb084f-c330-4973-ac37-21bf98c0743b"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "699b5fdb-3bc9-4b2a-85d3-a01b1e6ebf89",
                                        "child_tasks_local_reference_list": [
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__restart_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "2722030f-b256-446a-9613-b819db1ffefa"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__restart_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                "uuid": "816d719a-643e-4c90-ab45-16c31a2dd1b5"
                                            }
                                        ],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__restart_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "2722030f-b256-446a-9613-b819db1ffefa"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "593e3366-935b-4343-a7ea-927835c3b33f",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__restart_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "816d719a-643e-4c90-ab45-16c31a2dd1b5"
                                                    }
                                                }
                                            ],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Composite_DAG_Application_63bb084f_c330_4973_ac37_21bf98c0743b"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "2722030f-b256-446a-9613-b819db1ffefa",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "deployment_reference": {
                                                "kind": "app_blueprint_deployment",
                                                "name": "1bd2d70a_deployment",
                                                "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                            },
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "SYS_GEN__Runbook_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "c69c1971-46f5-4457-b7a4-63db3c69682c"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__restart_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "816d719a-643e-4c90-ab45-16c31a2dd1b5",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "deployment_reference": {
                                                "kind": "app_blueprint_deployment",
                                                "name": "1bd2d70a_deployment",
                                                "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                            },
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "0d16f818_runbook",
                                                "uuid": "776d6a68-4177-44ee-a65e-1d2d5f5a766c"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__restart_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "5e786b3e-0fc8-415f-90b1-6348bc05ae27",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__Composite_DAG_Application_63bb084f_c330_4973_ac37_21bf98c0743b",
                                    "uuid": "699b5fdb-3bc9-4b2a-85d3-a01b1e6ebf89"
                                },
                                "name": "SYS_GEN__Runbook_Application_63bb084f_c330_4973_ac37_21bf98c0743b"
                            }
                        },
                        {
                            "description": "System action for stopping an application",
                            "message_list": [],
                            "uuid": "817bd423-376b-48e0-b20b-afdcf8dec25a",
                            "name": "action_stop",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_profile",
                                            "name": "Nutanix",
                                            "uuid": "63bb084f-c330-4973-ac37-21bf98c0743b"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "e5a66330-d258-476d-b4a6-90bf7df67171",
                                        "child_tasks_local_reference_list": [
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__stop_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                "uuid": "298f542b-a712-4242-a940-3f7eaf7c61b5"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__stop_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "10bf2994-aa58-48dd-b77f-1a9ef77a54c4"
                                            }
                                        ],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__stop_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "298f542b-a712-4242-a940-3f7eaf7c61b5"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "9ca06058-297f-4df4-b91a-f960d391c0f4",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__stop_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "10bf2994-aa58-48dd-b77f-1a9ef77a54c4"
                                                    }
                                                }
                                            ],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Composite_DAG_Application_63bb084f_c330_4973_ac37_21bf98c0743b"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "298f542b-a712-4242-a940-3f7eaf7c61b5",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "deployment_reference": {
                                                "kind": "app_blueprint_deployment",
                                                "name": "1bd2d70a_deployment",
                                                "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                            },
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "35799808_runbook",
                                                "uuid": "10f31899-ce24-4f1c-a3b7-cbb5c440ce2e"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__stop_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "10bf2994-aa58-48dd-b77f-1a9ef77a54c4",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "deployment_reference": {
                                                "kind": "app_blueprint_deployment",
                                                "name": "1bd2d70a_deployment",
                                                "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                            },
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "SYS_GEN__Runbook_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "2e6c66c3-3dd5-407d-a6ca-7c53066114a4"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__stop_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "d3bef0f2-db20-4e80-942e-52b4f7274f75",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__Composite_DAG_Application_63bb084f_c330_4973_ac37_21bf98c0743b",
                                    "uuid": "e5a66330-d258-476d-b4a6-90bf7df67171"
                                },
                                "name": "SYS_GEN__Runbook_Application_63bb084f_c330_4973_ac37_21bf98c0743b"
                            }
                        },
                        {
                            "description": "System action for deleting an application. Deletes created VMs as well",
                            "message_list": [],
                            "uuid": "4e660725-9db3-41e6-9121-c6cda3081fad",
                            "name": "action_delete",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_profile",
                                            "name": "Nutanix",
                                            "uuid": "63bb084f-c330-4973-ac37-21bf98c0743b"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "af115bf8-f03c-460b-a6fb-1f72e606866c",
                                        "child_tasks_local_reference_list": [
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__stop_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                "uuid": "5c9d6f9d-a734-4e75-81d8-2f5e93a61b25"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__delete_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                "uuid": "c15dd6a9-e065-4092-b73d-a7b469d1b186"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__uninstall_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                "uuid": "b8dcaf80-9ba1-4278-80f7-f2ecb548fc82"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "063f6005-e20c-44f1-8569-44ff7bc97a78"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__post_delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "bfba6579-2b28-4ffd-a31f-57c337a7d7a9"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__DE_Delete_813faa99_426a_4e23_995b_32a8cf6132ac",
                                                "uuid": "c58aff39-3eb5-41ea-bc7f-12abceae5a55"
                                            }
                                        ],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "063f6005-e20c-44f1-8569-44ff7bc97a78"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "9d9e4b67-21dc-4e90-b5b8-33f47aaad624",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__post_delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "bfba6579-2b28-4ffd-a31f-57c337a7d7a9"
                                                    }
                                                },
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__stop_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "5c9d6f9d-a734-4e75-81d8-2f5e93a61b25"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "158ad144-a832-4135-af50-f3a93f39dfc3",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__delete_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "c15dd6a9-e065-4092-b73d-a7b469d1b186"
                                                    }
                                                },
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__delete_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "c15dd6a9-e065-4092-b73d-a7b469d1b186"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "d25bf324-1cdf-429b-af7c-e27c8c41babd",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__uninstall_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                        "uuid": "b8dcaf80-9ba1-4278-80f7-f2ecb548fc82"
                                                    }
                                                },
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__post_delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "bfba6579-2b28-4ffd-a31f-57c337a7d7a9"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "484a22ac-5203-41d8-8bd2-71f799e6a0f3",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__DE_Delete_813faa99_426a_4e23_995b_32a8cf6132ac",
                                                        "uuid": "c58aff39-3eb5-41ea-bc7f-12abceae5a55"
                                                    }
                                                },
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__uninstall_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                        "uuid": "b8dcaf80-9ba1-4278-80f7-f2ecb548fc82"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "63ea66bc-5e0b-4516-8e1e-adf9161da5e1",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "063f6005-e20c-44f1-8569-44ff7bc97a78"
                                                    }
                                                }
                                            ],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Composite_DAG_Application_63bb084f_c330_4973_ac37_21bf98c0743b"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "5c9d6f9d-a734-4e75-81d8-2f5e93a61b25",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "deployment_reference": {
                                                "kind": "app_blueprint_deployment",
                                                "name": "1bd2d70a_deployment",
                                                "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                            },
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "35799808_runbook",
                                                "uuid": "10f31899-ce24-4f1c-a3b7-cbb5c440ce2e"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__stop_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "c15dd6a9-e065-4092-b73d-a7b469d1b186",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "deployment_reference": {
                                                "kind": "app_blueprint_deployment",
                                                "name": "1bd2d70a_deployment",
                                                "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                            },
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "017e6fe9_runbook",
                                                "uuid": "566d27c5-d188-4d52-88aa-459d14013ac2"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__delete_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_package",
                                            "name": "Active_Directory_Package",
                                            "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "b8dcaf80-9ba1-4278-80f7-f2ecb548fc82",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "deployment_reference": {
                                                "kind": "app_blueprint_deployment",
                                                "name": "1bd2d70a_deployment",
                                                "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                            },
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "SYS_GEN__Runbook_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                "uuid": "0389816c-5383-4ae2-b69b-8323d444f62c"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__uninstall_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "063f6005-e20c-44f1-8569-44ff7bc97a78",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "deployment_reference": {
                                                "kind": "app_blueprint_deployment",
                                                "name": "1bd2d70a_deployment",
                                                "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                            },
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "SYS_GEN__Runbook_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "2a28dd62-87ce-4b89-a36e-612ab8b34ea6"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "bfba6579-2b28-4ffd-a31f-57c337a7d7a9",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "deployment_reference": {
                                                "kind": "app_blueprint_deployment",
                                                "name": "1bd2d70a_deployment",
                                                "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                            },
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "3169354b_runbook",
                                                "uuid": "ee15b4ec-3295-4a2f-8f54-3f1e26f4551b"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__post_delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_blueprint_deployment",
                                            "name": "1bd2d70a_deployment",
                                            "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DELETE_DEPLOYMENT_ELEMENT",
                                        "uuid": "c58aff39-3eb5-41ea-bc7f-12abceae5a55",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__DE_Delete_813faa99_426a_4e23_995b_32a8cf6132ac"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "6038b360-42f2-4a7d-a09e-841d638f1580",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__Composite_DAG_Application_63bb084f_c330_4973_ac37_21bf98c0743b",
                                    "uuid": "af115bf8-f03c-460b-a6fb-1f72e606866c"
                                },
                                "name": "SYS_GEN__Runbook_Application_63bb084f_c330_4973_ac37_21bf98c0743b"
                            }
                        },
                        {
                            "description": "System action for deleting an application. Does not delete created VMs",
                            "message_list": [],
                            "uuid": "f7ee709b-2967-4864-ae21-96db541ddce6",
                            "name": "action_soft_delete",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_profile",
                                            "name": "Nutanix",
                                            "uuid": "63bb084f-c330-4973-ac37-21bf98c0743b"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "88bd847f-702a-41ea-8683-26c0a7951fd0",
                                        "child_tasks_local_reference_list": [
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__soft_delete_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                "uuid": "f7ffec37-8917-44bf-bce8-9fbb4a55659f"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__Package_Element_Delete_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                "uuid": "ffdb75d6-f118-4ce5-8b8d-4cce30d01f26"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__soft_delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "53b2a5cc-2ac8-4fdd-b2c9-dc35c8529074"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__DE_Soft_Delete_813faa99_426a_4e23_995b_32a8cf6132ac",
                                                "uuid": "4026ab14-e467-4fe2-9ee7-5d8b64d92d1e"
                                            }
                                        ],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__soft_delete_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "f7ffec37-8917-44bf-bce8-9fbb4a55659f"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "161642ca-9c49-4b80-bc70-ca7e2915bf00",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__Package_Element_Delete_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                        "uuid": "ffdb75d6-f118-4ce5-8b8d-4cce30d01f26"
                                                    }
                                                },
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__Package_Element_Delete_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                        "uuid": "ffdb75d6-f118-4ce5-8b8d-4cce30d01f26"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "902bbe90-4181-4ebe-8436-ccc9a465185d",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__soft_delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "53b2a5cc-2ac8-4fdd-b2c9-dc35c8529074"
                                                    }
                                                },
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__soft_delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                        "uuid": "53b2a5cc-2ac8-4fdd-b2c9-dc35c8529074"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "c5142dd3-ddfd-46ec-8c7f-aaaf4968c6b5",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__DE_Soft_Delete_813faa99_426a_4e23_995b_32a8cf6132ac",
                                                        "uuid": "4026ab14-e467-4fe2-9ee7-5d8b64d92d1e"
                                                    }
                                                }
                                            ],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Composite_DAG_Application_63bb084f_c330_4973_ac37_21bf98c0743b"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "f7ffec37-8917-44bf-bce8-9fbb4a55659f",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "deployment_reference": {
                                                "kind": "app_blueprint_deployment",
                                                "name": "1bd2d70a_deployment",
                                                "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                            },
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "SYS_GEN__Runbook_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                "uuid": "ea2950b1-d2ea-4a3b-911b-258182528239"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__soft_delete_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_package",
                                            "name": "Active_Directory_Package",
                                            "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "SOFT_DELETE_ELEMENT",
                                        "uuid": "ffdb75d6-f118-4ce5-8b8d-4cce30d01f26",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Package_Element_Delete_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER",
                                            "uuid": "56f6f3bc-63bc-4548-b213-1b26e2b528c2"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "53b2a5cc-2ac8-4fdd-b2c9-dc35c8529074",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "deployment_reference": {
                                                "kind": "app_blueprint_deployment",
                                                "name": "1bd2d70a_deployment",
                                                "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                            },
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "SYS_GEN__Runbook_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2",
                                                "uuid": "7a08fda4-e9fa-4ba5-b962-91567c2b1fef"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__soft_delete_CRb_Substrate_56f6f3bc_63bc_4548_b213_1b26e2b528c2"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_blueprint_deployment",
                                            "name": "1bd2d70a_deployment",
                                            "uuid": "813faa99-426a-4e23-995b-32a8cf6132ac"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT",
                                        "uuid": "4026ab14-e467-4fe2-9ee7-5d8b64d92d1e",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__DE_Soft_Delete_813faa99_426a_4e23_995b_32a8cf6132ac"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "6dde5da4-67c5-46a6-adf0-fa8beafaab46",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__Composite_DAG_Application_63bb084f_c330_4973_ac37_21bf98c0743b",
                                    "uuid": "88bd847f-702a-41ea-8683-26c0a7951fd0"
                                },
                                "name": "SYS_GEN__Runbook_Application_63bb084f_c330_4973_ac37_21bf98c0743b"
                            }
                        }
                    ],
                    "message_list": [],
                    "uuid": "63bb084f-c330-4973-ac37-21bf98c0743b",
                    "state": "ACTIVE",
                    "dependency_list": [],
                    "variable_list": [
                        {
                            "regex": {},
                            "val_type": "STRING",
                            "is_mandatory": false,
                            "description": "Ex:- google.com",
                            "data_type": "BASE",
                            "message_list": [],
                            "uuid": "b4cec300-6e12-41bb-96b9-e8781357171d",
                            "value": "contoso.com",
                            "label": "",
                            "state": "ACTIVE",
                            "attrs": {
                                "type": ""
                            },
                            "editables": {
                                "value": true
                            },
                            "is_hidden": false,
                            "type": "LOCAL",
                            "options": {},
                            "name": "DOMAIN"
                        },
                        {
                            "regex": {},
                            "val_type": "STRING",
                            "is_mandatory": false,
                            "description": "DC,ADC,CDC or RODC",
                            "data_type": "BASE",
                            "message_list": [],
                            "uuid": "30ea4a85-e3ae-4105-a4b7-3bb4a71806c5",
                            "value": "DC",
                            "label": "",
                            "state": "ACTIVE",
                            "attrs": {
                                "type": ""
                            },
                            "editables": {
                                "value": true
                            },
                            "is_hidden": false,
                            "type": "LOCAL",
                            "options": {},
                            "name": "DOMAIN_TYPE"
                        },
                        {
                            "regex": {},
                            "val_type": "STRING",
                            "is_mandatory": false,
                            "description": "Example:- yahoo.com is your main domain then your sub domain will be mail.yahoo.com.",
                            "data_type": "BASE",
                            "message_list": [],
                            "uuid": "09107dee-2b15-37ca-3a01-63f71212fef9",
                            "value": "",
                            "label": "",
                            "state": "ACTIVE",
                            "attrs": {
                                "type": ""
                            },
                            "editables": {
                                "value": true
                            },
                            "is_hidden": false,
                            "type": "LOCAL",
                            "options": {
                                "type": "PREDEFINED",
                                "choices": []
                            },
                            "name": "CHILD_DOMAIN"
                        },
                        {
                            "regex": {},
                            "val_type": "STRING",
                            "is_mandatory": false,
                            "description": "Hostname name/ VM name of the server",
                            "data_type": "BASE",
                            "message_list": [],
                            "uuid": "c96a3df1-7b10-a91c-64d9-0d071df4c71d",
                            "value": "AD_DNS_DHCP",
                            "label": "",
                            "state": "ACTIVE",
                            "attrs": {
                                "type": ""
                            },
                            "editables": {
                                "value": true
                            },
                            "is_hidden": false,
                            "type": "LOCAL",
                            "options": {
                                "type": "PREDEFINED",
                                "choices": []
                            },
                            "name": "VMNAME"
                        }
                    ],
                    "name": "Nutanix"
                }
            ],
            "published_service_definition_list": [],
            "default_credential_local_reference": {
                "kind": "app_credential",
                "name": "LOCAL",
                "uuid": "afb06fdf-3ede-4786-803b-420954ec117f"
            },
            "package_definition_list": [
                {
                    "description": "",
                    "action_list": [
                        {
                            "description": "System action for installing an application",
                            "message_list": [],
                            "uuid": "d4a1cbbc-699f-4333-bb4e-08f714052939",
                            "name": "action_install",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_package",
                                            "name": "Active_Directory_Package",
                                            "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "6ad62142-dd3b-4c23-9dc7-7ffa21fdefa8",
                                        "child_tasks_local_reference_list": [
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__Install_Crb_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                "uuid": "e6a8c3fc-6442-4044-9596-f835debb3b17"
                                            }
                                        ],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__DAG_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_package",
                                            "name": "Active_Directory_Package",
                                            "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CUSTOM_PACKAGE_INSTALL",
                                        "uuid": "e6a8c3fc-6442-4044-9596-f835debb3b17",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "install_runbook": {
                                                "task_definition_list": [
                                                    {
                                                        "target_any_local_reference": {
                                                            "kind": "app_package",
                                                            "name": "Active_Directory_Package",
                                                            "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                                        },
                                                        "retries": "0",
                                                        "description": "",
                                                        "type": "DAG",
                                                        "uuid": "478b0fbd-d324-4105-9cd7-4ce3fe6084e2",
                                                        "child_tasks_local_reference_list": [
                                                            {
                                                                "kind": "app_task",
                                                                "name": "Install AD",
                                                                "uuid": "4425b8ad-bed7-4693-ac31-bb4133361a57"
                                                            },
                                                            {
                                                                "kind": "app_task",
                                                                "name": "Wait for VM to Install AD",
                                                                "uuid": "a292f41c-f83a-4949-b9c8-c3c903750fd7"
                                                            },
                                                            {
                                                                "kind": "app_task",
                                                                "name": "Open Firewall Ports",
                                                                "uuid": "e379839d-63eb-47f3-b743-f0581a00202a"
                                                            },
                                                            {
                                                                "kind": "app_task",
                                                                "name": "Install DHCP",
                                                                "uuid": "b6d9e9dd-ecdf-0929-01be-9c64a179f252"
                                                            }
                                                        ],
                                                        "state": "ACTIVE",
                                                        "attrs": {
                                                            "edges": [
                                                                {
                                                                    "from_task_reference": {
                                                                        "kind": "app_task",
                                                                        "name": "Install AD",
                                                                        "uuid": "4425b8ad-bed7-4693-ac31-bb4133361a57"
                                                                    },
                                                                    "edge_type": "user_defined",
                                                                    "type": "",
                                                                    "uuid": "bae465e9-fa62-482a-9be0-485105e84ab0",
                                                                    "to_task_reference": {
                                                                        "kind": "app_task",
                                                                        "name": "Wait for VM to Install AD",
                                                                        "uuid": "a292f41c-f83a-4949-b9c8-c3c903750fd7"
                                                                    }
                                                                },
                                                                {
                                                                    "from_task_reference": {
                                                                        "kind": "app_task",
                                                                        "name": "Wait for VM to Install AD",
                                                                        "uuid": "a292f41c-f83a-4949-b9c8-c3c903750fd7"
                                                                    },
                                                                    "edge_type": "user_defined",
                                                                    "type": "",
                                                                    "uuid": "cbfec70b-ff7d-4ec9-bee4-f3bdd1f88460",
                                                                    "to_task_reference": {
                                                                        "kind": "app_task",
                                                                        "name": "Open Firewall Ports",
                                                                        "uuid": "e379839d-63eb-47f3-b743-f0581a00202a"
                                                                    }
                                                                },
                                                                {
                                                                    "from_task_reference": {
                                                                        "kind": "app_task",
                                                                        "name": "Open Firewall Ports",
                                                                        "uuid": "e379839d-63eb-47f3-b743-f0581a00202a"
                                                                    },
                                                                    "edge_type": "user_defined",
                                                                    "type": "",
                                                                    "uuid": "807ca6a9-099e-8cdb-699e-e9366680337a",
                                                                    "to_task_reference": {
                                                                        "kind": "app_task",
                                                                        "name": "Install DHCP",
                                                                        "uuid": "b6d9e9dd-ecdf-0929-01be-9c64a179f252"
                                                                    }
                                                                }
                                                            ],
                                                            "type": ""
                                                        },
                                                        "timeout_secs": "0",
                                                        "message_list": [],
                                                        "variable_list": [],
                                                        "name": "80dbbb84_dag"
                                                    },
                                                    {
                                                        "target_any_local_reference": {
                                                            "kind": "app_service",
                                                            "name": "AD_DNS_DHCP_SERVICES",
                                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                                        },
                                                        "retries": "0",
                                                        "description": "",
                                                        "type": "EXEC",
                                                        "uuid": "4425b8ad-bed7-4693-ac31-bb4133361a57",
                                                        "child_tasks_local_reference_list": [],
                                                        "state": "ACTIVE",
                                                        "attrs": {
                                                            "exit_status": [],
                                                            "script": "$WS2008R2_MAJOR                 = '6.1'\n$WS2012_MAJOR                   = '6.2'\n$WS2012R2_MAJOR                 = '6.3'\n$WS2016_MAJOR                   = '10.0'\n\n# -*- Checks AD Domain services Installation\nfunction Check-ActiveDirectoryFeature {\n   return $(Get-WindowsFeature AD-Domain-Services -ErrorAction SilentlyContinue).Installed\n}\n# -*- Installs AD Domain services\nfunction Install-ActiveDirectory {\n  Write-Output \"Installing AD Features.\"\n  Install-WindowsFeature -Name AD-Domain-Services -IncludeManagementTools\n}\n# -*- Checks the pre existance of domain\nfunction Check-DomainExistance {\n  #if (Get-ADDomainController -Discover -ErrorAction SilentlyContinue){\n  if (\"$((wmic ComputerSystem get DomainRole)[2])\".trim() -eq \"5\"){\n   return $true\n  }\n  else{\n    return $false\n  }\n}\n# -*- Gets Machine IP address, Netmask, DNS and prefix\nfunction Get-ServerIPAddress {\n  $IPType = \"IPv4\"\n  $IPv4Address = $(Get-NetAdapter | ? {$_.Status -eq \"up\"}| Get-NetIPAddress | ? {$_.AddressFamily -eq \"IPv4\"}).IPv4Address\n  $Prefix = $(Get-NetAdapter | ? {$_.Status -eq \"up\"} | Get-NetIPAddress).PrefixLength[1]\n  $Gateway = \"$((Get-WmiObject Win32_NetworkAdapterConfiguration -EA Stop | ? {$_.IPEnabled}).DefaultIPGateway)\"\n  $DNS = $(Get-NetAdapter | ? {$_.Status -eq \"up\"} | Get-DnsClientServerAddress | ? {$_.AddressFamily -eq 2}).ServerAddresses\n  return $IPType, $IPv4Address, $Prefix, $Gateway, $DNS\n}\n# -*- Removes DHCP IP sets the Static ips which it has got from Get-ServerIPAddress.\nfunction Set-StaticIpAddress {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Name,\n      [parameter(Mandatory=$true)]\n      [string]$IPType,\n      [parameter(Mandatory=$true)]\n      [string]$IPv4Address,\n      [parameter(Mandatory=$true)]\n      [string]$Prefix,\n      [parameter(Mandatory=$false)]\n      [string]$Gateway,\n      [parameter(Mandatory=$false)]\n      [array]$DNS\n  )\n\n  $adapter = Get-NetAdapter -Name $Name | ? {$_.Status -eq \"up\"}\n  If (($adapter | Get-NetIPConfiguration).IPv4Address.IPAddress) {\n      $adapter | Remove-NetIPAddress -AddressFamily $IPType -Confirm:$false\n  }\n  If (($adapter | Get-NetIPConfiguration).Ipv4DefaultGateway) {\n      $adapter | Remove-NetRoute -AddressFamily $IPType -Confirm:$false\n  }\n  if ($Gateway){\n    $adapter | New-NetIPAddress -AddressFamily $IPType -IPAddress \"$IPv4Address\" -PrefixLength $Prefix -DefaultGateway \"$Gateway\"\n  }\n  else{\n    $adapter | New-NetIPAddress -AddressFamily $IPType -IPAddress \"$IPv4Address\" -PrefixLength $Prefix\n  }\n  if ($DNS){\n    $adapter | Set-DnsClientServerAddress -ServerAddresses $DNS\n  }\n}\n\n# -*- Configures AD Domain service\nfunction Configure-ActiveDirectory {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$false)]\n      [string]$DatabasePath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainMode,\n      [parameter(Mandatory=$true)]\n      [string]$ForestMode,\n      [parameter(Mandatory=$false)]\n      [string]$LogPath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$false)]\n      [string]$SysvolPath=\"C:\\Windows\\SYSVOL\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainType,\n      [parameter(Mandatory=$false)]\n      [string]$ChildDomainName\n  )\n  Import-Module ADDSDeployment\n\n  $secpasswd = ConvertTo-SecureString $Password -AsPlainText -Force\n  $credential = New-Object System.Management.Automation.PSCredential(\"$DomainName\\administrator\",$secpasswd)\n  $netbios = $DomainName.Split(\".\")[0].ToUpper()\n  Write-Output \"Configuring Domain services.\"\n  switch ($DomainType){\n    \"DC\"{\n      Install-ADDSForest -CreateDnsDelegation:$false -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainName $DomainName -DomainNetbiosName $netbios -ForestMode $ForestMode -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd\n    }\n    \"ADC\"{\n      Install-ADDSDomainController -NoGlobalCatalog:$false -CreateDnsDelegation:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"CDC\"{\n      Install-ADDSDomain -NoGlobalCatalog:$false -CreateDnsDelegation:$true -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainType \"ChildDomain\" -InstallDns:$true -LogPath $LogPath -NewDomainName $ChildDomainName -NewDomainNetbiosName $ChildDomainName.ToUpper() -ParentDomainName $DomainName -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"RODC\"{\n      Install-ADDSDomainController -AllowPasswordReplicationAccountName @(\"$netbios\\Allowed RODC Password Replication Group\") -NoGlobalCatalog:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DenyPasswordReplicationAccountName @(\"BUILTIN\\Administrators\", \"BUILTIN\\Server Operators\", \"BUILTIN\\Backup Operators\", \"BUILTIN\\Account Operators\", \"$netbios\\Denied RODC Password Replication Group\") -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -ReadOnlyReplica:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    default{\n      Write-Output \"Invalid DomainType\"\n    }\n}\n}\n# -*- Checks whether server has DHCP IP or Static IP.\n# -*- If DHCP it gets IP Details and sets them statically.\nif ($(Get-WmiObject -Class Win32_NetworkAdapterConfiguration -Filter IPEnabled=TRUE).DHCPEnabled){\n  $IPType, $IPv4Address, $Prefix, $Gateway, $DNS = Get-ServerIPAddress\n  if (\"DC\" -eq \"DC\"){\n    $DNS = \"127.0.0.1\"\n  }\n  if (($IPType -eq $Null) -or ($IPv4Address -eq $Null) -or ($Prefix -eq $Null) -or ($Gateway -eq $Null)){\n    Write-Output \"Please pass ipaddress, prefix and gateway address.\"\n  }\n  else{\n    Set-StaticIpAddress \"Ethernet\" $IPType $IPv4Address $Prefix $Gateway $DNS\n  }\n}\nelse{\n  Write-Output \"Static IP Is already set\"\n}\n\nif (Check-ActiveDirectoryFeature){\n  Write-Output \"Active Directory already installed.\"\n}\nelse{\n  Install-ActiveDirectory\n}\n\nif (Check-DomainExistance){\n  Write-Output \"Domain exists already.\"\n}\nelse{\n  $MajorOSVersion= [string](Get-WmiObject Win32_OperatingSystem | Select-Object @{n=\"Major\";e={($_.Version.Split(\".\")[0]+\".\"+$_.Version.Split(\".\")[1])}}).Major\n  if ($MajorOSVersion -eq $WS2012R2_MAJOR){\n    $DomainMode = \"Win2012R2\"\n  }elseif ($MajorOSVersion -eq $WS2016_MAJOR){\n    $DomainMode = \"WinThreshold\"\n  }\n  Configure-ActiveDirectory -DomainName \"@@{DOMAIN}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -DomainMode $DomainMode -ForestMode $DomainMode -DomainType \"@@{DOMAIN_TYPE}@@\" -ChildDomainName \"@@{CHILD_DOMAIN}@@\"\n}\n\nStart-Sleep -Seconds 5\nStart-Process -FilePath \"shutdown.exe\" -ArgumentList (\"/r\", \"/t\", \"5\")\nexit 0",
                                                            "script_type": "npsscript",
                                                            "type": "",
                                                            "command_line_args": "",
                                                            "login_credential_local_reference": {
                                                                "kind": "app_credential",
                                                                "name": "LOCAL",
                                                                "uuid": "afb06fdf-3ede-4786-803b-420954ec117f"
                                                            }
                                                        },
                                                        "timeout_secs": "0",
                                                        "message_list": [],
                                                        "variable_list": [],
                                                        "name": "Install AD"
                                                    },
                                                    {
                                                        "target_any_local_reference": {
                                                            "kind": "app_service",
                                                            "name": "AD_DNS_DHCP_SERVICES",
                                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                                        },
                                                        "retries": "0",
                                                        "description": "",
                                                        "type": "EXEC",
                                                        "uuid": "a292f41c-f83a-4949-b9c8-c3c903750fd7",
                                                        "child_tasks_local_reference_list": [],
                                                        "state": "ACTIVE",
                                                        "attrs": {
                                                            "script_type": "static",
                                                            "type": "",
                                                            "command_line_args": "",
                                                            "exit_status": [],
                                                            "script": "#script\nsleep(90)"
                                                        },
                                                        "timeout_secs": "0",
                                                        "message_list": [],
                                                        "variable_list": [],
                                                        "name": "Wait for VM to Install AD"
                                                    },
                                                    {
                                                        "target_any_local_reference": {
                                                            "kind": "app_service",
                                                            "name": "AD_DNS_DHCP_SERVICES",
                                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                                        },
                                                        "retries": "0",
                                                        "description": "",
                                                        "type": "EXEC",
                                                        "uuid": "e379839d-63eb-47f3-b743-f0581a00202a",
                                                        "child_tasks_local_reference_list": [],
                                                        "state": "ACTIVE",
                                                        "attrs": {
                                                            "exit_status": [],
                                                            "script": "New-NetFirewallRule -DisplayName \"AD\" -Direction Inbound -Protocol UDP -LocalPort 389 -Action allow\nNew-NetFirewallRule -DisplayName \"DNS TCP\" -Direction Inbound -Protocol TCP -LocalPort 53 -Action allow\nNew-NetFirewallRule -DisplayName \"DNS UDP\" -Direction Inbound -Protocol UDP -LocalPort 53 -Action allow\nNew-NetFirewallRule -DisplayName \"GC TCP\" -Direction Inbound -Protocol TCP -LocalPort 3268 -Action allow\nNew-NetFirewallRule -DisplayName \"GC UDP\" -Direction Inbound -Protocol UDP -LocalPort 3269 -Action allow\nNew-NetFirewallRule -DisplayName \"SYSVOL TCP\" -Direction Inbound -Protocol TCP -LocalPort 139 -Action allow\nNew-NetFirewallRule -DisplayName \"SYSVOL UDP\" -Direction Inbound -Protocol UDP -LocalPort 138 -Action allow\nNew-NetFirewallRule -DisplayName \"KERBROS UDP\" -Direction Inbound -Protocol UDP -LocalPort 88 -Action allow\nNew-NetFirewallRule -DisplayName \"AD COM TCP\" -Direction Inbound -Protocol TCP -LocalPort 135 -Action allow\nNew-NetFirewallRule -DisplayName \"AD COM UDP\" -Direction Inbound -Protocol UDP -LocalPort 135 -Action allow\nNew-NetFirewallRule -DisplayName \"KERBROS PW CHANGE TCP\" -Direction Inbound -Protocol TCP -LocalPort 464 -Action allow\nNew-NetFirewallRule -DisplayName \"KERBROS PW CHANGE UDP\" -Direction Inbound -Protocol UDP -LocalPort 464 -Action allow",
                                                            "script_type": "npsscript",
                                                            "type": "",
                                                            "command_line_args": "",
                                                            "login_credential_local_reference": {
                                                                "kind": "app_credential",
                                                                "name": "LOCAL",
                                                                "uuid": "afb06fdf-3ede-4786-803b-420954ec117f"
                                                            }
                                                        },
                                                        "timeout_secs": "0",
                                                        "message_list": [],
                                                        "variable_list": [],
                                                        "name": "Open Firewall Ports"
                                                    },
                                                    {
                                                        "target_any_local_reference": {
                                                            "kind": "app_service",
                                                            "name": "AD_DNS_DHCP_SERVICES",
                                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                                        },
                                                        "retries": "0",
                                                        "description": "",
                                                        "type": "EXEC",
                                                        "uuid": "b6d9e9dd-ecdf-0929-01be-9c64a179f252",
                                                        "child_tasks_local_reference_list": [],
                                                        "state": "ACTIVE",
                                                        "attrs": {
                                                            "exit_status": [],
                                                            "script": "Install-WindowsFeature -Name 'DHCP' IncludeManagementTools\n",
                                                            "script_type": "npsscript",
                                                            "type": "",
                                                            "command_line_args": "",
                                                            "login_credential_local_reference": {
                                                                "kind": "app_credential",
                                                                "name": "DOMAIN_CRED",
                                                                "uuid": "9834ce78-e1a7-4a55-9715-efea4136b462"
                                                            }
                                                        },
                                                        "timeout_secs": "0",
                                                        "message_list": [],
                                                        "variable_list": [],
                                                        "name": "Install DHCP"
                                                    }
                                                ],
                                                "description": "",
                                                "message_list": [],
                                                "uuid": "84d0a143-8b73-48fe-a367-502cd30c5a1c",
                                                "state": "ACTIVE",
                                                "variable_list": [],
                                                "main_task_local_reference": {
                                                    "kind": "app_task",
                                                    "name": "80dbbb84_dag",
                                                    "uuid": "478b0fbd-d324-4105-9cd7-4ce3fe6084e2"
                                                },
                                                "name": "5c108f0d_runbook"
                                            },
                                            "type": "",
                                            "uninstall_runbook": {
                                                "task_definition_list": [
                                                    {
                                                        "target_any_local_reference": {
                                                            "kind": "app_package",
                                                            "name": "Active_Directory_Package",
                                                            "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                                        },
                                                        "retries": "0",
                                                        "description": "",
                                                        "type": "DAG",
                                                        "uuid": "9675d20a-5400-4c5c-91d5-d11cdea4eee9",
                                                        "child_tasks_local_reference_list": [],
                                                        "state": "ACTIVE",
                                                        "attrs": {
                                                            "edges": [],
                                                            "type": ""
                                                        },
                                                        "timeout_secs": "0",
                                                        "message_list": [],
                                                        "variable_list": [],
                                                        "name": "6f292b4a_dag"
                                                    }
                                                ],
                                                "description": "",
                                                "message_list": [],
                                                "uuid": "14b2c564-026a-4367-aa2a-c877796ee3bd",
                                                "state": "ACTIVE",
                                                "variable_list": [],
                                                "main_task_local_reference": {
                                                    "kind": "app_task",
                                                    "name": "6f292b4a_dag",
                                                    "uuid": "9675d20a-5400-4c5c-91d5-d11cdea4eee9"
                                                },
                                                "name": "1f35f88e_runbook"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Install_Crb_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "c4cb5d30-8c86-48fc-8e77-da8eac5b7259",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__DAG_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                    "uuid": "6ad62142-dd3b-4c23-9dc7-7ffa21fdefa8"
                                },
                                "name": "SYS_GEN__Runbook_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                            }
                        },
                        {
                            "description": "System action for creating an application",
                            "message_list": [],
                            "uuid": "1507685a-068a-4505-bbbe-fadf768b0012",
                            "name": "action_create",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_package",
                                            "name": "Active_Directory_Package",
                                            "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "1dd4c4ef-3ad7-451d-8fb8-f22d6f48d1f6",
                                        "child_tasks_local_reference_list": [
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__install_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                "uuid": "7d6f9d5b-e73f-426a-82b2-d800b8c39ad4"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__create_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                "uuid": "ed5cee63-0e2d-427b-9fe3-9fb206c12166"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__start_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                "uuid": "a53033dd-5d59-4cab-8b53-0290e2886635"
                                            }
                                        ],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__create_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "ed5cee63-0e2d-427b-9fe3-9fb206c12166"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "f0fd8555-b7dc-4a25-a644-18cd7b3a4134",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__start_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "a53033dd-5d59-4cab-8b53-0290e2886635"
                                                    }
                                                },
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__install_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                        "uuid": "7d6f9d5b-e73f-426a-82b2-d800b8c39ad4"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "384377dc-864d-46b9-8c88-5f38a7702abf",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__create_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "ed5cee63-0e2d-427b-9fe3-9fb206c12166"
                                                    }
                                                }
                                            ],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Composite_DAG_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_package",
                                            "name": "Active_Directory_Package",
                                            "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "7d6f9d5b-e73f-426a-82b2-d800b8c39ad4",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "SYS_GEN__Runbook_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                "uuid": "c4cb5d30-8c86-48fc-8e77-da8eac5b7259"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__install_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "ed5cee63-0e2d-427b-9fe3-9fb206c12166",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "170603f6_runbook",
                                                "uuid": "939388ca-d0f9-431b-8a79-18cf8af1b6c1"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__create_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "a53033dd-5d59-4cab-8b53-0290e2886635",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "73434119_runbook",
                                                "uuid": "b0d05836-65ef-4427-a537-e25f0ba14e80"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__start_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "2b84f762-c52d-4702-aab4-8d4ad990e7d0",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__Composite_DAG_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                    "uuid": "1dd4c4ef-3ad7-451d-8fb8-f22d6f48d1f6"
                                },
                                "name": "SYS_GEN__Runbook_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                            }
                        },
                        {
                            "description": "System action for uninstalling an application",
                            "message_list": [],
                            "uuid": "3754e8ca-fd09-4bbc-a960-d5ff08a6cd92",
                            "name": "action_uninstall",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_package",
                                            "name": "Active_Directory_Package",
                                            "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "c433a184-08b2-4278-ad95-fd4b871e0d49",
                                        "child_tasks_local_reference_list": [
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__Uninstall_Crb_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                "uuid": "9da2a5bb-c7bd-44d2-88cd-5ba01bb28ff1"
                                            }
                                        ],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__DAG_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_package",
                                            "name": "Active_Directory_Package",
                                            "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CUSTOM_PACKAGE_UNINSTALL",
                                        "uuid": "9da2a5bb-c7bd-44d2-88cd-5ba01bb28ff1",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "install_runbook": {
                                                "task_definition_list": [
                                                    {
                                                        "target_any_local_reference": {
                                                            "kind": "app_package",
                                                            "name": "Active_Directory_Package",
                                                            "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                                        },
                                                        "retries": "0",
                                                        "description": "",
                                                        "type": "DAG",
                                                        "uuid": "478b0fbd-d324-4105-9cd7-4ce3fe6084e2",
                                                        "child_tasks_local_reference_list": [
                                                            {
                                                                "kind": "app_task",
                                                                "name": "Install AD",
                                                                "uuid": "4425b8ad-bed7-4693-ac31-bb4133361a57"
                                                            },
                                                            {
                                                                "kind": "app_task",
                                                                "name": "Wait for VM to Install AD",
                                                                "uuid": "a292f41c-f83a-4949-b9c8-c3c903750fd7"
                                                            },
                                                            {
                                                                "kind": "app_task",
                                                                "name": "Open Firewall Ports",
                                                                "uuid": "e379839d-63eb-47f3-b743-f0581a00202a"
                                                            },
                                                            {
                                                                "kind": "app_task",
                                                                "name": "Install DHCP",
                                                                "uuid": "b6d9e9dd-ecdf-0929-01be-9c64a179f252"
                                                            }
                                                        ],
                                                        "state": "ACTIVE",
                                                        "attrs": {
                                                            "edges": [
                                                                {
                                                                    "from_task_reference": {
                                                                        "kind": "app_task",
                                                                        "name": "Install AD",
                                                                        "uuid": "4425b8ad-bed7-4693-ac31-bb4133361a57"
                                                                    },
                                                                    "edge_type": "user_defined",
                                                                    "type": "",
                                                                    "uuid": "bae465e9-fa62-482a-9be0-485105e84ab0",
                                                                    "to_task_reference": {
                                                                        "kind": "app_task",
                                                                        "name": "Wait for VM to Install AD",
                                                                        "uuid": "a292f41c-f83a-4949-b9c8-c3c903750fd7"
                                                                    }
                                                                },
                                                                {
                                                                    "from_task_reference": {
                                                                        "kind": "app_task",
                                                                        "name": "Wait for VM to Install AD",
                                                                        "uuid": "a292f41c-f83a-4949-b9c8-c3c903750fd7"
                                                                    },
                                                                    "edge_type": "user_defined",
                                                                    "type": "",
                                                                    "uuid": "cbfec70b-ff7d-4ec9-bee4-f3bdd1f88460",
                                                                    "to_task_reference": {
                                                                        "kind": "app_task",
                                                                        "name": "Open Firewall Ports",
                                                                        "uuid": "e379839d-63eb-47f3-b743-f0581a00202a"
                                                                    }
                                                                },
                                                                {
                                                                    "from_task_reference": {
                                                                        "kind": "app_task",
                                                                        "name": "Open Firewall Ports",
                                                                        "uuid": "e379839d-63eb-47f3-b743-f0581a00202a"
                                                                    },
                                                                    "edge_type": "user_defined",
                                                                    "type": "",
                                                                    "uuid": "807ca6a9-099e-8cdb-699e-e9366680337a",
                                                                    "to_task_reference": {
                                                                        "kind": "app_task",
                                                                        "name": "Install DHCP",
                                                                        "uuid": "b6d9e9dd-ecdf-0929-01be-9c64a179f252"
                                                                    }
                                                                }
                                                            ],
                                                            "type": ""
                                                        },
                                                        "timeout_secs": "0",
                                                        "message_list": [],
                                                        "variable_list": [],
                                                        "name": "80dbbb84_dag"
                                                    },
                                                    {
                                                        "target_any_local_reference": {
                                                            "kind": "app_service",
                                                            "name": "AD_DNS_DHCP_SERVICES",
                                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                                        },
                                                        "retries": "0",
                                                        "description": "",
                                                        "type": "EXEC",
                                                        "uuid": "4425b8ad-bed7-4693-ac31-bb4133361a57",
                                                        "child_tasks_local_reference_list": [],
                                                        "state": "ACTIVE",
                                                        "attrs": {
                                                            "exit_status": [],
                                                            "script": "$WS2008R2_MAJOR                 = '6.1'\n$WS2012_MAJOR                   = '6.2'\n$WS2012R2_MAJOR                 = '6.3'\n$WS2016_MAJOR                   = '10.0'\n\n# -*- Checks AD Domain services Installation\nfunction Check-ActiveDirectoryFeature {\n   return $(Get-WindowsFeature AD-Domain-Services -ErrorAction SilentlyContinue).Installed\n}\n# -*- Installs AD Domain services\nfunction Install-ActiveDirectory {\n  Write-Output \"Installing AD Features.\"\n  Install-WindowsFeature -Name AD-Domain-Services -IncludeManagementTools\n}\n# -*- Checks the pre existance of domain\nfunction Check-DomainExistance {\n  #if (Get-ADDomainController -Discover -ErrorAction SilentlyContinue){\n  if (\"$((wmic ComputerSystem get DomainRole)[2])\".trim() -eq \"5\"){\n   return $true\n  }\n  else{\n    return $false\n  }\n}\n# -*- Gets Machine IP address, Netmask, DNS and prefix\nfunction Get-ServerIPAddress {\n  $IPType = \"IPv4\"\n  $IPv4Address = $(Get-NetAdapter | ? {$_.Status -eq \"up\"}| Get-NetIPAddress | ? {$_.AddressFamily -eq \"IPv4\"}).IPv4Address\n  $Prefix = $(Get-NetAdapter | ? {$_.Status -eq \"up\"} | Get-NetIPAddress).PrefixLength[1]\n  $Gateway = \"$((Get-WmiObject Win32_NetworkAdapterConfiguration -EA Stop | ? {$_.IPEnabled}).DefaultIPGateway)\"\n  $DNS = $(Get-NetAdapter | ? {$_.Status -eq \"up\"} | Get-DnsClientServerAddress | ? {$_.AddressFamily -eq 2}).ServerAddresses\n  return $IPType, $IPv4Address, $Prefix, $Gateway, $DNS\n}\n# -*- Removes DHCP IP sets the Static ips which it has got from Get-ServerIPAddress.\nfunction Set-StaticIpAddress {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Name,\n      [parameter(Mandatory=$true)]\n      [string]$IPType,\n      [parameter(Mandatory=$true)]\n      [string]$IPv4Address,\n      [parameter(Mandatory=$true)]\n      [string]$Prefix,\n      [parameter(Mandatory=$false)]\n      [string]$Gateway,\n      [parameter(Mandatory=$false)]\n      [array]$DNS\n  )\n\n  $adapter = Get-NetAdapter -Name $Name | ? {$_.Status -eq \"up\"}\n  If (($adapter | Get-NetIPConfiguration).IPv4Address.IPAddress) {\n      $adapter | Remove-NetIPAddress -AddressFamily $IPType -Confirm:$false\n  }\n  If (($adapter | Get-NetIPConfiguration).Ipv4DefaultGateway) {\n      $adapter | Remove-NetRoute -AddressFamily $IPType -Confirm:$false\n  }\n  if ($Gateway){\n    $adapter | New-NetIPAddress -AddressFamily $IPType -IPAddress \"$IPv4Address\" -PrefixLength $Prefix -DefaultGateway \"$Gateway\"\n  }\n  else{\n    $adapter | New-NetIPAddress -AddressFamily $IPType -IPAddress \"$IPv4Address\" -PrefixLength $Prefix\n  }\n  if ($DNS){\n    $adapter | Set-DnsClientServerAddress -ServerAddresses $DNS\n  }\n}\n\n# -*- Configures AD Domain service\nfunction Configure-ActiveDirectory {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$false)]\n      [string]$DatabasePath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainMode,\n      [parameter(Mandatory=$true)]\n      [string]$ForestMode,\n      [parameter(Mandatory=$false)]\n      [string]$LogPath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$false)]\n      [string]$SysvolPath=\"C:\\Windows\\SYSVOL\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainType,\n      [parameter(Mandatory=$false)]\n      [string]$ChildDomainName\n  )\n  Import-Module ADDSDeployment\n\n  $secpasswd = ConvertTo-SecureString $Password -AsPlainText -Force\n  $credential = New-Object System.Management.Automation.PSCredential(\"$DomainName\\administrator\",$secpasswd)\n  $netbios = $DomainName.Split(\".\")[0].ToUpper()\n  Write-Output \"Configuring Domain services.\"\n  switch ($DomainType){\n    \"DC\"{\n      Install-ADDSForest -CreateDnsDelegation:$false -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainName $DomainName -DomainNetbiosName $netbios -ForestMode $ForestMode -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd\n    }\n    \"ADC\"{\n      Install-ADDSDomainController -NoGlobalCatalog:$false -CreateDnsDelegation:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"CDC\"{\n      Install-ADDSDomain -NoGlobalCatalog:$false -CreateDnsDelegation:$true -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainType \"ChildDomain\" -InstallDns:$true -LogPath $LogPath -NewDomainName $ChildDomainName -NewDomainNetbiosName $ChildDomainName.ToUpper() -ParentDomainName $DomainName -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"RODC\"{\n      Install-ADDSDomainController -AllowPasswordReplicationAccountName @(\"$netbios\\Allowed RODC Password Replication Group\") -NoGlobalCatalog:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DenyPasswordReplicationAccountName @(\"BUILTIN\\Administrators\", \"BUILTIN\\Server Operators\", \"BUILTIN\\Backup Operators\", \"BUILTIN\\Account Operators\", \"$netbios\\Denied RODC Password Replication Group\") -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -ReadOnlyReplica:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    default{\n      Write-Output \"Invalid DomainType\"\n    }\n}\n}\n# -*- Checks whether server has DHCP IP or Static IP.\n# -*- If DHCP it gets IP Details and sets them statically.\nif ($(Get-WmiObject -Class Win32_NetworkAdapterConfiguration -Filter IPEnabled=TRUE).DHCPEnabled){\n  $IPType, $IPv4Address, $Prefix, $Gateway, $DNS = Get-ServerIPAddress\n  if (\"DC\" -eq \"DC\"){\n    $DNS = \"127.0.0.1\"\n  }\n  if (($IPType -eq $Null) -or ($IPv4Address -eq $Null) -or ($Prefix -eq $Null) -or ($Gateway -eq $Null)){\n    Write-Output \"Please pass ipaddress, prefix and gateway address.\"\n  }\n  else{\n    Set-StaticIpAddress \"Ethernet\" $IPType $IPv4Address $Prefix $Gateway $DNS\n  }\n}\nelse{\n  Write-Output \"Static IP Is already set\"\n}\n\nif (Check-ActiveDirectoryFeature){\n  Write-Output \"Active Directory already installed.\"\n}\nelse{\n  Install-ActiveDirectory\n}\n\nif (Check-DomainExistance){\n  Write-Output \"Domain exists already.\"\n}\nelse{\n  $MajorOSVersion= [string](Get-WmiObject Win32_OperatingSystem | Select-Object @{n=\"Major\";e={($_.Version.Split(\".\")[0]+\".\"+$_.Version.Split(\".\")[1])}}).Major\n  if ($MajorOSVersion -eq $WS2012R2_MAJOR){\n    $DomainMode = \"Win2012R2\"\n  }elseif ($MajorOSVersion -eq $WS2016_MAJOR){\n    $DomainMode = \"WinThreshold\"\n  }\n  Configure-ActiveDirectory -DomainName \"@@{DOMAIN}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -DomainMode $DomainMode -ForestMode $DomainMode -DomainType \"@@{DOMAIN_TYPE}@@\" -ChildDomainName \"@@{CHILD_DOMAIN}@@\"\n}\n\nStart-Sleep -Seconds 5\nStart-Process -FilePath \"shutdown.exe\" -ArgumentList (\"/r\", \"/t\", \"5\")\nexit 0",
                                                            "script_type": "npsscript",
                                                            "type": "",
                                                            "command_line_args": "",
                                                            "login_credential_local_reference": {
                                                                "kind": "app_credential",
                                                                "name": "LOCAL",
                                                                "uuid": "afb06fdf-3ede-4786-803b-420954ec117f"
                                                            }
                                                        },
                                                        "timeout_secs": "0",
                                                        "message_list": [],
                                                        "variable_list": [],
                                                        "name": "Install AD"
                                                    },
                                                    {
                                                        "target_any_local_reference": {
                                                            "kind": "app_service",
                                                            "name": "AD_DNS_DHCP_SERVICES",
                                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                                        },
                                                        "retries": "0",
                                                        "description": "",
                                                        "type": "EXEC",
                                                        "uuid": "a292f41c-f83a-4949-b9c8-c3c903750fd7",
                                                        "child_tasks_local_reference_list": [],
                                                        "state": "ACTIVE",
                                                        "attrs": {
                                                            "script_type": "static",
                                                            "type": "",
                                                            "command_line_args": "",
                                                            "exit_status": [],
                                                            "script": "#script\nsleep(90)"
                                                        },
                                                        "timeout_secs": "0",
                                                        "message_list": [],
                                                        "variable_list": [],
                                                        "name": "Wait for VM to Install AD"
                                                    },
                                                    {
                                                        "target_any_local_reference": {
                                                            "kind": "app_service",
                                                            "name": "AD_DNS_DHCP_SERVICES",
                                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                                        },
                                                        "retries": "0",
                                                        "description": "",
                                                        "type": "EXEC",
                                                        "uuid": "e379839d-63eb-47f3-b743-f0581a00202a",
                                                        "child_tasks_local_reference_list": [],
                                                        "state": "ACTIVE",
                                                        "attrs": {
                                                            "exit_status": [],
                                                            "script": "New-NetFirewallRule -DisplayName \"AD\" -Direction Inbound -Protocol UDP -LocalPort 389 -Action allow\nNew-NetFirewallRule -DisplayName \"DNS TCP\" -Direction Inbound -Protocol TCP -LocalPort 53 -Action allow\nNew-NetFirewallRule -DisplayName \"DNS UDP\" -Direction Inbound -Protocol UDP -LocalPort 53 -Action allow\nNew-NetFirewallRule -DisplayName \"GC TCP\" -Direction Inbound -Protocol TCP -LocalPort 3268 -Action allow\nNew-NetFirewallRule -DisplayName \"GC UDP\" -Direction Inbound -Protocol UDP -LocalPort 3269 -Action allow\nNew-NetFirewallRule -DisplayName \"SYSVOL TCP\" -Direction Inbound -Protocol TCP -LocalPort 139 -Action allow\nNew-NetFirewallRule -DisplayName \"SYSVOL UDP\" -Direction Inbound -Protocol UDP -LocalPort 138 -Action allow\nNew-NetFirewallRule -DisplayName \"KERBROS UDP\" -Direction Inbound -Protocol UDP -LocalPort 88 -Action allow\nNew-NetFirewallRule -DisplayName \"AD COM TCP\" -Direction Inbound -Protocol TCP -LocalPort 135 -Action allow\nNew-NetFirewallRule -DisplayName \"AD COM UDP\" -Direction Inbound -Protocol UDP -LocalPort 135 -Action allow\nNew-NetFirewallRule -DisplayName \"KERBROS PW CHANGE TCP\" -Direction Inbound -Protocol TCP -LocalPort 464 -Action allow\nNew-NetFirewallRule -DisplayName \"KERBROS PW CHANGE UDP\" -Direction Inbound -Protocol UDP -LocalPort 464 -Action allow",
                                                            "script_type": "npsscript",
                                                            "type": "",
                                                            "command_line_args": "",
                                                            "login_credential_local_reference": {
                                                                "kind": "app_credential",
                                                                "name": "LOCAL",
                                                                "uuid": "afb06fdf-3ede-4786-803b-420954ec117f"
                                                            }
                                                        },
                                                        "timeout_secs": "0",
                                                        "message_list": [],
                                                        "variable_list": [],
                                                        "name": "Open Firewall Ports"
                                                    },
                                                    {
                                                        "target_any_local_reference": {
                                                            "kind": "app_service",
                                                            "name": "AD_DNS_DHCP_SERVICES",
                                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                                        },
                                                        "retries": "0",
                                                        "description": "",
                                                        "type": "EXEC",
                                                        "uuid": "b6d9e9dd-ecdf-0929-01be-9c64a179f252",
                                                        "child_tasks_local_reference_list": [],
                                                        "state": "ACTIVE",
                                                        "attrs": {
                                                            "exit_status": [],
                                                            "script": "Install-WindowsFeature -Name 'DHCP' IncludeManagementTools\n",
                                                            "script_type": "npsscript",
                                                            "type": "",
                                                            "command_line_args": "",
                                                            "login_credential_local_reference": {
                                                                "kind": "app_credential",
                                                                "name": "DOMAIN_CRED",
                                                                "uuid": "9834ce78-e1a7-4a55-9715-efea4136b462"
                                                            }
                                                        },
                                                        "timeout_secs": "0",
                                                        "message_list": [],
                                                        "variable_list": [],
                                                        "name": "Install DHCP"
                                                    }
                                                ],
                                                "description": "",
                                                "message_list": [],
                                                "uuid": "84d0a143-8b73-48fe-a367-502cd30c5a1c",
                                                "state": "ACTIVE",
                                                "variable_list": [],
                                                "main_task_local_reference": {
                                                    "kind": "app_task",
                                                    "name": "80dbbb84_dag",
                                                    "uuid": "478b0fbd-d324-4105-9cd7-4ce3fe6084e2"
                                                },
                                                "name": "5c108f0d_runbook"
                                            },
                                            "type": "",
                                            "uninstall_runbook": {
                                                "task_definition_list": [
                                                    {
                                                        "target_any_local_reference": {
                                                            "kind": "app_package",
                                                            "name": "Active_Directory_Package",
                                                            "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                                        },
                                                        "retries": "0",
                                                        "description": "",
                                                        "type": "DAG",
                                                        "uuid": "9675d20a-5400-4c5c-91d5-d11cdea4eee9",
                                                        "child_tasks_local_reference_list": [],
                                                        "state": "ACTIVE",
                                                        "attrs": {
                                                            "edges": [],
                                                            "type": ""
                                                        },
                                                        "timeout_secs": "0",
                                                        "message_list": [],
                                                        "variable_list": [],
                                                        "name": "6f292b4a_dag"
                                                    }
                                                ],
                                                "description": "",
                                                "message_list": [],
                                                "uuid": "14b2c564-026a-4367-aa2a-c877796ee3bd",
                                                "state": "ACTIVE",
                                                "variable_list": [],
                                                "main_task_local_reference": {
                                                    "kind": "app_task",
                                                    "name": "6f292b4a_dag",
                                                    "uuid": "9675d20a-5400-4c5c-91d5-d11cdea4eee9"
                                                },
                                                "name": "1f35f88e_runbook"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Uninstall_Crb_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "0389816c-5383-4ae2-b69b-8323d444f62c",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__DAG_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                    "uuid": "c433a184-08b2-4278-ad95-fd4b871e0d49"
                                },
                                "name": "SYS_GEN__Runbook_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                            }
                        },
                        {
                            "description": "System action for deleting an application. Deletes created VMs as well",
                            "message_list": [],
                            "uuid": "8a5542ba-d373-43db-b9c0-aceb1f09d618",
                            "name": "action_delete",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_package",
                                            "name": "Active_Directory_Package",
                                            "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "0336f83c-3c6a-4e67-ac62-21a218c2f753",
                                        "child_tasks_local_reference_list": [
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__stop_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                "uuid": "86075f43-5a3d-4aba-8fb3-62a300455a0e"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__delete_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                "uuid": "2951f4bc-26b4-4646-9229-feeb83b0ac04"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__uninstall_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                "uuid": "005e78f7-71ef-4ecd-9649-fd447c025307"
                                            }
                                        ],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__stop_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "86075f43-5a3d-4aba-8fb3-62a300455a0e"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "edf26387-260b-4920-a020-8f75944c78cb",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__delete_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "2951f4bc-26b4-4646-9229-feeb83b0ac04"
                                                    }
                                                },
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__delete_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "2951f4bc-26b4-4646-9229-feeb83b0ac04"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "84db2eec-781d-46d9-807c-09ecdcecd6b5",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__uninstall_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                        "uuid": "005e78f7-71ef-4ecd-9649-fd447c025307"
                                                    }
                                                }
                                            ],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Composite_DAG_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "86075f43-5a3d-4aba-8fb3-62a300455a0e",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "35799808_runbook",
                                                "uuid": "10f31899-ce24-4f1c-a3b7-cbb5c440ce2e"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__stop_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "2951f4bc-26b4-4646-9229-feeb83b0ac04",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "017e6fe9_runbook",
                                                "uuid": "566d27c5-d188-4d52-88aa-459d14013ac2"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__delete_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_package",
                                            "name": "Active_Directory_Package",
                                            "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "005e78f7-71ef-4ecd-9649-fd447c025307",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "SYS_GEN__Runbook_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                "uuid": "0389816c-5383-4ae2-b69b-8323d444f62c"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__uninstall_CRb_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "147ce5a1-9be0-47f0-a356-66fb1d2c2d66",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__Composite_DAG_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                    "uuid": "0336f83c-3c6a-4e67-ac62-21a218c2f753"
                                },
                                "name": "SYS_GEN__Runbook_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                            }
                        },
                        {
                            "description": "System action for deleting an application. Does not delete created VMs",
                            "message_list": [],
                            "uuid": "40e1af34-beca-4d6e-b2e0-203b80d794ea",
                            "name": "action_soft_delete",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_package",
                                            "name": "Active_Directory_Package",
                                            "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "01a29825-e469-4f52-86b9-225aaae79a38",
                                        "child_tasks_local_reference_list": [
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__soft_delete_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                "uuid": "02b4ac71-1acd-468c-a26b-14b5f1d253eb"
                                            },
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__Package_Element_Delete_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                "uuid": "0dcc1853-b1fd-4e08-a4b4-bc0189b13963"
                                            }
                                        ],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [
                                                {
                                                    "from_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__soft_delete_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                        "uuid": "02b4ac71-1acd-468c-a26b-14b5f1d253eb"
                                                    },
                                                    "edge_type": "inherent",
                                                    "type": "",
                                                    "uuid": "f0ce14af-c2e2-40a5-9ea9-44d3661a72e7",
                                                    "to_task_reference": {
                                                        "kind": "app_task",
                                                        "name": "SYS_GEN__Package_Element_Delete_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                                        "uuid": "0dcc1853-b1fd-4e08-a4b4-bc0189b13963"
                                                    }
                                                }
                                            ],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Composite_DAG_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "02b4ac71-1acd-468c-a26b-14b5f1d253eb",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "SYS_GEN__Runbook_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                "uuid": "ea2950b1-d2ea-4a3b-911b-258182528239"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__soft_delete_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_package",
                                            "name": "Active_Directory_Package",
                                            "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "SOFT_DELETE_ELEMENT",
                                        "uuid": "0dcc1853-b1fd-4e08-a4b4-bc0189b13963",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Package_Element_Delete_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "7638fdf9-b3fc-4323-8025-7c336b1ae162",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__Composite_DAG_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                    "uuid": "01a29825-e469-4f52-86b9-225aaae79a38"
                                },
                                "name": "SYS_GEN__Runbook_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                            }
                        },
                        {
                            "description": "System action for starting an application",
                            "message_list": [],
                            "uuid": "4dab222d-b935-437d-b756-0cce17d7823d",
                            "name": "action_start",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_package",
                                            "name": "Active_Directory_Package",
                                            "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "f6e63ad8-3cba-477d-9a01-df334044e831",
                                        "child_tasks_local_reference_list": [
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__start_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                "uuid": "68c71694-ac02-4818-8c66-1d0e3a03cc0b"
                                            }
                                        ],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Composite_DAG_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "68c71694-ac02-4818-8c66-1d0e3a03cc0b",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "73434119_runbook",
                                                "uuid": "b0d05836-65ef-4427-a537-e25f0ba14e80"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__start_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "36f12e4e-b60d-458d-99ea-cf74a62380eb",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__Composite_DAG_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                    "uuid": "f6e63ad8-3cba-477d-9a01-df334044e831"
                                },
                                "name": "SYS_GEN__Runbook_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                            }
                        },
                        {
                            "description": "System action for restarting an application",
                            "message_list": [],
                            "uuid": "293e99a0-139d-4107-98ef-e55a5f314edb",
                            "name": "action_restart",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_package",
                                            "name": "Active_Directory_Package",
                                            "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "dbcec73d-29e5-42c8-8d5c-b67cb8901ec5",
                                        "child_tasks_local_reference_list": [
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__restart_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                "uuid": "4e847c11-8900-4114-bd30-4decf3fd015b"
                                            }
                                        ],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Composite_DAG_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "4e847c11-8900-4114-bd30-4decf3fd015b",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "0d16f818_runbook",
                                                "uuid": "776d6a68-4177-44ee-a65e-1d2d5f5a766c"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__restart_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "582540a8-4b14-488a-b227-0165ba3d7207",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__Composite_DAG_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                    "uuid": "dbcec73d-29e5-42c8-8d5c-b67cb8901ec5"
                                },
                                "name": "SYS_GEN__Runbook_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                            }
                        },
                        {
                            "description": "System action for stopping an application",
                            "message_list": [],
                            "uuid": "352488f5-04f2-41a3-a4b9-847ff57a011f",
                            "name": "action_stop",
                            "state": "ACTIVE",
                            "critical": true,
                            "attrs": {},
                            "type": "system",
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_package",
                                            "name": "Active_Directory_Package",
                                            "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "DAG",
                                        "uuid": "b203d901-3377-4258-8747-9d8798393912",
                                        "child_tasks_local_reference_list": [
                                            {
                                                "kind": "app_task",
                                                "name": "SYS_GEN__stop_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d",
                                                "uuid": "316c388a-5872-4dc3-8a54-b7a22cdd7437"
                                            }
                                        ],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "edges": [],
                                            "type": "DAG"
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__Composite_DAG_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                                    },
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES",
                                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "type": "CALL_RUNBOOK",
                                        "uuid": "316c388a-5872-4dc3-8a54-b7a22cdd7437",
                                        "child_tasks_local_reference_list": [],
                                        "state": "ACTIVE",
                                        "attrs": {
                                            "inarg_list": [],
                                            "type": "CALL_RUNBOOK",
                                            "runbook_reference": {
                                                "kind": "app_runbook",
                                                "name": "35799808_runbook",
                                                "uuid": "10f31899-ce24-4f1c-a3b7-cbb5c440ce2e"
                                            }
                                        },
                                        "timeout_secs": "0",
                                        "message_list": [],
                                        "variable_list": [],
                                        "name": "SYS_GEN__stop_CRb_Service_072a7158_41a3_470f_9e6a_ad705c8a5c7d"
                                    }
                                ],
                                "description": "",
                                "message_list": [],
                                "uuid": "0e410098-4dda-46b5-bc85-d7e6c1e25755",
                                "state": "ACTIVE",
                                "variable_list": [],
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "SYS_GEN__Composite_DAG_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8",
                                    "uuid": "b203d901-3377-4258-8747-9d8798393912"
                                },
                                "name": "SYS_GEN__Runbook_Package_d392e7a3_6ad7_48d2_9883_1781a4b6d9d8"
                            }
                        }
                    ],
                    "message_list": [],
                    "service_local_reference_list": [
                        {
                            "kind": "app_service",
                            "name": "AD_DNS_DHCP_SERVICES",
                            "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                        }
                    ],
                    "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8",
                    "state": "ACTIVE",
                    "version": "",
                    "editables": {},
                    "type": "DEB",
                    "options": {
                        "install_runbook": {
                            "task_definition_list": [
                                {
                                    "target_any_local_reference": {
                                        "kind": "app_package",
                                        "name": "Active_Directory_Package",
                                        "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                    },
                                    "retries": "0",
                                    "description": "",
                                    "type": "DAG",
                                    "uuid": "478b0fbd-d324-4105-9cd7-4ce3fe6084e2",
                                    "child_tasks_local_reference_list": [
                                        {
                                            "kind": "app_task",
                                            "name": "Install AD",
                                            "uuid": "4425b8ad-bed7-4693-ac31-bb4133361a57"
                                        },
                                        {
                                            "kind": "app_task",
                                            "name": "Wait for VM to Install AD",
                                            "uuid": "a292f41c-f83a-4949-b9c8-c3c903750fd7"
                                        },
                                        {
                                            "kind": "app_task",
                                            "name": "Open Firewall Ports",
                                            "uuid": "e379839d-63eb-47f3-b743-f0581a00202a"
                                        },
                                        {
                                            "kind": "app_task",
                                            "name": "Install DHCP",
                                            "uuid": "b6d9e9dd-ecdf-0929-01be-9c64a179f252"
                                        }
                                    ],
                                    "state": "ACTIVE",
                                    "attrs": {
                                        "edges": [
                                            {
                                                "from_task_reference": {
                                                    "kind": "app_task",
                                                    "name": "Install AD",
                                                    "uuid": "4425b8ad-bed7-4693-ac31-bb4133361a57"
                                                },
                                                "edge_type": "user_defined",
                                                "type": "",
                                                "uuid": "bae465e9-fa62-482a-9be0-485105e84ab0",
                                                "to_task_reference": {
                                                    "kind": "app_task",
                                                    "name": "Wait for VM to Install AD",
                                                    "uuid": "a292f41c-f83a-4949-b9c8-c3c903750fd7"
                                                }
                                            },
                                            {
                                                "from_task_reference": {
                                                    "kind": "app_task",
                                                    "name": "Wait for VM to Install AD",
                                                    "uuid": "a292f41c-f83a-4949-b9c8-c3c903750fd7"
                                                },
                                                "edge_type": "user_defined",
                                                "type": "",
                                                "uuid": "cbfec70b-ff7d-4ec9-bee4-f3bdd1f88460",
                                                "to_task_reference": {
                                                    "kind": "app_task",
                                                    "name": "Open Firewall Ports",
                                                    "uuid": "e379839d-63eb-47f3-b743-f0581a00202a"
                                                }
                                            },
                                            {
                                                "from_task_reference": {
                                                    "kind": "app_task",
                                                    "name": "Open Firewall Ports",
                                                    "uuid": "e379839d-63eb-47f3-b743-f0581a00202a"
                                                },
                                                "edge_type": "user_defined",
                                                "type": "",
                                                "uuid": "807ca6a9-099e-8cdb-699e-e9366680337a",
                                                "to_task_reference": {
                                                    "kind": "app_task",
                                                    "name": "Install DHCP",
                                                    "uuid": "b6d9e9dd-ecdf-0929-01be-9c64a179f252"
                                                }
                                            }
                                        ],
                                        "type": ""
                                    },
                                    "timeout_secs": "0",
                                    "message_list": [],
                                    "variable_list": [],
                                    "name": "80dbbb84_dag"
                                },
                                {
                                    "target_any_local_reference": {
                                        "kind": "app_service",
                                        "name": "AD_DNS_DHCP_SERVICES",
                                        "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                    },
                                    "retries": "0",
                                    "description": "",
                                    "type": "EXEC",
                                    "uuid": "4425b8ad-bed7-4693-ac31-bb4133361a57",
                                    "child_tasks_local_reference_list": [],
                                    "state": "ACTIVE",
                                    "attrs": {
                                        "exit_status": [],
                                        "script": "$WS2008R2_MAJOR                 = '6.1'\n$WS2012_MAJOR                   = '6.2'\n$WS2012R2_MAJOR                 = '6.3'\n$WS2016_MAJOR                   = '10.0'\n\n# -*- Checks AD Domain services Installation\nfunction Check-ActiveDirectoryFeature {\n   return $(Get-WindowsFeature AD-Domain-Services -ErrorAction SilentlyContinue).Installed\n}\n# -*- Installs AD Domain services\nfunction Install-ActiveDirectory {\n  Write-Output \"Installing AD Features.\"\n  Install-WindowsFeature -Name AD-Domain-Services -IncludeManagementTools\n}\n# -*- Checks the pre existance of domain\nfunction Check-DomainExistance {\n  #if (Get-ADDomainController -Discover -ErrorAction SilentlyContinue){\n  if (\"$((wmic ComputerSystem get DomainRole)[2])\".trim() -eq \"5\"){\n   return $true\n  }\n  else{\n    return $false\n  }\n}\n# -*- Gets Machine IP address, Netmask, DNS and prefix\nfunction Get-ServerIPAddress {\n  $IPType = \"IPv4\"\n  $IPv4Address = $(Get-NetAdapter | ? {$_.Status -eq \"up\"}| Get-NetIPAddress | ? {$_.AddressFamily -eq \"IPv4\"}).IPv4Address\n  $Prefix = $(Get-NetAdapter | ? {$_.Status -eq \"up\"} | Get-NetIPAddress).PrefixLength[1]\n  $Gateway = \"$((Get-WmiObject Win32_NetworkAdapterConfiguration -EA Stop | ? {$_.IPEnabled}).DefaultIPGateway)\"\n  $DNS = $(Get-NetAdapter | ? {$_.Status -eq \"up\"} | Get-DnsClientServerAddress | ? {$_.AddressFamily -eq 2}).ServerAddresses\n  return $IPType, $IPv4Address, $Prefix, $Gateway, $DNS\n}\n# -*- Removes DHCP IP sets the Static ips which it has got from Get-ServerIPAddress.\nfunction Set-StaticIpAddress {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Name,\n      [parameter(Mandatory=$true)]\n      [string]$IPType,\n      [parameter(Mandatory=$true)]\n      [string]$IPv4Address,\n      [parameter(Mandatory=$true)]\n      [string]$Prefix,\n      [parameter(Mandatory=$false)]\n      [string]$Gateway,\n      [parameter(Mandatory=$false)]\n      [array]$DNS\n  )\n\n  $adapter = Get-NetAdapter -Name $Name | ? {$_.Status -eq \"up\"}\n  If (($adapter | Get-NetIPConfiguration).IPv4Address.IPAddress) {\n      $adapter | Remove-NetIPAddress -AddressFamily $IPType -Confirm:$false\n  }\n  If (($adapter | Get-NetIPConfiguration).Ipv4DefaultGateway) {\n      $adapter | Remove-NetRoute -AddressFamily $IPType -Confirm:$false\n  }\n  if ($Gateway){\n    $adapter | New-NetIPAddress -AddressFamily $IPType -IPAddress \"$IPv4Address\" -PrefixLength $Prefix -DefaultGateway \"$Gateway\"\n  }\n  else{\n    $adapter | New-NetIPAddress -AddressFamily $IPType -IPAddress \"$IPv4Address\" -PrefixLength $Prefix\n  }\n  if ($DNS){\n    $adapter | Set-DnsClientServerAddress -ServerAddresses $DNS\n  }\n}\n\n# -*- Configures AD Domain service\nfunction Configure-ActiveDirectory {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$false)]\n      [string]$DatabasePath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainMode,\n      [parameter(Mandatory=$true)]\n      [string]$ForestMode,\n      [parameter(Mandatory=$false)]\n      [string]$LogPath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$false)]\n      [string]$SysvolPath=\"C:\\Windows\\SYSVOL\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainType,\n      [parameter(Mandatory=$false)]\n      [string]$ChildDomainName\n  )\n  Import-Module ADDSDeployment\n\n  $secpasswd = ConvertTo-SecureString $Password -AsPlainText -Force\n  $credential = New-Object System.Management.Automation.PSCredential(\"$DomainName\\administrator\",$secpasswd)\n  $netbios = $DomainName.Split(\".\")[0].ToUpper()\n  Write-Output \"Configuring Domain services.\"\n  switch ($DomainType){\n    \"DC\"{\n      Install-ADDSForest -CreateDnsDelegation:$false -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainName $DomainName -DomainNetbiosName $netbios -ForestMode $ForestMode -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd\n    }\n    \"ADC\"{\n      Install-ADDSDomainController -NoGlobalCatalog:$false -CreateDnsDelegation:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"CDC\"{\n      Install-ADDSDomain -NoGlobalCatalog:$false -CreateDnsDelegation:$true -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainType \"ChildDomain\" -InstallDns:$true -LogPath $LogPath -NewDomainName $ChildDomainName -NewDomainNetbiosName $ChildDomainName.ToUpper() -ParentDomainName $DomainName -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"RODC\"{\n      Install-ADDSDomainController -AllowPasswordReplicationAccountName @(\"$netbios\\Allowed RODC Password Replication Group\") -NoGlobalCatalog:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DenyPasswordReplicationAccountName @(\"BUILTIN\\Administrators\", \"BUILTIN\\Server Operators\", \"BUILTIN\\Backup Operators\", \"BUILTIN\\Account Operators\", \"$netbios\\Denied RODC Password Replication Group\") -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -ReadOnlyReplica:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    default{\n      Write-Output \"Invalid DomainType\"\n    }\n}\n}\n# -*- Checks whether server has DHCP IP or Static IP.\n# -*- If DHCP it gets IP Details and sets them statically.\nif ($(Get-WmiObject -Class Win32_NetworkAdapterConfiguration -Filter IPEnabled=TRUE).DHCPEnabled){\n  $IPType, $IPv4Address, $Prefix, $Gateway, $DNS = Get-ServerIPAddress\n  if (\"DC\" -eq \"DC\"){\n    $DNS = \"127.0.0.1\"\n  }\n  if (($IPType -eq $Null) -or ($IPv4Address -eq $Null) -or ($Prefix -eq $Null) -or ($Gateway -eq $Null)){\n    Write-Output \"Please pass ipaddress, prefix and gateway address.\"\n  }\n  else{\n    Set-StaticIpAddress \"Ethernet\" $IPType $IPv4Address $Prefix $Gateway $DNS\n  }\n}\nelse{\n  Write-Output \"Static IP Is already set\"\n}\n\nif (Check-ActiveDirectoryFeature){\n  Write-Output \"Active Directory already installed.\"\n}\nelse{\n  Install-ActiveDirectory\n}\n\nif (Check-DomainExistance){\n  Write-Output \"Domain exists already.\"\n}\nelse{\n  $MajorOSVersion= [string](Get-WmiObject Win32_OperatingSystem | Select-Object @{n=\"Major\";e={($_.Version.Split(\".\")[0]+\".\"+$_.Version.Split(\".\")[1])}}).Major\n  if ($MajorOSVersion -eq $WS2012R2_MAJOR){\n    $DomainMode = \"Win2012R2\"\n  }elseif ($MajorOSVersion -eq $WS2016_MAJOR){\n    $DomainMode = \"WinThreshold\"\n  }\n  Configure-ActiveDirectory -DomainName \"@@{DOMAIN}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -DomainMode $DomainMode -ForestMode $DomainMode -DomainType \"@@{DOMAIN_TYPE}@@\" -ChildDomainName \"@@{CHILD_DOMAIN}@@\"\n}\n\nStart-Sleep -Seconds 5\nStart-Process -FilePath \"shutdown.exe\" -ArgumentList (\"/r\", \"/t\", \"5\")\nexit 0",
                                        "script_type": "npsscript",
                                        "type": "",
                                        "command_line_args": "",
                                        "login_credential_local_reference": {
                                            "kind": "app_credential",
                                            "name": "LOCAL",
                                            "uuid": "afb06fdf-3ede-4786-803b-420954ec117f"
                                        }
                                    },
                                    "timeout_secs": "0",
                                    "message_list": [],
                                    "variable_list": [],
                                    "name": "Install AD"
                                },
                                {
                                    "target_any_local_reference": {
                                        "kind": "app_service",
                                        "name": "AD_DNS_DHCP_SERVICES",
                                        "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                    },
                                    "retries": "0",
                                    "description": "",
                                    "type": "EXEC",
                                    "uuid": "a292f41c-f83a-4949-b9c8-c3c903750fd7",
                                    "child_tasks_local_reference_list": [],
                                    "state": "ACTIVE",
                                    "attrs": {
                                        "script_type": "static",
                                        "type": "",
                                        "command_line_args": "",
                                        "exit_status": [],
                                        "script": "#script\nsleep(90)"
                                    },
                                    "timeout_secs": "0",
                                    "message_list": [],
                                    "variable_list": [],
                                    "name": "Wait for VM to Install AD"
                                },
                                {
                                    "target_any_local_reference": {
                                        "kind": "app_service",
                                        "name": "AD_DNS_DHCP_SERVICES",
                                        "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                    },
                                    "retries": "0",
                                    "description": "",
                                    "type": "EXEC",
                                    "uuid": "e379839d-63eb-47f3-b743-f0581a00202a",
                                    "child_tasks_local_reference_list": [],
                                    "state": "ACTIVE",
                                    "attrs": {
                                        "exit_status": [],
                                        "script": "New-NetFirewallRule -DisplayName \"AD\" -Direction Inbound -Protocol UDP -LocalPort 389 -Action allow\nNew-NetFirewallRule -DisplayName \"DNS TCP\" -Direction Inbound -Protocol TCP -LocalPort 53 -Action allow\nNew-NetFirewallRule -DisplayName \"DNS UDP\" -Direction Inbound -Protocol UDP -LocalPort 53 -Action allow\nNew-NetFirewallRule -DisplayName \"GC TCP\" -Direction Inbound -Protocol TCP -LocalPort 3268 -Action allow\nNew-NetFirewallRule -DisplayName \"GC UDP\" -Direction Inbound -Protocol UDP -LocalPort 3269 -Action allow\nNew-NetFirewallRule -DisplayName \"SYSVOL TCP\" -Direction Inbound -Protocol TCP -LocalPort 139 -Action allow\nNew-NetFirewallRule -DisplayName \"SYSVOL UDP\" -Direction Inbound -Protocol UDP -LocalPort 138 -Action allow\nNew-NetFirewallRule -DisplayName \"KERBROS UDP\" -Direction Inbound -Protocol UDP -LocalPort 88 -Action allow\nNew-NetFirewallRule -DisplayName \"AD COM TCP\" -Direction Inbound -Protocol TCP -LocalPort 135 -Action allow\nNew-NetFirewallRule -DisplayName \"AD COM UDP\" -Direction Inbound -Protocol UDP -LocalPort 135 -Action allow\nNew-NetFirewallRule -DisplayName \"KERBROS PW CHANGE TCP\" -Direction Inbound -Protocol TCP -LocalPort 464 -Action allow\nNew-NetFirewallRule -DisplayName \"KERBROS PW CHANGE UDP\" -Direction Inbound -Protocol UDP -LocalPort 464 -Action allow",
                                        "script_type": "npsscript",
                                        "type": "",
                                        "command_line_args": "",
                                        "login_credential_local_reference": {
                                            "kind": "app_credential",
                                            "name": "LOCAL",
                                            "uuid": "afb06fdf-3ede-4786-803b-420954ec117f"
                                        }
                                    },
                                    "timeout_secs": "0",
                                    "message_list": [],
                                    "variable_list": [],
                                    "name": "Open Firewall Ports"
                                },
                                {
                                    "target_any_local_reference": {
                                        "kind": "app_service",
                                        "name": "AD_DNS_DHCP_SERVICES",
                                        "uuid": "072a7158-41a3-470f-9e6a-ad705c8a5c7d"
                                    },
                                    "retries": "0",
                                    "description": "",
                                    "type": "EXEC",
                                    "uuid": "b6d9e9dd-ecdf-0929-01be-9c64a179f252",
                                    "child_tasks_local_reference_list": [],
                                    "state": "ACTIVE",
                                    "attrs": {
                                        "exit_status": [],
                                        "script": "Install-WindowsFeature -Name 'DHCP' IncludeManagementTools\n",
                                        "script_type": "npsscript",
                                        "type": "",
                                        "command_line_args": "",
                                        "login_credential_local_reference": {
                                            "kind": "app_credential",
                                            "name": "DOMAIN_CRED",
                                            "uuid": "9834ce78-e1a7-4a55-9715-efea4136b462"
                                        }
                                    },
                                    "timeout_secs": "0",
                                    "message_list": [],
                                    "variable_list": [],
                                    "name": "Install DHCP"
                                }
                            ],
                            "description": "",
                            "message_list": [],
                            "uuid": "84d0a143-8b73-48fe-a367-502cd30c5a1c",
                            "state": "ACTIVE",
                            "variable_list": [],
                            "main_task_local_reference": {
                                "kind": "app_task",
                                "name": "80dbbb84_dag",
                                "uuid": "478b0fbd-d324-4105-9cd7-4ce3fe6084e2"
                            },
                            "name": "5c108f0d_runbook"
                        },
                        "type": "",
                        "uninstall_runbook": {
                            "task_definition_list": [
                                {
                                    "target_any_local_reference": {
                                        "kind": "app_package",
                                        "name": "Active_Directory_Package",
                                        "uuid": "d392e7a3-6ad7-48d2-9883-1781a4b6d9d8"
                                    },
                                    "retries": "0",
                                    "description": "",
                                    "type": "DAG",
                                    "uuid": "9675d20a-5400-4c5c-91d5-d11cdea4eee9",
                                    "child_tasks_local_reference_list": [],
                                    "state": "ACTIVE",
                                    "attrs": {
                                        "edges": [],
                                        "type": ""
                                    },
                                    "timeout_secs": "0",
                                    "message_list": [],
                                    "variable_list": [],
                                    "name": "6f292b4a_dag"
                                }
                            ],
                            "description": "",
                            "message_list": [],
                            "uuid": "14b2c564-026a-4367-aa2a-c877796ee3bd",
                            "state": "ACTIVE",
                            "variable_list": [],
                            "main_task_local_reference": {
                                "kind": "app_task",
                                "name": "6f292b4a_dag",
                                "uuid": "9675d20a-5400-4c5c-91d5-d11cdea4eee9"
                            },
                            "name": "1f35f88e_runbook"
                        }
                    },
                    "variable_list": [],
                    "name": "Active_Directory_Package"
                }
            ]
        },
        "name": "AD-DNS-DHCP"
    },
    "spec": {
        "description": "",
        "resources": {
            "client_attrs": {
                "1bd2d70a_deployment": {
                    "y": -1161.1560680712,
                    "x": -553.1756075733
                }
            },
            "service_definition_list": [
                {
                    "singleton": false,
                    "action_list": [
                        {
                            "description": "System action for creating an application",
                            "type": "system",
                            "critical": false,
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "child_tasks_local_reference_list": [],
                                        "name": "e8ae6024_dag",
                                        "attrs": {
                                            "edges": [],
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "type": "DAG",
                                        "variable_list": []
                                    }
                                ],
                                "description": "",
                                "name": "170603f6_runbook",
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "e8ae6024_dag"
                                },
                                "variable_list": []
                            },
                            "name": "action_create"
                        },
                        {
                            "description": "System action for deleting an application. Deletes created VMs as well",
                            "type": "system",
                            "critical": false,
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "child_tasks_local_reference_list": [],
                                        "name": "f25e9ca6_dag",
                                        "attrs": {
                                            "edges": [],
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "type": "DAG",
                                        "variable_list": []
                                    }
                                ],
                                "description": "",
                                "name": "017e6fe9_runbook",
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "f25e9ca6_dag"
                                },
                                "variable_list": []
                            },
                            "name": "action_delete"
                        },
                        {
                            "description": "System action for starting an application",
                            "type": "system",
                            "critical": false,
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "child_tasks_local_reference_list": [],
                                        "name": "7cd4b387_dag",
                                        "attrs": {
                                            "edges": [],
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "type": "DAG",
                                        "variable_list": []
                                    }
                                ],
                                "description": "",
                                "name": "73434119_runbook",
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "7cd4b387_dag"
                                },
                                "variable_list": []
                            },
                            "name": "action_start"
                        },
                        {
                            "description": "System action for stopping an application",
                            "type": "system",
                            "critical": false,
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "child_tasks_local_reference_list": [],
                                        "name": "83f2a218_dag",
                                        "attrs": {
                                            "edges": [],
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "type": "DAG",
                                        "variable_list": []
                                    }
                                ],
                                "description": "",
                                "name": "35799808_runbook",
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "83f2a218_dag"
                                },
                                "variable_list": []
                            },
                            "name": "action_stop"
                        },
                        {
                            "description": "System action for restarting an application",
                            "type": "system",
                            "critical": false,
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_service",
                                            "name": "AD_DNS_DHCP_SERVICES"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "child_tasks_local_reference_list": [],
                                        "name": "7078cac1_dag",
                                        "attrs": {
                                            "edges": [],
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "type": "DAG",
                                        "variable_list": []
                                    }
                                ],
                                "description": "",
                                "name": "0d16f818_runbook",
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "7078cac1_dag"
                                },
                                "variable_list": []
                            },
                            "name": "action_restart"
                        }
                    ],
                    "depends_on_list": [],
                    "name": "AD_DNS_DHCP_SERVICES",
                    "port_list": [],
                    "tier": "",
                    "variable_list": [],
                    "description": ""
                }
            ],
            "substrate_definition_list": [
                {
                    "description": "",
                    "action_list": [
                        {
                            "description": "",
                            "type": "fragment",
                            "critical": false,
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "child_tasks_local_reference_list": [],
                                        "name": "c439f5e7_dag",
                                        "attrs": {
                                            "edges": [],
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "type": "DAG",
                                        "variable_list": []
                                    }
                                ],
                                "description": "",
                                "name": "d1d02e7c_runbook",
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "c439f5e7_dag"
                                },
                                "variable_list": []
                            },
                            "name": "pre_action_create"
                        },
                        {
                            "description": "",
                            "type": "fragment",
                            "critical": false,
                            "runbook": {
                                "task_definition_list": [
                                    {
                                        "target_any_local_reference": {
                                            "kind": "app_substrate",
                                            "name": "AD_DNS_DHCP_SERVER"
                                        },
                                        "retries": "0",
                                        "description": "",
                                        "child_tasks_local_reference_list": [],
                                        "name": "23aa1f39_dag",
                                        "attrs": {
                                            "edges": [],
                                            "type": ""
                                        },
                                        "timeout_secs": "0",
                                        "type": "DAG",
                                        "variable_list": []
                                    }
                                ],
                                "description": "",
                                "name": "3169354b_runbook",
                                "main_task_local_reference": {
                                    "kind": "app_task",
                                    "name": "23aa1f39_dag"
                                },
                                "variable_list": []
                            },
                            "name": "post_action_delete"
                        }
                    ],
                    "type": "AHV_VM",
                    "name": "AD_DNS_DHCP_SERVER",
                    "readiness_probe": {
                        "connection_type": "POWERSHELL",
                        "retries": "5",
                        "connection_protocol": "",
                        "connection_port": 5985,
                        "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
                        "delay_secs": "180",
                        "disable_readiness_probe": false,
                        "login_credential_local_reference": {
                            "kind": "app_credential",
                            "name": "LOCAL"
                        }
                    },
                    "editables": {
                        "readiness_probe": {
                            "connection_type": true,
                            "delay_secs": true,
                            "connection_port": true,
                            "timeout_secs": true
                        },
                        "create_spec": {
                            "name": true,
                            "resources": {
                                "nic_list": {},
                                "serial_port_list": {},
                                "num_vcpus_per_socket": true,
                                "num_sockets": true,
                                "memory_size_mib": true,
                                "boot_config": true,
                                "guest_customization": true,
                                "disk_list": {}
                            }
                        }
                    },
                    "os_type": "Windows",
                    "create_spec": {
                        "name": "AD-DNS-DHCP_SERVER@@{calm_random}@@",
                        "resources": {
                            "nic_list": [
                                {
                                    "nic_type": "NORMAL_NIC",
                                    "ip_endpoint_list": [],
                                    "network_function_chain_reference": null,
                                    "network_function_nic_type": "INGRESS",
                                    "mac_address": "",
                                    "subnet_reference": {
                                        "kind": "subnet",
                                        "type": "",
                                        "name": "",
                                        "uuid": "770f3a15-a38f-48e0-ba03-23b544da9f2e"
                                    },
                                    "type": ""
                                }
                            ],
                            "serial_port_list": [],
                            "guest_tools": null,
                            "num_vcpus_per_socket": 1,
                            "num_sockets": 2,
                            "gpu_list": [],
                            "memory_size_mib": 4096,
                            "parent_reference": null,
                            "hardware_clock_timezone": "",
                            "guest_customization": {
                                "cloud_init": null,
                                "type": "",
                                "sysprep": {
                                    "is_domain": false,
                                    "install_type": "PREPARED",
                                    "domain_credential_reference": null,
                                    "domain": "",
                                    "dns_ip": "",
                                    "dns_search_path": "",
                                    "unattend_xml": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <ComputerName>@@{VMNAME}@@</ComputerName>\n         <RegisteredOrganization>Nutanix</RegisteredOrganization>\n         <RegisteredOwner>Acropolis</RegisteredOwner>\n         <TimeZone>EST</TimeZone>\n      </component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false</fDenyTSConnections>\n      </component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0</UserAuthentication>\n      </component>\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true</Active>\n               <Profile>all</Profile>\n               <Group>@FirewallAPI.dll,-28752</Group>\n            </FirewallGroup>\n         </FirewallGroups>\n      </component>\n   </settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>nutanix/4u</Value>\n               <PlainText>true</PlainText>\n            </AdministratorPassword>\n         </UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>nutanix/4u</Value>\n               <PlainText>true</PlainText>\n            </Password>\n            <Enabled>true</Enabled>\n            <Username>administrator</Username>\n         </AutoLogon>\n         <FirstLogonCommands>\n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe /c netsh firewall add portopening TCP 5985 \"Port 5985\"</CommandLine>\n               <Description>Win RM port open</Description>\n               <Order>1</Order>\n               <RequiresUserInput>true</RequiresUserInput>\n            </SynchronousCommand>\n\t\t\t<SynchronousCommand wcm:action=\"add\">\n               <CommandLine>powershell -Command \"Enable-PSRemoting -SkipNetworkProfileCheck -Force\"</CommandLine>\n               <Description>Enable PS-Remoting</Description>\n               <Order>2</Order>\n               <RequiresUserInput>true</RequiresUserInput>\n            </SynchronousCommand>\n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>powershell -Command \"Set-ExecutionPolicy -ExecutionPolicy RemoteSigned\"</CommandLine>\n               <Description>Enable Remote-Signing</Description>\n               <Order>3</Order>\n               <RequiresUserInput>false</RequiresUserInput>\n            </SynchronousCommand>\n         </FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true</HideEULAPage>\n            <SkipMachineOOBE>true</SkipMachineOOBE>\n         </OOBE>\n      </component>\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>en-US</InputLocale>\n         <SystemLocale>en-US</SystemLocale>\n         <UILanguageFallback>en-us</UILanguageFallback>\n         <UILanguage>en-US</UILanguage>\n         <UserLocale>en-US</UserLocale>\n      </component>\n   </settings>\n</unattend>",
                                    "type": ""
                                }
                            },
                            "power_state": "ON",
                            "type": "",
                            "account_uuid": "32f41150-970c-4a92-9fec-0f144eb42fdd",
                            "boot_config": {
                                "boot_device": {
                                    "type": "",
                                    "disk_address": {
                                        "type": "",
                                        "device_index": 0,
                                        "adapter_type": "SCSI"
                                    }
                                },
                                "type": "",
                                "boot_type": "",
                                "mac_address": ""
                            },
                            "disk_list": [
                                {
                                    "data_source_reference": {
                                        "kind": "image",
                                        "type": "",
                                        "name": "WindowsServer2016-Base.qcow2",
                                        "uuid": "eb9fd9f8-ffc2-4f42-a4fd-47b4365fb32b"
                                    },
                                    "type": "",
                                    "disk_size_mib": 0,
                                    "volume_group_reference": null,
                                    "device_properties": {
                                        "type": "",
                                        "disk_address": {
                                            "type": "",
                                            "device_index": 0,
                                            "adapter_type": "SCSI"
                                        },
                                        "device_type": "DISK"
                                    }
                                }
                            ]
                        },
                        "availability_zone_reference": null,
                        "backup_policy": null,
                        "type": "",
                        "cluster_reference": null,
                        "categories": ""
                    },
                    "variable_list": []
                }
            ],
            "endpoint_definition_list": [],
            "credential_definition_list": [
                {
                    "username": "administrator",
                    "description": "",
                    "type": "PASSWORD",
                    "secret": {
                        "attrs": {
                            "is_secret_modified": false,
                            "secret_reference": {}
                        }
                    },
                    "name": "LOCAL",
                    "editables": {
                        "username": true,
                        "secret": true
                    }
                },
                {
                    "username": "administrator@contoso.com",
                    "description": "",
                    "type": "PASSWORD",
                    "secret": {
                        "attrs": {
                            "is_secret_modified": false,
                            "secret_reference": {}
                        }
                    },
                    "name": "DOMAIN_CRED",
                    "editables": {
                        "username": true,
                        "secret": true
                    }
                }
            ],
            "package_definition_list": [
                {
                    "description": "",
                    "action_list": [],
                    "type": "DEB",
                    "service_local_reference_list": [
                        {
                            "kind": "app_service",
                            "name": "AD_DNS_DHCP_SERVICES"
                        }
                    ],
                    "name": "Active_Directory_Package",
                    "version": "",
                    "options": {
                        "install_runbook": {
                            "task_definition_list": [
                                {
                                    "target_any_local_reference": {
                                        "kind": "app_package",
                                        "name": "Active_Directory_Package"
                                    },
                                    "retries": "0",
                                    "description": "",
                                    "child_tasks_local_reference_list": [
                                        {
                                            "kind": "app_task",
                                            "name": "Install AD"
                                        },
                                        {
                                            "kind": "app_task",
                                            "name": "Wait for VM to Install AD"
                                        },
                                        {
                                            "kind": "app_task",
                                            "name": "Open Firewall Ports"
                                        },
                                        {
                                            "kind": "app_task",
                                            "name": "Install DHCP"
                                        }
                                    ],
                                    "name": "80dbbb84_dag",
                                    "attrs": {
                                        "edges": [
                                            {
                                                "from_task_reference": {
                                                    "kind": "app_task",
                                                    "name": "Install AD"
                                                },
                                                "edge_type": "user_defined",
                                                "type": "",
                                                "to_task_reference": {
                                                    "kind": "app_task",
                                                    "name": "Wait for VM to Install AD"
                                                }
                                            },
                                            {
                                                "from_task_reference": {
                                                    "kind": "app_task",
                                                    "name": "Wait for VM to Install AD"
                                                },
                                                "edge_type": "user_defined",
                                                "type": "",
                                                "to_task_reference": {
                                                    "kind": "app_task",
                                                    "name": "Open Firewall Ports"
                                                }
                                            },
                                            {
                                                "from_task_reference": {
                                                    "kind": "app_task",
                                                    "name": "Open Firewall Ports"
                                                },
                                                "edge_type": "user_defined",
                                                "type": "",
                                                "to_task_reference": {
                                                    "kind": "app_task",
                                                    "name": "Install DHCP"
                                                }
                                            }
                                        ],
                                        "type": ""
                                    },
                                    "timeout_secs": "0",
                                    "type": "DAG",
                                    "variable_list": []
                                },
                                {
                                    "target_any_local_reference": {
                                        "kind": "app_service",
                                        "name": "AD_DNS_DHCP_SERVICES"
                                    },
                                    "retries": "0",
                                    "description": "",
                                    "child_tasks_local_reference_list": [],
                                    "name": "Install AD",
                                    "attrs": {
                                        "exit_status": [],
                                        "script": "$WS2008R2_MAJOR                 = '6.1'\n$WS2012_MAJOR                   = '6.2'\n$WS2012R2_MAJOR                 = '6.3'\n$WS2016_MAJOR                   = '10.0'\n\n# -*- Checks AD Domain services Installation\nfunction Check-ActiveDirectoryFeature {\n   return $(Get-WindowsFeature AD-Domain-Services -ErrorAction SilentlyContinue).Installed\n}\n# -*- Installs AD Domain services\nfunction Install-ActiveDirectory {\n  Write-Output \"Installing AD Features.\"\n  Install-WindowsFeature -Name AD-Domain-Services -IncludeManagementTools\n}\n# -*- Checks the pre existance of domain\nfunction Check-DomainExistance {\n  #if (Get-ADDomainController -Discover -ErrorAction SilentlyContinue){\n  if (\"$((wmic ComputerSystem get DomainRole)[2])\".trim() -eq \"5\"){\n   return $true\n  }\n  else{\n    return $false\n  }\n}\n# -*- Gets Machine IP address, Netmask, DNS and prefix\nfunction Get-ServerIPAddress {\n  $IPType = \"IPv4\"\n  $IPv4Address = $(Get-NetAdapter | ? {$_.Status -eq \"up\"}| Get-NetIPAddress | ? {$_.AddressFamily -eq \"IPv4\"}).IPv4Address\n  $Prefix = $(Get-NetAdapter | ? {$_.Status -eq \"up\"} | Get-NetIPAddress).PrefixLength[1]\n  $Gateway = \"$((Get-WmiObject Win32_NetworkAdapterConfiguration -EA Stop | ? {$_.IPEnabled}).DefaultIPGateway)\"\n  $DNS = $(Get-NetAdapter | ? {$_.Status -eq \"up\"} | Get-DnsClientServerAddress | ? {$_.AddressFamily -eq 2}).ServerAddresses\n  return $IPType, $IPv4Address, $Prefix, $Gateway, $DNS\n}\n# -*- Removes DHCP IP sets the Static ips which it has got from Get-ServerIPAddress.\nfunction Set-StaticIpAddress {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Name,\n      [parameter(Mandatory=$true)]\n      [string]$IPType,\n      [parameter(Mandatory=$true)]\n      [string]$IPv4Address,\n      [parameter(Mandatory=$true)]\n      [string]$Prefix,\n      [parameter(Mandatory=$false)]\n      [string]$Gateway,\n      [parameter(Mandatory=$false)]\n      [array]$DNS\n  )\n\n  $adapter = Get-NetAdapter -Name $Name | ? {$_.Status -eq \"up\"}\n  If (($adapter | Get-NetIPConfiguration).IPv4Address.IPAddress) {\n      $adapter | Remove-NetIPAddress -AddressFamily $IPType -Confirm:$false\n  }\n  If (($adapter | Get-NetIPConfiguration).Ipv4DefaultGateway) {\n      $adapter | Remove-NetRoute -AddressFamily $IPType -Confirm:$false\n  }\n  if ($Gateway){\n    $adapter | New-NetIPAddress -AddressFamily $IPType -IPAddress \"$IPv4Address\" -PrefixLength $Prefix -DefaultGateway \"$Gateway\"\n  }\n  else{\n    $adapter | New-NetIPAddress -AddressFamily $IPType -IPAddress \"$IPv4Address\" -PrefixLength $Prefix\n  }\n  if ($DNS){\n    $adapter | Set-DnsClientServerAddress -ServerAddresses $DNS\n  }\n}\n\n# -*- Configures AD Domain service\nfunction Configure-ActiveDirectory {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$false)]\n      [string]$DatabasePath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainMode,\n      [parameter(Mandatory=$true)]\n      [string]$ForestMode,\n      [parameter(Mandatory=$false)]\n      [string]$LogPath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$false)]\n      [string]$SysvolPath=\"C:\\Windows\\SYSVOL\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainType,\n      [parameter(Mandatory=$false)]\n      [string]$ChildDomainName\n  )\n  Import-Module ADDSDeployment\n\n  $secpasswd = ConvertTo-SecureString $Password -AsPlainText -Force\n  $credential = New-Object System.Management.Automation.PSCredential(\"$DomainName\\administrator\",$secpasswd)\n  $netbios = $DomainName.Split(\".\")[0].ToUpper()\n  Write-Output \"Configuring Domain services.\"\n  switch ($DomainType){\n    \"DC\"{\n      Install-ADDSForest -CreateDnsDelegation:$false -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainName $DomainName -DomainNetbiosName $netbios -ForestMode $ForestMode -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd\n    }\n    \"ADC\"{\n      Install-ADDSDomainController -NoGlobalCatalog:$false -CreateDnsDelegation:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"CDC\"{\n      Install-ADDSDomain -NoGlobalCatalog:$false -CreateDnsDelegation:$true -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainType \"ChildDomain\" -InstallDns:$true -LogPath $LogPath -NewDomainName $ChildDomainName -NewDomainNetbiosName $ChildDomainName.ToUpper() -ParentDomainName $DomainName -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"RODC\"{\n      Install-ADDSDomainController -AllowPasswordReplicationAccountName @(\"$netbios\\Allowed RODC Password Replication Group\") -NoGlobalCatalog:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DenyPasswordReplicationAccountName @(\"BUILTIN\\Administrators\", \"BUILTIN\\Server Operators\", \"BUILTIN\\Backup Operators\", \"BUILTIN\\Account Operators\", \"$netbios\\Denied RODC Password Replication Group\") -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -ReadOnlyReplica:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    default{\n      Write-Output \"Invalid DomainType\"\n    }\n}\n}\n# -*- Checks whether server has DHCP IP or Static IP.\n# -*- If DHCP it gets IP Details and sets them statically.\nif ($(Get-WmiObject -Class Win32_NetworkAdapterConfiguration -Filter IPEnabled=TRUE).DHCPEnabled){\n  $IPType, $IPv4Address, $Prefix, $Gateway, $DNS = Get-ServerIPAddress\n  if (\"DC\" -eq \"DC\"){\n    $DNS = \"127.0.0.1\"\n  }\n  if (($IPType -eq $Null) -or ($IPv4Address -eq $Null) -or ($Prefix -eq $Null) -or ($Gateway -eq $Null)){\n    Write-Output \"Please pass ipaddress, prefix and gateway address.\"\n  }\n  else{\n    Set-StaticIpAddress \"Ethernet\" $IPType $IPv4Address $Prefix $Gateway $DNS\n  }\n}\nelse{\n  Write-Output \"Static IP Is already set\"\n}\n\nif (Check-ActiveDirectoryFeature){\n  Write-Output \"Active Directory already installed.\"\n}\nelse{\n  Install-ActiveDirectory\n}\n\nif (Check-DomainExistance){\n  Write-Output \"Domain exists already.\"\n}\nelse{\n  $MajorOSVersion= [string](Get-WmiObject Win32_OperatingSystem | Select-Object @{n=\"Major\";e={($_.Version.Split(\".\")[0]+\".\"+$_.Version.Split(\".\")[1])}}).Major\n  if ($MajorOSVersion -eq $WS2012R2_MAJOR){\n    $DomainMode = \"Win2012R2\"\n  }elseif ($MajorOSVersion -eq $WS2016_MAJOR){\n    $DomainMode = \"WinThreshold\"\n  }\n  Configure-ActiveDirectory -DomainName \"@@{DOMAIN}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -DomainMode $DomainMode -ForestMode $DomainMode -DomainType \"@@{DOMAIN_TYPE}@@\" -ChildDomainName \"@@{CHILD_DOMAIN}@@\"\n}\n\nStart-Sleep -Seconds 5\nStart-Process -FilePath \"shutdown.exe\" -ArgumentList (\"/r\", \"/t\", \"5\")\nexit 0",
                                        "script_type": "npsscript",
                                        "type": "",
                                        "command_line_args": "",
                                        "login_credential_local_reference": {
                                            "kind": "app_credential",
                                            "name": "LOCAL"
                                        }
                                    },
                                    "timeout_secs": "0",
                                    "type": "EXEC",
                                    "variable_list": []
                                },
                                {
                                    "target_any_local_reference": {
                                        "kind": "app_service",
                                        "name": "AD_DNS_DHCP_SERVICES"
                                    },
                                    "retries": "0",
                                    "description": "",
                                    "child_tasks_local_reference_list": [],
                                    "name": "Wait for VM to Install AD",
                                    "attrs": {
                                        "script": "#script\nsleep(90)",
                                        "type": "",
                                        "command_line_args": "",
                                        "exit_status": [],
                                        "script_type": "static"
                                    },
                                    "timeout_secs": "0",
                                    "type": "EXEC",
                                    "variable_list": []
                                },
                                {
                                    "target_any_local_reference": {
                                        "kind": "app_service",
                                        "name": "AD_DNS_DHCP_SERVICES"
                                    },
                                    "retries": "0",
                                    "description": "",
                                    "child_tasks_local_reference_list": [],
                                    "name": "Open Firewall Ports",
                                    "attrs": {
                                        "exit_status": [],
                                        "script": "New-NetFirewallRule -DisplayName \"AD\" -Direction Inbound -Protocol UDP -LocalPort 389 -Action allow\nNew-NetFirewallRule -DisplayName \"DNS TCP\" -Direction Inbound -Protocol TCP -LocalPort 53 -Action allow\nNew-NetFirewallRule -DisplayName \"DNS UDP\" -Direction Inbound -Protocol UDP -LocalPort 53 -Action allow\nNew-NetFirewallRule -DisplayName \"GC TCP\" -Direction Inbound -Protocol TCP -LocalPort 3268 -Action allow\nNew-NetFirewallRule -DisplayName \"GC UDP\" -Direction Inbound -Protocol UDP -LocalPort 3269 -Action allow\nNew-NetFirewallRule -DisplayName \"SYSVOL TCP\" -Direction Inbound -Protocol TCP -LocalPort 139 -Action allow\nNew-NetFirewallRule -DisplayName \"SYSVOL UDP\" -Direction Inbound -Protocol UDP -LocalPort 138 -Action allow\nNew-NetFirewallRule -DisplayName \"KERBROS UDP\" -Direction Inbound -Protocol UDP -LocalPort 88 -Action allow\nNew-NetFirewallRule -DisplayName \"AD COM TCP\" -Direction Inbound -Protocol TCP -LocalPort 135 -Action allow\nNew-NetFirewallRule -DisplayName \"AD COM UDP\" -Direction Inbound -Protocol UDP -LocalPort 135 -Action allow\nNew-NetFirewallRule -DisplayName \"KERBROS PW CHANGE TCP\" -Direction Inbound -Protocol TCP -LocalPort 464 -Action allow\nNew-NetFirewallRule -DisplayName \"KERBROS PW CHANGE UDP\" -Direction Inbound -Protocol UDP -LocalPort 464 -Action allow",
                                        "script_type": "npsscript",
                                        "type": "",
                                        "command_line_args": "",
                                        "login_credential_local_reference": {
                                            "kind": "app_credential",
                                            "name": "LOCAL"
                                        }
                                    },
                                    "timeout_secs": "0",
                                    "type": "EXEC",
                                    "variable_list": []
                                },
                                {
                                    "target_any_local_reference": {
                                        "kind": "app_service",
                                        "name": "AD_DNS_DHCP_SERVICES"
                                    },
                                    "retries": "0",
                                    "description": "",
                                    "child_tasks_local_reference_list": [],
                                    "name": "Install DHCP",
                                    "attrs": {
                                        "exit_status": [],
                                        "script": "Install-WindowsFeature -Name 'DHCP' IncludeManagementTools\n",
                                        "script_type": "npsscript",
                                        "type": "",
                                        "command_line_args": "",
                                        "login_credential_local_reference": {
                                            "kind": "app_credential",
                                            "name": "DOMAIN_CRED"
                                        }
                                    },
                                    "timeout_secs": "0",
                                    "type": "EXEC",
                                    "variable_list": []
                                }
                            ],
                            "description": "",
                            "name": "5c108f0d_runbook",
                            "main_task_local_reference": {
                                "kind": "app_task",
                                "name": "80dbbb84_dag"
                            },
                            "variable_list": []
                        },
                        "type": "",
                        "uninstall_runbook": {
                            "task_definition_list": [
                                {
                                    "target_any_local_reference": {
                                        "kind": "app_package",
                                        "name": "Active_Directory_Package"
                                    },
                                    "retries": "0",
                                    "description": "",
                                    "child_tasks_local_reference_list": [],
                                    "name": "6f292b4a_dag",
                                    "attrs": {
                                        "edges": [],
                                        "type": ""
                                    },
                                    "timeout_secs": "0",
                                    "type": "DAG",
                                    "variable_list": []
                                }
                            ],
                            "description": "",
                            "name": "1f35f88e_runbook",
                            "main_task_local_reference": {
                                "kind": "app_task",
                                "name": "6f292b4a_dag"
                            },
                            "variable_list": []
                        }
                    },
                    "variable_list": []
                }
            ],
            "app_profile_list": [
                {
                    "deployment_create_list": [
                        {
                            "type": "GREENFIELD",
                            "action_list": [],
                            "name": "1bd2d70a_deployment",
                            "min_replicas": "1",
                            "default_replicas": "1",
                            "depends_on_list": [],
                            "published_service_local_reference_list": [],
                            "max_replicas": "1",
                            "package_local_reference_list": [
                                {
                                    "kind": "app_package",
                                    "name": "Active_Directory_Package"
                                }
                            ],
                            "substrate_local_reference": {
                                "kind": "app_substrate",
                                "name": "AD_DNS_DHCP_SERVER"
                            },
                            "variable_list": [],
                            "description": ""
                        }
                    ],
                    "description": "",
                    "action_list": [],
                    "name": "Nutanix",
                    "variable_list": [
                        {
                            "val_type": "STRING",
                            "is_mandatory": false,
                            "description": "Ex:- google.com",
                            "data_type": "BASE",
                            "type": "LOCAL",
                            "name": "DOMAIN",
                            "value": "contoso.com",
                            "label": "",
                            "attrs": {
                                "type": ""
                            },
                            "editables": {
                                "value": true
                            },
                            "is_hidden": false
                        },
                        {
                            "val_type": "STRING",
                            "is_mandatory": false,
                            "description": "DC,ADC,CDC or RODC",
                            "data_type": "BASE",
                            "type": "LOCAL",
                            "name": "DOMAIN_TYPE",
                            "value": "DC",
                            "label": "",
                            "attrs": {
                                "type": ""
                            },
                            "editables": {
                                "value": true
                            },
                            "is_hidden": false
                        },
                        {
                            "val_type": "STRING",
                            "is_mandatory": false,
                            "description": "Example:- yahoo.com is your main domain then your sub domain will be mail.yahoo.com.",
                            "data_type": "BASE",
                            "type": "LOCAL",
                            "name": "CHILD_DOMAIN",
                            "value": "",
                            "label": "",
                            "attrs": {
                                "type": ""
                            },
                            "editables": {
                                "value": true
                            },
                            "is_hidden": false,
                            "options": {
                                "type": "PREDEFINED",
                                "choices": []
                            }
                        },
                        {
                            "val_type": "STRING",
                            "is_mandatory": false,
                            "description": "Hostname name/ VM name of the server",
                            "data_type": "BASE",
                            "type": "LOCAL",
                            "name": "VMNAME",
                            "value": "AD_DNS_DHCP",
                            "label": "",
                            "attrs": {
                                "type": ""
                            },
                            "editables": {
                                "value": true
                            },
                            "is_hidden": false,
                            "options": {
                                "type": "PREDEFINED",
                                "choices": []
                            }
                        }
                    ]
                }
            ],
            "published_service_definition_list": [],
            "default_credential_local_reference": {
                "kind": "app_credential",
                "name": "LOCAL"
            },
            "type": "USER"
        },
        "name": "AD-DNS-DHCP"
    },
    "api_version": "3.0",
    "metadata": {
        "last_update_time": "1601962986743423",
        "kind": "blueprint",
        "spec_version": 18,
        "creation_time": "1599729916547005",
        "name": "AD-DNS-DHCP"
    }
}